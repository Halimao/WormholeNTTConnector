import{bO as Ju,az as Zu,aC as bt,aG as Xu,a_ as ed,bP as ve,b3 as td,bQ as _s,b1 as nd,b7 as rd,aL as Ya,_ as id,bR as sd,bS as Wt}from"./index-BGLdF6jF.js";import{q as vt,a as x,Q as Mt,h as k,b as _e,c as dt,U as we,M as Mi,d as pe,Y as ge,F as Ii,$ as Ni,e as xi,_ as he,W as S,t as ke,B as Me,S as Ce,X as qn,i as ad,o as od,f as cd,g as Ve,D as ld,j as De,k as It,n as Or,w as Ht,m as Ze,p as ud,r as dd,s as fd,J as hd,u as Ms,v as pd}from"./chunk-KJH4KKG6-CCerRpgp-CDfUDjNe.js";import{m as gd}from"./wallets-B2tqS5lZ-CMHWyddi.js";import"./index-wFZO7Yy8-CgrhUj91.js";import"./index-CuHybtft-BXlf5Z1L.js";var yd=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},wd=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},Sn;function md(e){const t=({register:n})=>n(e);try{window.dispatchEvent(new Ad(t))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>t(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class Ad extends Event{get detail(){return yd(this,Sn,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Sn.set(this,void 0),wd(this,Sn,t)}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Sn=new WeakMap;var Ja={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),y=n?n+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},a.prototype.listeners=function(c){var l=n?n+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,h=new Array(f);d<f;d++)h[d]=u[d].fn;return h},a.prototype.listenerCount=function(c){var l=n?n+c:c,u=this._events[l];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,l,u,d,f,h){var y=n?n+c:c;if(!this._events[y])return!1;var p=this._events[y],z=arguments.length,E,v;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),z){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,l),!0;case 3:return p.fn.call(p.context,l,u),!0;case 4:return p.fn.call(p.context,l,u,d),!0;case 5:return p.fn.call(p.context,l,u,d,f),!0;case 6:return p.fn.call(p.context,l,u,d,f,h),!0}for(v=1,E=new Array(z-1);v<z;v++)E[v-1]=arguments[v];p.fn.apply(p.context,E)}else{var T=p.length,M;for(v=0;v<T;v++)switch(p[v].once&&this.removeListener(c,p[v].fn,void 0,!0),z){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,l);break;case 3:p[v].fn.call(p[v].context,l,u);break;case 4:p[v].fn.call(p[v].context,l,u,d);break;default:if(!E)for(M=1,E=new Array(z-1);M<z;M++)E[M-1]=arguments[M];p[v].fn.apply(p[v].context,E)}}return!0},a.prototype.on=function(c,l,u){return o(this,c,l,u,!1)},a.prototype.once=function(c,l,u){return o(this,c,l,u,!0)},a.prototype.removeListener=function(c,l,u,d){var f=n?n+c:c;if(!this._events[f])return this;if(!l)return s(this,f),this;var h=this._events[f];if(h.fn)h.fn===l&&(!d||h.once)&&(!u||h.context===u)&&s(this,f);else{for(var y=0,p=[],z=h.length;y<z;y++)(h[y].fn!==l||d&&!h[y].once||u&&h[y].context!==u)&&p.push(h[y]);p.length?this._events[f]=p.length===1?p[0]:p:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var l;return c?(l=n?n+c:c,this._events[l]&&s(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Ja);var bd=Ja.exports;const vd=Ya(bd);var Za="aptos:signAndSubmitTransaction",Xa="aptos:signIn",eo="aptos:signMessage",to="aptos:signTransaction",no="aptos:connect",ro="aptos:disconnect",io="aptos:account",so="aptos:network",ao="aptos:onAccountChange",oo="aptos:onNetworkChange",nt=class co extends ld{constructor({address:t,publicKey:n,ansName:r}){super(),this.address=x.from(t),this.publicKey=n,this.ansName=r}serialize(t){if(this.address.serialize(t),this.publicKey instanceof he)t.serializeU32AsUleb128(S.Ed25519);else if(this.publicKey instanceof ke)t.serializeU32AsUleb128(S.MultiEd25519);else if(this.publicKey instanceof Me)t.serializeU32AsUleb128(S.SingleKey);else if(this.publicKey instanceof Ce)t.serializeU32AsUleb128(S.MultiKey);else throw new Error("Unsupported public key");this.publicKey.serialize(t),t.serializeStr(this.ansName??"")}static deserialize(t){let n=x.deserialize(t),r=t.deserializeUleb128AsU32(),i;switch(r){case S.Ed25519:i=he.deserialize(t);break;case S.MultiEd25519:i=ke.deserialize(t);break;case S.SingleKey:i=Me.deserialize(t);break;case S.MultiKey:i=Ce.deserialize(t);break;default:throw new Error(`Unknown variant index for WrappedPublicKey: ${r}`)}let o=t.deserializeStr()||void 0;return new co({address:n,publicKey:i,ansName:o})}},zd="aptos:devnet",Ud="aptos:testnet",Sd="aptos:localnet",Ed="aptos:mainnet",Qn=[zd,Ud,Sd,Ed],Td=["aptos:account","aptos:connect","aptos:disconnect","aptos:network","aptos:onAccountChange","aptos:onNetworkChange","aptos:signMessage","aptos:signTransaction"];function jr(e,t=[]){return[...Td,...t].every(n=>n in e.features)}function pr(){let{get:e,on:t}=gd(),n=e(),r=[];return n.map(i=>{jr(i)&&r.push(i)}),{aptosWallets:r,on:t}}var Rt=(e=>(e[e.Unauthorized=4100]="Unauthorized",e[e.Unsupported=4200]="Unsupported",e[e.InternalError=-30001]="InternalError",e))(Rt||{}),Is=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."},4200:{status:"Unsupported",message:"The requested feature is not supported."}}),bn=class lo extends Error{constructor(t,n){var r,i;super(n??((r=Is[t])==null?void 0:r.message)??"Unknown error occurred"),this.code=t,this.status=((i=Is[t])==null?void 0:i.status)??"Unknown error",this.name="AptosWalletError",Object.setPrototypeOf(this,lo.prototype)}},D=(e=>(e.APPROVED="Approved",e.REJECTED="Rejected",e))(D||{}),uo={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n(Ju):t.ed2curve=n(t.nacl)})(Zu,function(t){if(!t)throw new Error("tweetnacl not loaded");var n=function(A){var b,m=new Float64Array(16);if(A)for(b=0;b<A.length;b++)m[b]=A[b];return m},r=n(),i=n([1]),o=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function a(A){var b,m;for(m=0;m<16;m++)A[m]+=65536,b=Math.floor(A[m]/65536),A[(m+1)*(m<15?1:0)]+=b-1+37*(b-1)*(m===15?1:0),A[m]-=b*65536}function c(A,b,m){for(var w,j=~(m-1),_=0;_<16;_++)w=j&(A[_]^b[_]),A[_]^=w,b[_]^=w}function l(A,b){var m;for(m=0;m<16;m++)A[m]=b[2*m]+(b[2*m+1]<<8);A[15]&=32767}function u(A,b,m){var w;for(w=0;w<16;w++)A[w]=b[w]+m[w]|0}function d(A,b,m){var w;for(w=0;w<16;w++)A[w]=b[w]-m[w]|0}function f(A,b,m){var w,j,_=new Float64Array(31);for(w=0;w<31;w++)_[w]=0;for(w=0;w<16;w++)for(j=0;j<16;j++)_[w+j]+=b[w]*m[j];for(w=0;w<15;w++)_[w]+=38*_[w+16];for(w=0;w<16;w++)A[w]=_[w];a(A),a(A)}function h(A,b){f(A,b,b)}function y(A,b){var m=n(),w;for(w=0;w<16;w++)m[w]=b[w];for(w=253;w>=0;w--)h(m,m),w!==2&&w!==4&&f(m,m,b);for(w=0;w<16;w++)A[w]=m[w]}function p(A,b){var m,w,j,_=n(),J=n();for(m=0;m<16;m++)J[m]=b[m];for(a(J),a(J),a(J),w=0;w<2;w++){for(_[0]=J[0]-65517,m=1;m<15;m++)_[m]=J[m]-65535-(_[m-1]>>16&1),_[m-1]&=65535;_[15]=J[15]-32767-(_[14]>>16&1),j=_[15]>>16&1,_[14]&=65535,c(J,_,1-j)}for(m=0;m<16;m++)A[2*m]=J[m]&255,A[2*m+1]=J[m]>>8}function z(A){var b=new Uint8Array(32);return p(b,A),b[0]&1}function E(A,b,m,w,j){var _,J=0;for(_=0;_<j;_++)J|=A[b+_]^m[w+_];return(1&J-1>>>8)-1}function v(A,b,m,w){return E(A,b,m,w,32)}function T(A,b){var m=new Uint8Array(32),w=new Uint8Array(32);return p(m,A),p(w,b),v(m,0,w,0)}function M(A,b){var m=n(),w;for(w=0;w<16;w++)m[w]=b[w];for(w=250;w>=0;w--)h(m,m),w!==1&&f(m,m,b);for(w=0;w<16;w++)A[w]=m[w]}function L(A,b){var m;for(m=0;m<16;m++)A[m]=b[m]|0}function re(A,b){var m=n(),w=n(),j=n(),_=n(),J=n(),Es=n(),Ts=n();return L(A[2],i),l(A[1],b),h(j,A[1]),f(_,j,o),d(j,j,A[2]),u(_,A[2],_),h(J,_),h(Es,J),f(Ts,Es,J),f(m,Ts,j),f(m,m,_),M(m,m),f(m,m,j),f(m,m,_),f(m,m,_),f(A[0],m,_),h(w,A[0]),f(w,w,_),T(w,j)&&f(A[0],A[0],s),h(w,A[0]),f(w,w,_),T(w,j)?-1:(z(A[0])===b[31]>>7&&d(A[0],r,A[0]),f(A[3],A[0],A[1]),0)}function fe(A){var b=new Uint8Array(32),m=[n(),n(),n(),n()],w=n(),j=n();if(re(m,A))return null;var _=m[1];return u(w,i,_),d(j,i,_),y(j,j),f(w,w,j),p(b,w),b}function H(A){var b=new Uint8Array(64),m=new Uint8Array(32),w;for(t.lowlevel.crypto_hash(b,A,32),b[0]&=248,b[31]&=127,b[31]|=64,w=0;w<32;w++)m[w]=b[w];for(w=0;w<64;w++)b[w]=0;return m}function P(A){var b=fe(A.publicKey);return b?{publicKey:b,secretKey:H(A.secretKey)}:null}return{convertPublicKey:fe,convertSecretKey:H,convertKeyPair:P}})})(uo);var _d=uo.exports;const fo=Ya(_d);function Md(e){const t=atob(e);return Uint8Array.from(t,n=>n.charCodeAt(0))}function Id(e){const t=String.fromCharCode(...e);return btoa(t)}function Nd(e){switch(e){case _e.mainnet:return k.MAINNET;case _e.testnet:return k.TESTNET;default:return k.DEVNET}}function rt(e){return[k.MAINNET,k.TESTNET,k.DEVNET].includes(e)}function xd(e,t){e.serialize(t.address),e.serialize(t.authenticator)}function kd(e){const t=e.deserialize(x),n=e.deserialize(dt);return{address:t,authenticator:n}}function ki(e,t){if(t instanceof he)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof ke)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Me)e.serializeU32AsUleb128(S.SingleKey);else if(t instanceof Ce)e.serializeU32AsUleb128(S.MultiKey);else throw new Error("Unexpected public key type");e.serialize(t)}function Ci(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(he);case S.MultiEd25519:return e.deserialize(ke);case S.SingleKey:return e.deserialize(Me);case S.MultiKey:return e.deserialize(Ce);default:throw new Error(`Unknown signing scheme: ${t}`)}}function Ln(e,t){e.serialize(t.address),ki(e,t.publicKey),e.serializeStr(t.name??"")}function Di(e){const t=e.deserialize(x),n=Ci(e),r=e.deserializeStr();return{address:t,publicKey:n,...r.length>0?{name:r}:void 0}}function gr(e,t){e.serialize(t.address),e.serializeBool(t.publicKey!==void 0),t.publicKey&&ki(e,t.publicKey)}function yr(e){const t=e.deserialize(x),n=e.deserializeBool()?Ci(e):void 0;return{address:t,publicKey:n}}function ho(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(t.imageURI!==void 0),t.imageURI!==void 0&&e.serializeStr(t.imageURI)}function po(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBool()?e.deserializeStr():void 0;return{domain:t,imageURI:r,name:n}}function Br(e,t){if(t==null){e.serializeU32AsUleb128(0);return}if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)Br(e,n);return}if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"){e.serializeU32AsUleb128(2),e.serializeStr(t.toString());return}if(t instanceof Uint8Array){e.serializeU32AsUleb128(3),e.serializeBytes(t);return}if(t instanceof ArrayBuffer){e.serializeU32AsUleb128(3),e.serializeBytes(new Uint8Array(t));return}if("values"in t){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)Br(e,n);return}if("data"in t){e.serializeU32AsUleb128(4),e.serialize(t);return}if(t.value===void 0){e.serializeU32AsUleb128(0),e.serialize(t);return}if(t.value instanceof Uint8Array){e.serializeU32AsUleb128(5),e.serializeBytes(t.value);return}e.serializeU32AsUleb128(2),e.serializeStr(t.value.toString())}function go(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=go(e);n.push(i)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(x);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new xi(t)}default:throw new Error("Unexpected variant")}}function yo(e,t){if(t instanceof De)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof It)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Ve)e.serializeU32AsUleb128(S.SingleKey);else throw new Error("Unexpected signature type");e.serialize(t)}function wo(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(De);case S.MultiEd25519:return e.deserialize(It);case S.SingleKey:return e.deserialize(Ve);default:throw new Error(`Unknown signing scheme: ${t}`)}}function wr(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const r=typeof n=="string"?Ii(n,{allowGenerics:!0}):n;e.serialize(r)}}function mr(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const i=e.deserialize(Ni);t.push(i)}return t}function Ns(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Br(e,n)}function xs(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=go(e);n.push(i)}return n}function mo(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),Ns(e,t.functionArguments),wr(e,t.typeArguments??[]);const n=x.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),Ns(e,t.functionArguments),wr(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);const n=we.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);wr(e,t.typeArguments??[])}}function Ao(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=xs(e),r=mr(e),i=e.deserialize(x);return{function:t,functionArguments:n,multisigAddress:i,typeArguments:r}}case 0:{const t=e.deserializeStr(),n=xs(e),r=mr(e);return{function:t,functionArguments:n,typeArguments:r}}case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let o=0;o<n;o+=1){const s=Mi(e);r.push(s)}const i=mr(e);return{bytecode:t,functionArguments:r,typeArguments:i}}default:throw new Error("Unexpected variant")}}function Oi({dappInfo:e,name:t,version:n}){const r=new pe;return ho(r,e),{data:r.toUint8Array(),name:t,version:n}}function ji({data:e,name:t,version:n}){const r=new ge(e);return{dappInfo:po(r),name:t,version:n}}function en({args:e,dappInfo:t,name:n,version:r},i){const o=new pe;return ho(o,t),i(o,e),{data:o.toUint8Array(),name:n,version:r}}function tn({data:e,name:t,version:n},r){const i=new ge(e),o=po(i);return{args:r(i),dappInfo:o,name:t,version:n}}var ks;(e=>{e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(s,a){if(s.serializeOptionStr(a.dappId),s.serializeOptionStr(a.dappEd25519PublicKeyB64),s.serializeOptionStr(a.preferredWalletName),s.serializeBool(a.claimOptions!==void 0),a.claimOptions&&(s.serialize(a.claimOptions.secretKey),s.serializeStr(a.claimOptions.network),s.serializeOptionStr(a.claimOptions.asset),!rt(a.claimOptions.network)))throw new Error(`Unsupported network '${a.claimOptions.network}'`)}e.serializeArgs=t;function n(s,a){if(a===1)return{};const c=s.deserializeOption("string"),l=s.deserializeOption("string"),u=a>=3?s.deserializeOption("string"):void 0,d=a>=4?s.deserializeBool():!1;let f;if(d){const h=s.deserialize(vt),y=s.deserializeStr(),p=s.deserializeOption("string");if(!rt(y))throw new Error(`Unsupported network '${y}'`);f={asset:p,network:y,secretKey:h}}return{claimOptions:f,dappEd25519PublicKeyB64:l,dappId:c,preferredWalletName:u}}e.deserializeArgs=n;function r(s,a={}){return en({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return tn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(ks||(ks={}));function zt(e){return(t,n)=>{t.serializeBool(n.status==="approved"),n.status==="approved"&&e(t,n.args)}}function nn(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function qe(e,t){const n=new pe;return t(n,e),{data:n.toUint8Array()}}function Qe({data:e},t){const n=new ge(e);return{args:t(n)}}var Cs;(e=>{e.supportedVersions=[1,2],e.currentVersion=2;function t(l,u){Ln(l,u.account)}function n(l,u){Ln(l,u.account),l.serializeOptionStr(u.pairing!==void 0?JSON.stringify(u.pairing):void 0)}function r(l){const u=Di(l),d=l.deserializeOption("string"),f=d!==void 0?JSON.parse(d):void 0;return{account:u,pairing:f}}const i=zt(t),o=zt(n),s=nn(r);function a(l,u=e.currentVersion){return qe(l,u===1?i:o)}e.serialize=a;function c(l){return Qe(l,s)}e.deserialize=c})(Cs||(Cs={}));var Ds;(e=>{e.name="disconnect",e.currentVersion=1;function t(i){return Oi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return ji(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Ds||(Ds={}));var Os;(e=>{function t(r){return qe(r,()=>{})}e.serialize=t;function n(r){return Qe(r,()=>({}))}e.deserialize=n})(Os||(Os={}));function Cd(e,t){e.serializeStr(JSON.stringify(t))}function Dd(e){return JSON.parse(e.deserializeStr())}var js;(e=>{e.name="signIn",e.supportedVersions=[1],e.currentVersion=1;function t(s,a){if(a.network!==void 0&&!rt(a.network))throw new Error(`Unsupported network '${a.network}' in SignInRequest.serializeArgs`);Cd(s,a),s.serializeStr(a.network)}e.serializeArgs=t;function n(s,a){return{...Dd(s),network:s.deserializeStr()}}e.deserializeArgs=n;function r(s,a){return en({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return tn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(js||(js={}));function Od(e,t){Ln(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),yo(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}function jd(e){return{account:new nt(Di(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:wo(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}var Bs;(e=>{e.supportedVersions=[1],e.currentVersion=1;function t(a,c){Od(a,c)}function n(a){return jd(a)}const r=zt(t),i=nn(n);function o(a,c=e.currentVersion){return qe(a,r)}e.serialize=o;function s(a){return Qe(a,i)}e.deserialize=s})(Bs||(Bs={}));var Ls;(e=>{e.name="getConnectedAccounts",e.currentVersion=1;function t(i){return Oi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return ji(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Ls||(Ls={}));var Ps;(e=>{function t(o,s){o.serializeU32AsUleb128(s.length);for(const a of s)Ln(o,a)}function n(o){const s=o.deserializeUleb128AsU32(),a=[];for(let c=0;c<s;c+=1)a.push(Di(o));return a}function r(o){return qe(o,t)}e.serialize=r;function i(o){return Qe(o,n)}e.deserialize=i})(Ps||(Ps={}));var Rs;(e=>{e.name="isConnected",e.currentVersion=1;function t(i){return Oi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return ji(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Rs||(Rs={}));var Fs;(e=>{function t(o,s){o.serializeBool(s)}function n(o){return o.deserializeBool()}function r(o){return qe(o,t)}e.serialize=r;function i(o){return Qe(o,n)}e.deserialize=i})(Fs||(Fs={}));var Ks;(e=>{e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3;function t(s,a){if(a.network!==void 0&&!rt(a.network))throw new Error(`Unsupported network '${a.network}'`);s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeOptionStr(a.network),"bcsToBytes"in a.payload?(s.serializeBool(!0),s.serialize(a.payload)):(s.serializeBool(!1),mo(s,a.payload)),s.serializeU64(a.expirationTimestamp??0),s.serializeU32AsUleb128(a.gasUnitPrice??0),s.serializeU32AsUleb128(a.maxGasAmount??0),s.serializeU32AsUleb128(a.feePayer?1:0),a.feePayer&&xd(s,a.feePayer)}e.serializeArgs=t;function n(s,a){const c=a>=3&&s.deserializeBool()?s.deserialize(x):void 0,l=a===1?s.deserializeStr():s.deserializeOption("string");if(l!==void 0&&!rt(l))throw new Error(`Unsupported network '${l}'`);const u=a===1||s.deserializeBool()?s.deserialize(Mt):Ao(s),d=Number(s.deserializeU64()),f=s.deserializeUleb128AsU32(),h=s.deserializeUleb128AsU32(),y=s.deserializeUleb128AsU32()?kd(s):void 0;return{expirationTimestamp:d>0?d:void 0,feePayer:y,gasUnitPrice:f>0?f:void 0,maxGasAmount:h>0?h:void 0,network:l,payload:u,signerAddress:c}}e.deserializeArgs=n;function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return en(c,t)}e.serialize=r;function i(s){return tn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(Ks||(Ks={}));var Ws;(e=>{function t(a,c){a.serializeStr(c.txnHash)}function n(a){return{txnHash:a.deserializeStr()}}const r=zt(t),i=nn(n);function o(a){return qe(a,r)}e.serialize=o;function s(a){return Qe(a,i)}e.deserialize=s})(Ws||(Ws={}));var Hs;(e=>{e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2;function t(s,a){s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeU8(a.chainId),s.serializeBytes(a.nonce),s.serializeBytes(a.message)}function n(s,a){const c=a>=2&&s.deserializeBool()?s.deserialize(x):void 0,l=s.deserializeU8(),u=s.deserializeBytes(),d=s.deserializeBytes();return{chainId:l,message:d,nonce:u,signerAddress:c}}function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return en(c,t)}e.serialize=r;function i(s){return tn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&s.version===e.currentVersion}e.isSerialized=o})(Hs||(Hs={}));var Vs;(e=>{function t(a,c){a.serializeStr(c.fullMessage),yo(a,c.signature)}function n(a){const c=a.deserializeStr(),l=wo(a);return{fullMessage:c,signature:l}}const r=zt(t),i=nn(n);function o(a){return qe(a,r)}e.serialize=o;function s(a){return Qe(a,i)}e.deserialize=s})(Vs||(Vs={}));var qs;(e=>{e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(a){const{feePayer:c,secondarySigners:l,senderPublicKey:u,signerAddress:d,transaction:f}=a,h={address:f.sender,publicKey:u},y=Nd(a.transaction.chain_id.chainId);return{expirationTimestamp:Number(f.expiration_timestamp_secs),feePayer:c,gasUnitPrice:Number(f.gas_unit_price),maxGasAmount:Number(f.max_gas_amount),network:y,payload:f.payload,secondarySigners:l,sender:h,signerAddress:d}}e.normalizeArgs=t;function n(a,c){if(c.network!==void 0&&!rt(c.network))throw new Error(`Unsupported network '${c.network}'`);a.serializeBool(c.signerAddress!==void 0),c.signerAddress!==void 0&&a.serialize(c.signerAddress),a.serializeOptionStr(c.network),a.serializeBool(c.sender!==void 0),c.sender!==void 0&&gr(a,c.sender),"bcsToBytes"in c.payload?(a.serializeBool(!0),a.serialize(c.payload)):(a.serializeBool(!1),mo(a,c.payload)),a.serializeU32AsUleb128(c.expirationSecondsFromNow??0),a.serializeU64(c.expirationTimestamp??0),a.serializeU32AsUleb128(c.gasUnitPrice??0),a.serializeU32AsUleb128(c.maxGasAmount??0),a.serializeBool(c.feePayer!==void 0),c.feePayer!==void 0&&gr(a,c.feePayer);const l=c.secondarySigners??[];a.serializeU32AsUleb128(l.length);for(const u of l)gr(a,u)}function r(a,c){const l=c>=3&&a.deserializeBool()?a.deserialize(x):void 0,u=c===1?a.deserializeStr():a.deserializeOption("string");if(u!==void 0&&!rt(u))throw new Error(`Unsupported network '${u}'`);const d=a.deserializeBool()?yr(a):void 0,f=c<4||a.deserializeBool()?a.deserialize(Mt):Ao(a),h=a.deserializeUleb128AsU32(),y=Number(a.deserializeU64()),p=a.deserializeUleb128AsU32(),z=a.deserializeUleb128AsU32(),E=a.deserializeBool()?yr(a):void 0,v=a.deserializeUleb128AsU32(),T=[];for(let M=0;M<v;M+=1)T.push(yr(a));return{expirationSecondsFromNow:h>0?h:void 0,expirationTimestamp:y>0?y:void 0,feePayer:E,gasUnitPrice:p>0?p:void 0,maxGasAmount:z>0?z:void 0,network:u,payload:f,secondarySigners:T,sender:d,signerAddress:l}}function i(a,c){const l={args:c,dappInfo:a,name:e.name,version:e.currentVersion};return en(l,n)}e.serialize=i;function o(a){return tn(a,c=>r(c,a.version))}e.deserialize=o;function s(a){return a.name===e.name&&e.supportedVersions.includes(a.version)}e.isSerialized=s})(qs||(qs={}));var Qs;(e=>{function t(a,c){a.serialize(c.authenticator),a.serializeBool(c.rawTransaction!==void 0),c.rawTransaction!==void 0&&a.serialize(c.rawTransaction)}function n(a){const c=a.deserialize(dt),l=a.deserializeBool()?a.deserialize(qn):void 0;return{authenticator:c,rawTransaction:l}}const r=zt(t),i=nn(n);function o(a){return qe(a,r)}e.serialize=o;function s(a){return Qe(a,i)}e.deserialize=s})(Qs||(Qs={}));var bo=class extends Error{},Gn=class vo extends bo{constructor(t,n){super(t),this.field=n,this.name="EnvelopeMessageMismatchError",Object.setPrototypeOf(this,vo.prototype)}},Gs=class zo extends bo{constructor(t){super(t),this.name="DecryptionError",Object.setPrototypeOf(this,zo.prototype)}},me=(e=>(e.Ed25519PublicKey="Ed25519PublicKey",e.Ed25519SecretKey="Ed25519SecretKey",e.X25519PublicKey="X25519PublicKey",e.X25519SecretKey="X25519SecretKey",e))(me||{});function Bd(){return Rd(ve.box.keyPair())}function Ld(){return Pd(ve.sign.keyPair())}function X(e,t){return{key:e,type:t}}function Pd(e){return{publicKey:X(e.publicKey,"Ed25519PublicKey"),secretKey:X(e.secretKey,"Ed25519SecretKey")}}function Rd(e){return{publicKey:X(e.publicKey,"X25519PublicKey"),secretKey:X(e.secretKey,"X25519SecretKey")}}function ie(e){return globalThis.Buffer?new Uint8Array(bt.Buffer.from(e,"base64")):Uint8Array.from(atob(e),t=>t.codePointAt(0))}function xe(e){return globalThis.Buffer?bt.Buffer.from(e).toString("base64"):btoa(Array.from(e,t=>String.fromCodePoint(t)).join(""))}function Fd(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}var Kd="APTOS::IDENTITY_CONNECT";function Wd(e,t){const n=fo.convertPublicKey(e.key.slice(0,32));if(!n)throw new Error(`${t} is not a valid Ed25519 public key`);return X(n,"X25519PublicKey")}function Hd(e){const t=fo.convertSecretKey(e.key.slice(0,32));return X(t,"X25519SecretKey")}function Vd(e){return{nonceB64:xe(e.nonce),securedB64:xe(e.secured)}}function qd(e){return{nonce:ie(e.nonceB64),secured:ie(e.securedB64)}}function Qd(e,t,n){const r=ve.randomBytes(ve.box.nonceLength),i=new TextEncoder().encode(n),o=ve.box(i,r,t.key,e.key.slice(0,32));return{nonce:r,secured:o}}function Gd(e,t,n){const r=Wd(t,"receiver public key");return $d(e,r,n)}function $d(e,t,n){return Qd(e,t,JSON.stringify(n))}function Yd(e,t,n,r){let i;try{i=ve.box.open(n,r,e.key.slice(0,32),t.key.slice(0,32))}catch(o){throw new Gs(`Could not decrypt message: ${o.message}`)}if(!i)throw new Gs("Could not decrypt message");return new TextDecoder().decode(i)}function Jd(e,t,n,r){const i=Hd(t);return Zd(e,i,n,r)}function Zd(e,t,n,r){const i=Yd(e,t,n,r);return JSON.parse(i)}function Uo(e,t){const n=new Uint8Array(Wt(`${Kd}::${t}::`));return new Uint8Array(Wt(Fd(n,e)))}function Xd(e,t,n){return ve.sign.detached(Uo(e,n),t.key)}function ef(e,t,n,r){return n.verifySignature({message:Uo(e,r),signature:t})}var $s=["receiverEd25519PublicKeyB64","senderEd25519PublicKeyB64","senderX25519PublicKeyB64","sequence","timestampMillis"].sort();function So(e,t){const n=Object.keys(e).filter(r=>Object.keys(t).includes(r));if(n.length>0){const r=n[0];throw new Gn(`Field ${r} appears in both private and public message fields`,r)}}function Eo(e){const t=Object.keys(e).sort(),n=t.filter(i=>!$s.includes(i)),r=$s.filter(i=>!t.includes(i));if(n.length>0||r.length>0){let i=n.length>0?`extra(${n.join(", ")})`:"";const o=r.length>0?`missing(${r.join(", ")})`:"";throw i=i.length>0&&o.length>0?`${i}, `:i,new Gn(`PublicMessage metadata fields do not conform to spec: ${i}${o}`,"_metadata")}}function Ar(e,t,n,r,i,o){const s=Bd(),a=tf(t,n,r,s.publicKey);return Eo(a),So(o,i),nf(e,n,a,o,i,s)}function tf(e,t,n,r){return{receiverEd25519PublicKeyB64:xe(t.key),senderEd25519PublicKeyB64:xe(e.key),senderX25519PublicKeyB64:xe(r.key),sequence:n,timestampMillis:Date.now()}}function nf(e,t,n,r,i,o){const s=Gd(o.secretKey,t,r),a=Vd(s),c=ie(a.securedB64),l=JSON.stringify({...i,_metadata:n}),u=new TextEncoder().encode(l),d=rf(u,c,e);return{encryptedPrivateMessage:a,messageSignature:d,serializedPublicMessage:l}}function To(e,t){const n=Wt(e),r=Wt(t),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),Wt(i)}function rf(e,t,n){const r=To(e,t),i=Xd(r,n,"SECURED_ENVELOPE");return we.fromHexInput(i).toString()}function sf(e,t,n,r){const i=new De(we.fromHexInput(n).toUint8Array()),o=new he(r.key),s=To(e,t);if(!ef(s,i,o,"SECURED_ENVELOPE"))throw new Gn("Could not verify SecuredEnvelope signature","messageSignature")}function af(e,t,n){const{encryptedPrivateMessage:r,messageSignature:i,serializedPublicMessage:o}=n,s=JSON.parse(o),a=ie(r.securedB64),c=new TextEncoder().encode(o);sf(c,a,i,e);const l=xe(e.key),u=s._metadata.senderEd25519PublicKeyB64;if(l!==u)throw new Gn("senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey","senderPublicKey");const d=ie(s._metadata.senderX25519PublicKeyB64),f=X(d,"X25519PublicKey"),h=qd(r),y=Jd(f,t,h.secured,h.nonce);return Eo(s._metadata),So(y,s),{messageSignature:i,privateMessage:y,publicMessage:s}}function of(e){const t=new pe;return ki(t,e),Id(t.toUint8Array())}function _o(e){const t=Md(e),n=new ge(t);return Ci(n)}function cf(e){return new he(ie(e))}function Mo(e){switch(e){case _e.mainnet:return k.MAINNET;case _e.testnet:return k.TESTNET;default:return k.DEVNET}}function it(e){return[k.MAINNET,k.TESTNET,k.DEVNET].includes(e)}function lf(e,t){e.serialize(t.address),e.serialize(t.authenticator)}function uf(e){const t=e.deserialize(x),n=e.deserialize(dt);return{address:t,authenticator:n}}function Io(e,t){if(t instanceof he)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof ke)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Me)e.serializeU32AsUleb128(S.SingleKey);else if(t instanceof Ce)e.serializeU32AsUleb128(S.MultiKey);else throw new Error("Unexpected public key type");e.serialize(t)}function No(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(he);case S.MultiEd25519:return e.deserialize(ke);case S.SingleKey:return e.deserialize(Me);case S.MultiKey:return e.deserialize(Ce);default:throw new Error(`Unknown signing scheme: ${t}`)}}function Pn(e,t){e.serialize(t.address),Io(e,t.publicKey),e.serializeStr(t.name??"")}function Bi(e){const t=e.deserialize(x),n=No(e),r=e.deserializeStr();return{address:t,publicKey:n,...r.length>0?{name:r}:void 0}}function br(e,t){e.serialize(t.address),e.serializeBool(t.publicKey!==void 0),t.publicKey&&Io(e,t.publicKey)}function vr(e){const t=e.deserialize(x),n=e.deserializeBool()?No(e):void 0;return{address:t,publicKey:n}}function xo(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(t.imageURI!==void 0),t.imageURI!==void 0&&e.serializeStr(t.imageURI)}function ko(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBool()?e.deserializeStr():void 0;return{domain:t,imageURI:r,name:n}}function Lr(e,t){if(t==null){e.serializeU32AsUleb128(0);return}if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)Lr(e,n);return}if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"){e.serializeU32AsUleb128(2),e.serializeStr(t.toString());return}if(t instanceof Uint8Array){e.serializeU32AsUleb128(3),e.serializeBytes(t);return}if(t instanceof ArrayBuffer){e.serializeU32AsUleb128(3),e.serializeBytes(new Uint8Array(t));return}if("values"in t){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)Lr(e,n);return}if("data"in t){e.serializeU32AsUleb128(4),e.serialize(t);return}if(t.value===void 0){e.serializeU32AsUleb128(0),e.serialize(t);return}if(t.value instanceof Uint8Array){e.serializeU32AsUleb128(5),e.serializeBytes(t.value);return}e.serializeU32AsUleb128(2),e.serializeStr(t.value.toString())}function Co(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=Co(e);n.push(i)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(x);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new xi(t)}default:throw new Error("Unexpected variant")}}function Do(e,t){if(t instanceof De)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof It)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Ve)e.serializeU32AsUleb128(S.SingleKey);else throw new Error("Unexpected signature type");e.serialize(t)}function Oo(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(De);case S.MultiEd25519:return e.deserialize(It);case S.SingleKey:return e.deserialize(Ve);default:throw new Error(`Unknown signing scheme: ${t}`)}}function zr(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const r=typeof n=="string"?Ii(n,{allowGenerics:!0}):n;e.serialize(r)}}function Ur(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const i=e.deserialize(Ni);t.push(i)}return t}function Ys(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Lr(e,n)}function Js(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=Co(e);n.push(i)}return n}function jo(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),Ys(e,t.functionArguments),zr(e,t.typeArguments??[]);const n=x.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),Ys(e,t.functionArguments),zr(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);const n=we.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);zr(e,t.typeArguments??[])}}function Bo(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=Js(e),r=Ur(e),i=e.deserialize(x);return{function:t,functionArguments:n,multisigAddress:i,typeArguments:r}}case 0:{const t=e.deserializeStr(),n=Js(e),r=Ur(e);return{function:t,functionArguments:n,typeArguments:r}}case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let o=0;o<n;o+=1){const s=Mi(e);r.push(s)}const i=Ur(e);return{bytecode:t,functionArguments:r,typeArguments:i}}default:throw new Error("Unexpected variant")}}function Li({dappInfo:e,name:t,version:n}){const r=new pe;return xo(r,e),{data:r.toUint8Array(),name:t,version:n}}function Pi({data:e,name:t,version:n}){const r=new ge(e);return{dappInfo:ko(r),name:t,version:n}}function rn({args:e,dappInfo:t,name:n,version:r},i){const o=new pe;return xo(o,t),i(o,e),{data:o.toUint8Array(),name:n,version:r}}function sn({data:e,name:t,version:n},r){const i=new ge(e),o=ko(i);return{args:r(i),dappInfo:o,name:t,version:n}}var Pr;(e=>{e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(s,a){if(s.serializeOptionStr(a.dappId),s.serializeOptionStr(a.dappEd25519PublicKeyB64),s.serializeOptionStr(a.preferredWalletName),s.serializeBool(a.claimOptions!==void 0),a.claimOptions&&(s.serialize(a.claimOptions.secretKey),s.serializeStr(a.claimOptions.network),s.serializeOptionStr(a.claimOptions.asset),!it(a.claimOptions.network)))throw new Error(`Unsupported network '${a.claimOptions.network}'`)}e.serializeArgs=t;function n(s,a){if(a===1)return{};const c=s.deserializeOption("string"),l=s.deserializeOption("string"),u=a>=3?s.deserializeOption("string"):void 0,d=a>=4?s.deserializeBool():!1;let f;if(d){const h=s.deserialize(vt),y=s.deserializeStr(),p=s.deserializeOption("string");if(!it(y))throw new Error(`Unsupported network '${y}'`);f={asset:p,network:y,secretKey:h}}return{claimOptions:f,dappEd25519PublicKeyB64:l,dappId:c,preferredWalletName:u}}e.deserializeArgs=n;function r(s,a={}){return rn({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return sn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(Pr||(Pr={}));function vn(e){return{args:e,status:"approved"}}function Ut(e){return(t,n)=>{t.serializeBool(n.status==="approved"),n.status==="approved"&&e(t,n.args)}}function an(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function Ge(e,t){const n=new pe;return t(n,e),{data:n.toUint8Array()}}function $e({data:e},t){const n=new ge(e);return{args:t(n)}}var Rr;(e=>{e.supportedVersions=[1,2],e.currentVersion=2;function t(l,u){Pn(l,u.account)}function n(l,u){Pn(l,u.account),l.serializeOptionStr(u.pairing!==void 0?JSON.stringify(u.pairing):void 0)}function r(l){const u=Bi(l),d=l.deserializeOption("string"),f=d!==void 0?JSON.parse(d):void 0;return{account:u,pairing:f}}const i=Ut(t),o=Ut(n),s=an(r);function a(l,u=e.currentVersion){return Ge(l,u===1?i:o)}e.serialize=a;function c(l){return $e(l,s)}e.deserialize=c})(Rr||(Rr={}));var Fr;(e=>{e.name="disconnect",e.currentVersion=1;function t(i){return Li({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Pi(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Fr||(Fr={}));var Zs;(e=>{function t(r){return Ge(r,()=>{})}e.serialize=t;function n(r){return $e(r,()=>({}))}e.deserialize=n})(Zs||(Zs={}));function df(e,t){e.serializeStr(JSON.stringify(t))}function ff(e){return JSON.parse(e.deserializeStr())}var Kr;(e=>{e.name="signIn",e.supportedVersions=[1],e.currentVersion=1;function t(s,a){if(a.network!==void 0&&!it(a.network))throw new Error(`Unsupported network '${a.network}' in SignInRequest.serializeArgs`);df(s,a),s.serializeStr(a.network)}e.serializeArgs=t;function n(s,a){return{...ff(s),network:s.deserializeStr()}}e.deserializeArgs=n;function r(s,a){return rn({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return sn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(Kr||(Kr={}));function hf(e,t){Pn(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),Do(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}function pf(e){return{account:new nt(Bi(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:Oo(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}var Wr;(e=>{e.supportedVersions=[1],e.currentVersion=1;function t(a,c){hf(a,c)}function n(a){return pf(a)}const r=Ut(t),i=an(n);function o(a,c=e.currentVersion){return Ge(a,r)}e.serialize=o;function s(a){return $e(a,i)}e.deserialize=s})(Wr||(Wr={}));var Hr;(e=>{e.name="getConnectedAccounts",e.currentVersion=1;function t(i){return Li({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Pi(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Hr||(Hr={}));var Vr;(e=>{function t(o,s){o.serializeU32AsUleb128(s.length);for(const a of s)Pn(o,a)}function n(o){const s=o.deserializeUleb128AsU32(),a=[];for(let c=0;c<s;c+=1)a.push(Bi(o));return a}function r(o){return Ge(o,t)}e.serialize=r;function i(o){return $e(o,n)}e.deserialize=i})(Vr||(Vr={}));var Xs;(e=>{e.name="isConnected",e.currentVersion=1;function t(i){return Li({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Pi(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Xs||(Xs={}));var ea;(e=>{function t(o,s){o.serializeBool(s)}function n(o){return o.deserializeBool()}function r(o){return Ge(o,t)}e.serialize=r;function i(o){return $e(o,n)}e.deserialize=i})(ea||(ea={}));var qr;(e=>{e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3;function t(s,a){if(a.network!==void 0&&!it(a.network))throw new Error(`Unsupported network '${a.network}'`);s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeOptionStr(a.network),"bcsToBytes"in a.payload?(s.serializeBool(!0),s.serialize(a.payload)):(s.serializeBool(!1),jo(s,a.payload)),s.serializeU64(a.expirationTimestamp??0),s.serializeU32AsUleb128(a.gasUnitPrice??0),s.serializeU32AsUleb128(a.maxGasAmount??0),s.serializeU32AsUleb128(a.feePayer?1:0),a.feePayer&&lf(s,a.feePayer)}e.serializeArgs=t;function n(s,a){const c=a>=3&&s.deserializeBool()?s.deserialize(x):void 0,l=a===1?s.deserializeStr():s.deserializeOption("string");if(l!==void 0&&!it(l))throw new Error(`Unsupported network '${l}'`);const u=a===1||s.deserializeBool()?s.deserialize(Mt):Bo(s),d=Number(s.deserializeU64()),f=s.deserializeUleb128AsU32(),h=s.deserializeUleb128AsU32(),y=s.deserializeUleb128AsU32()?uf(s):void 0;return{expirationTimestamp:d>0?d:void 0,feePayer:y,gasUnitPrice:f>0?f:void 0,maxGasAmount:h>0?h:void 0,network:l,payload:u,signerAddress:c}}e.deserializeArgs=n;function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return rn(c,t)}e.serialize=r;function i(s){return sn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(qr||(qr={}));var Qr;(e=>{function t(a,c){a.serializeStr(c.txnHash)}function n(a){return{txnHash:a.deserializeStr()}}const r=Ut(t),i=an(n);function o(a){return Ge(a,r)}e.serialize=o;function s(a){return $e(a,i)}e.deserialize=s})(Qr||(Qr={}));var Gr;(e=>{e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2;function t(s,a){s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeU8(a.chainId),s.serializeBytes(a.nonce),s.serializeBytes(a.message)}function n(s,a){const c=a>=2&&s.deserializeBool()?s.deserialize(x):void 0,l=s.deserializeU8(),u=s.deserializeBytes(),d=s.deserializeBytes();return{chainId:l,message:d,nonce:u,signerAddress:c}}function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return rn(c,t)}e.serialize=r;function i(s){return sn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&s.version===e.currentVersion}e.isSerialized=o})(Gr||(Gr={}));var $r;(e=>{function t(a,c){a.serializeStr(c.fullMessage),Do(a,c.signature)}function n(a){const c=a.deserializeStr(),l=Oo(a);return{fullMessage:c,signature:l}}const r=Ut(t),i=an(n);function o(a){return Ge(a,r)}e.serialize=o;function s(a){return $e(a,i)}e.deserialize=s})($r||($r={}));var Rn;(e=>{e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(a){const{feePayer:c,secondarySigners:l,senderPublicKey:u,signerAddress:d,transaction:f}=a,h={address:f.sender,publicKey:u},y=Mo(a.transaction.chain_id.chainId);return{expirationTimestamp:Number(f.expiration_timestamp_secs),feePayer:c,gasUnitPrice:Number(f.gas_unit_price),maxGasAmount:Number(f.max_gas_amount),network:y,payload:f.payload,secondarySigners:l,sender:h,signerAddress:d}}e.normalizeArgs=t;function n(a,c){if(c.network!==void 0&&!it(c.network))throw new Error(`Unsupported network '${c.network}'`);a.serializeBool(c.signerAddress!==void 0),c.signerAddress!==void 0&&a.serialize(c.signerAddress),a.serializeOptionStr(c.network),a.serializeBool(c.sender!==void 0),c.sender!==void 0&&br(a,c.sender),"bcsToBytes"in c.payload?(a.serializeBool(!0),a.serialize(c.payload)):(a.serializeBool(!1),jo(a,c.payload)),a.serializeU32AsUleb128(c.expirationSecondsFromNow??0),a.serializeU64(c.expirationTimestamp??0),a.serializeU32AsUleb128(c.gasUnitPrice??0),a.serializeU32AsUleb128(c.maxGasAmount??0),a.serializeBool(c.feePayer!==void 0),c.feePayer!==void 0&&br(a,c.feePayer);const l=c.secondarySigners??[];a.serializeU32AsUleb128(l.length);for(const u of l)br(a,u)}function r(a,c){const l=c>=3&&a.deserializeBool()?a.deserialize(x):void 0,u=c===1?a.deserializeStr():a.deserializeOption("string");if(u!==void 0&&!it(u))throw new Error(`Unsupported network '${u}'`);const d=a.deserializeBool()?vr(a):void 0,f=c<4||a.deserializeBool()?a.deserialize(Mt):Bo(a),h=a.deserializeUleb128AsU32(),y=Number(a.deserializeU64()),p=a.deserializeUleb128AsU32(),z=a.deserializeUleb128AsU32(),E=a.deserializeBool()?vr(a):void 0,v=a.deserializeUleb128AsU32(),T=[];for(let M=0;M<v;M+=1)T.push(vr(a));return{expirationSecondsFromNow:h>0?h:void 0,expirationTimestamp:y>0?y:void 0,feePayer:E,gasUnitPrice:p>0?p:void 0,maxGasAmount:z>0?z:void 0,network:u,payload:f,secondarySigners:T,sender:d,signerAddress:l}}function i(a,c){const l={args:c,dappInfo:a,name:e.name,version:e.currentVersion};return rn(l,n)}e.serialize=i;function o(a){return sn(a,c=>r(c,a.version))}e.deserialize=o;function s(a){return a.name===e.name&&e.supportedVersions.includes(a.version)}e.isSerialized=s})(Rn||(Rn={}));var Yr;(e=>{function t(a,c){a.serialize(c.authenticator),a.serializeBool(c.rawTransaction!==void 0),c.rawTransaction!==void 0&&a.serialize(c.rawTransaction)}function n(a){const c=a.deserialize(dt),l=a.deserializeBool()?a.deserialize(qn):void 0;return{authenticator:c,rawTransaction:l}}const r=Ut(t),i=an(n);function o(a){return Ge(a,r)}e.serialize=o;function s(a){return $e(a,i)}e.deserialize=s})(Yr||(Yr={}));function Lo(e){const t=atob(e);return Uint8Array.from(t,n=>n.charCodeAt(0))}function st(e){const t=String.fromCharCode(...e);return btoa(t)}function Ri(e){return st(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function gf(e){switch(e){case _e.mainnet:return k.MAINNET;case _e.testnet:return k.TESTNET;default:return k.DEVNET}}function at(e){return[k.MAINNET,k.TESTNET,k.DEVNET].includes(e)}function yf(e,t){e.serialize(t.address),e.serialize(t.authenticator)}function wf(e){const t=e.deserialize(x),n=e.deserialize(dt);return{address:t,authenticator:n}}function Po(e,t){if(t instanceof he)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof ke)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Me)e.serializeU32AsUleb128(S.SingleKey);else if(t instanceof Ce)e.serializeU32AsUleb128(S.MultiKey);else throw new Error("Unexpected public key type");e.serialize(t)}function Ro(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(he);case S.MultiEd25519:return e.deserialize(ke);case S.SingleKey:return e.deserialize(Me);case S.MultiKey:return e.deserialize(Ce);default:throw new Error(`Unknown signing scheme: ${t}`)}}function qt(e,t){e.serialize(t.address),Po(e,t.publicKey),e.serializeStr(t.name??"")}function $n(e){const t=e.deserialize(x),n=Ro(e),r=e.deserializeStr();return{address:t,publicKey:n,...r.length>0?{name:r}:void 0}}function Sr(e,t){e.serialize(t.address),e.serializeBool(t.publicKey!==void 0),t.publicKey&&Po(e,t.publicKey)}function Er(e){const t=e.deserialize(x),n=e.deserializeBool()?Ro(e):void 0;return{address:t,publicKey:n}}function Fo(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(t.imageURI!==void 0),t.imageURI!==void 0&&e.serializeStr(t.imageURI)}function Ko(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBool()?e.deserializeStr():void 0;return{domain:t,imageURI:r,name:n}}function Jr(e,t){if(t==null){e.serializeU32AsUleb128(0);return}if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)Jr(e,n);return}if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"){e.serializeU32AsUleb128(2),e.serializeStr(t.toString());return}if(t instanceof Uint8Array){e.serializeU32AsUleb128(3),e.serializeBytes(t);return}if(t instanceof ArrayBuffer){e.serializeU32AsUleb128(3),e.serializeBytes(new Uint8Array(t));return}if("values"in t){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)Jr(e,n);return}if("data"in t){e.serializeU32AsUleb128(4),e.serialize(t);return}if(t.value===void 0){e.serializeU32AsUleb128(0),e.serialize(t);return}if(t.value instanceof Uint8Array){e.serializeU32AsUleb128(5),e.serializeBytes(t.value);return}e.serializeU32AsUleb128(2),e.serializeStr(t.value.toString())}function Wo(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=Wo(e);n.push(i)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(x);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new xi(t)}default:throw new Error("Unexpected variant")}}function Ho(e,t){if(t instanceof De)e.serializeU32AsUleb128(S.Ed25519);else if(t instanceof It)e.serializeU32AsUleb128(S.MultiEd25519);else if(t instanceof Ve)e.serializeU32AsUleb128(S.SingleKey);else throw new Error("Unexpected signature type");e.serialize(t)}function Vo(e){const t=e.deserializeUleb128AsU32();switch(t){case S.Ed25519:return e.deserialize(De);case S.MultiEd25519:return e.deserialize(It);case S.SingleKey:return e.deserialize(Ve);default:throw new Error(`Unknown signing scheme: ${t}`)}}function Tr(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const r=typeof n=="string"?Ii(n,{allowGenerics:!0}):n;e.serialize(r)}}function _r(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const i=e.deserialize(Ni);t.push(i)}return t}function ta(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Jr(e,n)}function na(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const i=Wo(e);n.push(i)}return n}function qo(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),ta(e,t.functionArguments),Tr(e,t.typeArguments??[]);const n=x.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),ta(e,t.functionArguments),Tr(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);const n=we.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);Tr(e,t.typeArguments??[])}}function Qo(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=na(e),r=_r(e),i=e.deserialize(x);return{function:t,functionArguments:n,multisigAddress:i,typeArguments:r}}case 0:{const t=e.deserializeStr(),n=na(e),r=_r(e);return{function:t,functionArguments:n,typeArguments:r}}case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let o=0;o<n;o+=1){const s=Mi(e);r.push(s)}const i=_r(e);return{bytecode:t,functionArguments:r,typeArguments:i}}default:throw new Error("Unexpected variant")}}function Fi({dappInfo:e,name:t,version:n}){const r=new pe;return Fo(r,e),{data:r.toUint8Array(),name:t,version:n}}function Ki({data:e,name:t,version:n}){const r=new ge(e);return{dappInfo:Ko(r),name:t,version:n}}function on({args:e,dappInfo:t,name:n,version:r},i){const o=new pe;return Fo(o,t),i(o,e),{data:o.toUint8Array(),name:n,version:r}}function cn({data:e,name:t,version:n},r){const i=new ge(e),o=Ko(i);return{args:r(i),dappInfo:o,name:t,version:n}}var Zr;(e=>{e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(s,a){if(s.serializeOptionStr(a.dappId),s.serializeOptionStr(a.dappEd25519PublicKeyB64),s.serializeOptionStr(a.preferredWalletName),s.serializeBool(a.claimOptions!==void 0),a.claimOptions&&(s.serialize(a.claimOptions.secretKey),s.serializeStr(a.claimOptions.network),s.serializeOptionStr(a.claimOptions.asset),!at(a.claimOptions.network)))throw new Error(`Unsupported network '${a.claimOptions.network}'`)}e.serializeArgs=t;function n(s,a){if(a===1)return{};const c=s.deserializeOption("string"),l=s.deserializeOption("string"),u=a>=3?s.deserializeOption("string"):void 0,d=a>=4?s.deserializeBool():!1;let f;if(d){const h=s.deserialize(vt),y=s.deserializeStr(),p=s.deserializeOption("string");if(!at(y))throw new Error(`Unsupported network '${y}'`);f={asset:p,network:y,secretKey:h}}return{claimOptions:f,dappEd25519PublicKeyB64:l,dappId:c,preferredWalletName:u}}e.deserializeArgs=n;function r(s,a={}){return on({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return cn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(Zr||(Zr={}));function St(e){return(t,n)=>{t.serializeBool(n.status==="approved"),n.status==="approved"&&e(t,n.args)}}function ln(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function Ye(e,t){const n=new pe;return t(n,e),{data:n.toUint8Array()}}function Je({data:e},t){const n=new ge(e);return{args:t(n)}}var Fn;(e=>{e.supportedVersions=[1,2],e.currentVersion=2;function t(l,u){qt(l,u.account)}function n(l,u){qt(l,u.account),l.serializeOptionStr(u.pairing!==void 0?JSON.stringify(u.pairing):void 0)}function r(l){const u=$n(l),d=l.deserializeOption("string"),f=d!==void 0?JSON.parse(d):void 0;return{account:u,pairing:f}}const i=St(t),o=St(n),s=ln(r);function a(l,u=e.currentVersion){return Ye(l,u===1?i:o)}e.serialize=a;function c(l){return Je(l,s)}e.deserialize=c})(Fn||(Fn={}));var Xr;(e=>{e.name="disconnect",e.currentVersion=1;function t(i){return Fi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Ki(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(Xr||(Xr={}));var ei;(e=>{function t(r){return Ye(r,()=>{})}e.serialize=t;function n(r){return Je(r,()=>({}))}e.deserialize=n})(ei||(ei={}));function mf(e,t){e.serializeStr(JSON.stringify(t))}function Af(e){return JSON.parse(e.deserializeStr())}var ti;(e=>{e.name="signIn",e.supportedVersions=[1],e.currentVersion=1;function t(s,a){if(a.network!==void 0&&!at(a.network))throw new Error(`Unsupported network '${a.network}' in SignInRequest.serializeArgs`);mf(s,a),s.serializeStr(a.network)}e.serializeArgs=t;function n(s,a){return{...Af(s),network:s.deserializeStr()}}e.deserializeArgs=n;function r(s,a){return on({args:a,dappInfo:s,name:e.name,version:e.currentVersion},t)}e.serialize=r;function i(s){return cn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(ti||(ti={}));function bf(e,t){qt(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),Ho(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}function vf(e){return{account:new nt($n(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:Vo(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}var ni;(e=>{e.supportedVersions=[1],e.currentVersion=1;function t(a,c){bf(a,c)}function n(a){return vf(a)}const r=St(t),i=ln(n);function o(a,c=e.currentVersion){return Ye(a,r)}e.serialize=o;function s(a){return Je(a,i)}e.deserialize=s})(ni||(ni={}));var ri;(e=>{e.name="getConnectedAccounts",e.currentVersion=1;function t(i){return Fi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Ki(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(ri||(ri={}));var ii;(e=>{function t(o,s){o.serializeU32AsUleb128(s.length);for(const a of s)qt(o,a)}function n(o){const s=o.deserializeUleb128AsU32(),a=[];for(let c=0;c<s;c+=1)a.push($n(o));return a}function r(o){return Ye(o,t)}e.serialize=r;function i(o){return Je(o,n)}e.deserialize=i})(ii||(ii={}));var si;(e=>{e.name="isConnected",e.currentVersion=1;function t(i){return Fi({dappInfo:i,name:e.name,version:e.currentVersion})}e.serialize=t;function n(i){return Ki(i)}e.deserialize=n;function r(i){return i.name===e.name&&i.version===e.currentVersion}e.isSerialized=r})(si||(si={}));var ai;(e=>{function t(o,s){o.serializeBool(s)}function n(o){return o.deserializeBool()}function r(o){return Ye(o,t)}e.serialize=r;function i(o){return Je(o,n)}e.deserialize=i})(ai||(ai={}));var oi;(e=>{e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3;function t(s,a){if(a.network!==void 0&&!at(a.network))throw new Error(`Unsupported network '${a.network}'`);s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeOptionStr(a.network),"bcsToBytes"in a.payload?(s.serializeBool(!0),s.serialize(a.payload)):(s.serializeBool(!1),qo(s,a.payload)),s.serializeU64(a.expirationTimestamp??0),s.serializeU32AsUleb128(a.gasUnitPrice??0),s.serializeU32AsUleb128(a.maxGasAmount??0),s.serializeU32AsUleb128(a.feePayer?1:0),a.feePayer&&yf(s,a.feePayer)}e.serializeArgs=t;function n(s,a){const c=a>=3&&s.deserializeBool()?s.deserialize(x):void 0,l=a===1?s.deserializeStr():s.deserializeOption("string");if(l!==void 0&&!at(l))throw new Error(`Unsupported network '${l}'`);const u=a===1||s.deserializeBool()?s.deserialize(Mt):Qo(s),d=Number(s.deserializeU64()),f=s.deserializeUleb128AsU32(),h=s.deserializeUleb128AsU32(),y=s.deserializeUleb128AsU32()?wf(s):void 0;return{expirationTimestamp:d>0?d:void 0,feePayer:y,gasUnitPrice:f>0?f:void 0,maxGasAmount:h>0?h:void 0,network:l,payload:u,signerAddress:c}}e.deserializeArgs=n;function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return on(c,t)}e.serialize=r;function i(s){return cn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&e.supportedVersions.includes(s.version)}e.isSerialized=o})(oi||(oi={}));var ra;(e=>{function t(a,c){a.serializeStr(c.txnHash)}function n(a){return{txnHash:a.deserializeStr()}}const r=St(t),i=ln(n);function o(a){return Ye(a,r)}e.serialize=o;function s(a){return Je(a,i)}e.deserialize=s})(ra||(ra={}));var ci;(e=>{e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2;function t(s,a){s.serializeBool(a.signerAddress!==void 0),a.signerAddress!==void 0&&s.serialize(a.signerAddress),s.serializeU8(a.chainId),s.serializeBytes(a.nonce),s.serializeBytes(a.message)}function n(s,a){const c=a>=2&&s.deserializeBool()?s.deserialize(x):void 0,l=s.deserializeU8(),u=s.deserializeBytes(),d=s.deserializeBytes();return{chainId:l,message:d,nonce:u,signerAddress:c}}function r(s,a){const c={args:a,dappInfo:s,name:e.name,version:e.currentVersion};return on(c,t)}e.serialize=r;function i(s){return cn(s,a=>n(a,s.version))}e.deserialize=i;function o(s){return s.name===e.name&&s.version===e.currentVersion}e.isSerialized=o})(ci||(ci={}));var ia;(e=>{function t(a,c){a.serializeStr(c.fullMessage),Ho(a,c.signature)}function n(a){const c=a.deserializeStr(),l=Vo(a);return{fullMessage:c,signature:l}}const r=St(t),i=ln(n);function o(a){return Ye(a,r)}e.serialize=o;function s(a){return Je(a,i)}e.deserialize=s})(ia||(ia={}));var li;(e=>{e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4;function t(a){const{feePayer:c,secondarySigners:l,senderPublicKey:u,signerAddress:d,transaction:f}=a,h={address:f.sender,publicKey:u},y=gf(a.transaction.chain_id.chainId);return{expirationTimestamp:Number(f.expiration_timestamp_secs),feePayer:c,gasUnitPrice:Number(f.gas_unit_price),maxGasAmount:Number(f.max_gas_amount),network:y,payload:f.payload,secondarySigners:l,sender:h,signerAddress:d}}e.normalizeArgs=t;function n(a,c){if(c.network!==void 0&&!at(c.network))throw new Error(`Unsupported network '${c.network}'`);a.serializeBool(c.signerAddress!==void 0),c.signerAddress!==void 0&&a.serialize(c.signerAddress),a.serializeOptionStr(c.network),a.serializeBool(c.sender!==void 0),c.sender!==void 0&&Sr(a,c.sender),"bcsToBytes"in c.payload?(a.serializeBool(!0),a.serialize(c.payload)):(a.serializeBool(!1),qo(a,c.payload)),a.serializeU32AsUleb128(c.expirationSecondsFromNow??0),a.serializeU64(c.expirationTimestamp??0),a.serializeU32AsUleb128(c.gasUnitPrice??0),a.serializeU32AsUleb128(c.maxGasAmount??0),a.serializeBool(c.feePayer!==void 0),c.feePayer!==void 0&&Sr(a,c.feePayer);const l=c.secondarySigners??[];a.serializeU32AsUleb128(l.length);for(const u of l)Sr(a,u)}function r(a,c){const l=c>=3&&a.deserializeBool()?a.deserialize(x):void 0,u=c===1?a.deserializeStr():a.deserializeOption("string");if(u!==void 0&&!at(u))throw new Error(`Unsupported network '${u}'`);const d=a.deserializeBool()?Er(a):void 0,f=c<4||a.deserializeBool()?a.deserialize(Mt):Qo(a),h=a.deserializeUleb128AsU32(),y=Number(a.deserializeU64()),p=a.deserializeUleb128AsU32(),z=a.deserializeUleb128AsU32(),E=a.deserializeBool()?Er(a):void 0,v=a.deserializeUleb128AsU32(),T=[];for(let M=0;M<v;M+=1)T.push(Er(a));return{expirationSecondsFromNow:h>0?h:void 0,expirationTimestamp:y>0?y:void 0,feePayer:E,gasUnitPrice:p>0?p:void 0,maxGasAmount:z>0?z:void 0,network:u,payload:f,secondarySigners:T,sender:d,signerAddress:l}}function i(a,c){const l={args:c,dappInfo:a,name:e.name,version:e.currentVersion};return on(l,n)}e.serialize=i;function o(a){return cn(a,c=>r(c,a.version))}e.deserialize=o;function s(a){return a.name===e.name&&e.supportedVersions.includes(a.version)}e.isSerialized=s})(li||(li={}));var sa;(e=>{function t(a,c){a.serialize(c.authenticator),a.serializeBool(c.rawTransaction!==void 0),c.rawTransaction!==void 0&&a.serialize(c.rawTransaction)}function n(a){const c=a.deserialize(dt),l=a.deserializeBool()?a.deserialize(qn):void 0;return{authenticator:c,rawTransaction:l}}const r=St(t),i=ln(n);function o(a){return Ye(a,r)}e.serialize=o;function s(a){return Je(a,i)}e.deserialize=s})(sa||(sa={}));function Mr(e,t){return(t==null?void 0:t.__messageType)===e.TYPE}var Go=class $o{constructor(){this.__messageType=$o.TYPE}};Go.TYPE="PromptConnectionRequest";var zf=Go,Yo=class Jo{constructor(t){this.serializedRequest=t,this.__messageType=Jo.TYPE}};Yo.TYPE="PromptConnectionResponse";var Uf=Yo,Zo=class Xo{constructor(t){this.serializedValue=t,this.__messageType=Xo.TYPE}};Zo.TYPE="PromptApprovalResponse";var Sf=Zo,ec=class tc{constructor(){this.__messageType=tc.TYPE}};ec.TYPE="PromptUnauthorizedError";var Ef=ec;function nc({data:e,...t}){const n=JSON.stringify({data:e,...t},(i,o)=>i==="data"?st(o):o),r=new TextEncoder().encode(n);return st(r)}function aa(e){const t=JSON.stringify(e,(r,i)=>{switch(r){case"body":return nc(i);case"clientIdentityKey":return st(i.toUint8Array());case"signature":return st(i.toUint8Array());default:return i}}),n=new TextEncoder().encode(t);return Ri(n)}function Tf({accountAddress:e,body:t,id:n,timestamp:r}){const i=new pe;return i.serializeStr("SignedPopupWalletRequest"),i.serializeStr(n),i.serializeU64(r),i.serializeBool(e!==void 0),e!==void 0&&i.serialize(x.from(e)),i.serializeStr(t.name),i.serializeU8(t.version),i.serializeBytes(t.data),i.toUint8Array()}class ot extends Error{constructor(t,n,r){super(typeof n=="object"?n.message:n||t,{cause:typeof n=="object"?n.cause:r}),this.type=t,this.name="TypedError",Object.setPrototypeOf(this,ot.prototype)}}const _f="ERR_INVALID_VALUE",Mf="ERR_UNEXPECTED_VALUE",If="ERR_UNEXPECTED_TYPE",rc="ERR_PARSE";function Nf(e,t){const n={};for(const r in e){const i=e[r];if(!i)continue;let o,s;typeof i=="function"?(o=r,s=i):[o,s]=i;try{const a=s(t(o));a!==void 0&&(n[r]=a)}catch(a){throw new ot(rc,`Parser for "${r}" property failed${o===r?"":`. Source field: "${o}"`}`,a)}}return n}function xf(e){let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch(n){throw new ot(_f,{cause:n})}if(typeof t!="object"||!t||Array.isArray(t))throw new ot(Mf);return t}function ic(e,t){return n=>{const r=i=>{if(!(n&&i===void 0))try{return t(i)}catch(o){throw new ot(rc,{message:`"${e}" transformer failed to parse the value`,cause:o})}};return Object.assign(r,{isValid(i){try{return r(i),!0}catch{return!1}}})}}function ui(e,t){return ic("object",n=>{const r=xf(n);return Nf(e,i=>r[i])})}function kf(e){throw new ot(If,`Unexpected value received: ${JSON.stringify(e)}`)}const sc=ic("fn",e=>{if(typeof e=="function")return e;kf(e)}),Cf=ui({TelegramWebviewProxy:ui({postEvent:sc()})()});function Df(e){return Cf().isValid(e)}function Of(){try{return window.self!==window.top}catch{return!0}}class Wi extends Error{constructor(t,n,r){super(typeof n=="object"?n.message:n||t,{cause:typeof n=="object"?n.cause:r}),this.type=t,this.name="TypedError",Object.setPrototypeOf(this,Wi.prototype)}}function jf(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:i=!0}=t;function o(s,...a){if(!i||typeof i=="function"&&!i())return;const c="font-weight:bold;padding:0 5px;border-radius:5px";console[s](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${c};background-color: lightblue;color:black`,"",`${c};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}return[function(...s){o("log",...s)},function(...s){o("error",...s)}]}function Bf(e,t){t()}function ac(e,t){t||(t={});const n=t.equals||Object.is;let r=[],i=e;const o=l=>{if(!n(i,l)){const u=i;i=l,Bf(c,()=>{[...r].forEach(([d,f])=>{d(l,u),f&&a(d,!0)})})}};function s(l){const u=typeof l!="object"?{once:l}:l;return{once:u.once||!1,signal:u.signal||!1}}const a=(l,u)=>{const d=s(u),f=r.findIndex(([h,y])=>h===l&&y.once===d.once&&y.signal===d.signal);f>=0&&r.splice(f,1)},c=Object.assign(function(){return Lf(c),i},{destroy(){r=[]},set:o,reset(){o(e)},sub(l,u){return r.push([l,s(u)]),()=>a(l,u)},unsub:a,unsubAll(){r=r.filter(l=>l[1].signal)}});return c}const Ir=[];function Lf(e){Ir.length&&Ir[Ir.length-1].add(e)}const Pf=ac(!1),[Rf,vm]=jf("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:Pf}),Ff="ERR_UNKNOWN_ENV",Kf=ac("https://web.telegram.org");function Wf(e,t){Rf("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window;if(Df(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}const r=JSON.stringify({eventType:e,eventData:t});if(Of())return n.parent.postMessage(r,Kf());const{external:i}=n;if(ui({notify:sc()})().isValid(i)){i.notify(r);return}throw new Wi(Ff)}let zn;const Hf=new Uint8Array(16);function Vf(){if(!zn&&(zn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zn(Hf)}const Z=[];for(let e=0;e<256;++e)Z.push((e+256).toString(16).slice(1));function qf(e,t=0){return Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+"-"+Z[e[t+4]]+Z[e[t+5]]+"-"+Z[e[t+6]]+Z[e[t+7]]+"-"+Z[e[t+8]]+Z[e[t+9]]+"-"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]}const Qf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oa={randomUUID:Qf};function Gf(e,t,n){if(oa.randomUUID&&!e)return oa.randomUUID();e=e||{};const r=e.random||(e.rng||Vf)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qf(r)}var $f={height:695,width:465},Yf=500,Jf=Fn.serialize({status:"dismissed"}),Zf=class extends Error{constructor(){super("Unauthorized")}};function Xf(e,t=$f){const{height:n,width:r}=t,i={height:n,left:window.screenLeft+Math.round((window.outerWidth-r)/2),popup:!0,top:window.screenTop+Math.round((window.outerHeight-n)/2),width:r},o=Object.entries(i).map(([c,l])=>`${c}=${JSON.stringify(l)}`).reduce((c,l)=>`${c}, ${l}`),s=e instanceof URL?e.href:e,a=window.open(s,void 0,o);if(a===null)throw new Error("Couldn't open prompt");return a}async function eh(e,t,n){return new Promise((r,i)=>{const o={onMessage:s=>{if(!(s.source!==t||s.origin!==e)){if(Mr(Ef,s.data)){window.removeEventListener("message",o.onMessage),clearTimeout(o.promptPollerId),i(new Zf);return}if(Mr(zf,s.data)){t.postMessage(new Uf(n),e);return}Mr(Sf,s.data)&&(window.removeEventListener("message",o.onMessage),clearTimeout(o.promptPollerId),r(s.data.serializedValue))}},promptPollerId:setInterval(()=>{t.closed&&(window.removeEventListener("message",o.onMessage),clearTimeout(o.promptPollerId),r(Jf))},Yf)};window.addEventListener("message",o.onMessage)})}var oc="@aptos-connect/dapp-local-state";function th(e){const t=new pe;t.serializeU32AsUleb128(e.connectedAccounts.length);for(const n of e.connectedAccounts)qt(t,n);return t.toUint8Array()}function nh(e){const t=new ge(e),n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push($n(t));return{connectedAccounts:r}}function Hi(){const e=window.localStorage.getItem(oc);return e?nh(Lo(e)):{connectedAccounts:[]}}function cc(e){const t=th(e),n=st(t);window.localStorage.setItem(oc,n)}function Nr(){return Hi().connectedAccounts}function ca(e){const{connectedAccounts:t,...n}=Hi();t.push(e),cc({...n,connectedAccounts:t})}function rh(e){const{connectedAccounts:t,...n}=Hi(),r=t.findIndex(i=>i.address.equals(e));r>=0&&t.splice(r,1),cc({...n,connectedAccounts:t})}async function ih(e,t){const n=Ri(t.clientIdentityKey.toUint8Array());if(!(await fetch(`${e}/v1/dapp/clients/${n}/requests/`,{body:JSON.stringify({body:nc(t.body),id:t.id,signature:st(t.signature.toUint8Array()),timestamp:t.timestamp}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"post"})).ok)throw new Error("Failed creating the wallet request")}var la="@aptos-connect/client-identity-key";function sh(){const e=window.localStorage.getItem(la);if(e)return new vt(e);const t=vt.generate();return window.localStorage.setItem(la,t.toString()),t}var ah=300,oh=2e3,ua=3e3,ch=5*6e4;function da(e){let t,n=()=>{};const r=new Promise(i=>{t=setTimeout(i,e),n=()=>{clearTimeout(t),i()}});return r.cancel=n,r}async function lh(e){let t,n=!1,r=ua;const i=()=>{n=!0,r=oh,t==null||t.cancel()},o=()=>{r=ua};window.addEventListener("focus",i),window.addEventListener("blur",o);try{const s=Date.now();for(;Date.now()-s<ch;){t=da(r),await t,n&&(t=da(ah),await t);const a=await e();if(a.status===200)return a;n=!1}throw new Error("Timeout")}finally{window.removeEventListener("focus",i),window.removeEventListener("blur",i)}}async function uh(e,t,n){const r=Ri(t.toUint8Array()),i=new URL(`${e}/v1/dapp/clients/${r}/requests/${n}/response/`),o=await(await lh(()=>fetch(i,{headers:{Accept:"application/json"},method:"get"}))).json();return{data:Lo(o.data.body)}}async function dh(e){const{baseUrl:t,request:n,tgWebAppUrl:r="/AptosConnectBot/AptosConnect"}=e,i=sh(),o=i.publicKey(),s=Gf(),a=Date.now(),c=Tf({body:n,id:s,timestamp:a}),l=i.sign(c),u={body:n,clientIdentityKey:o,id:s,signature:l,timestamp:a};let d=aa(u);return d.length>1024&&(ih(t,u),d=aa({clientIdentityKey:o,id:s,signature:l,timestamp:a})),Wf("web_app_open_tg_link",{path_full:`${r}?startapp=${d}`}),uh(t,o,s)}function fh(){return window.TelegramWebviewProxy!==void 0}var hh=class{constructor(e,t="google",n){this.baseUrl=e,this.provider=t,this.tgWebAppUrl=n,this.baseUrl=e}async sendPromptRequest(e){if(fh())return dh({baseUrl:this.baseUrl,request:e,tgWebAppUrl:this.tgWebAppUrl});const t=new URL(`${this.baseUrl}/prompt/`);t.searchParams.set("provider",this.provider);const n=Xf(t);return eh(this.baseUrl,n,e)}async sendRequest(e){switch(e.name){case si.name:{const t=Nr();return ai.serialize(t.length>0)}case ri.name:{const t=Nr();return ii.serialize(t)}case Zr.name:{const t=await this.sendPromptRequest(e),n=Fn.deserialize(t);if(n.args.status==="approved"){const{account:r,pairing:i}=n.args.args;i===void 0&&ca(r)}return t}case ti.name:{const t=await this.sendPromptRequest(e),n=ni.deserialize(t);if(n.args.status==="approved"){const{account:r}=n.args.args;ca(r)}return t}case Xr.name:{const[t]=Nr();return t&&rh(t.address),ei.serialize({})}case ci.name:case li.name:case oi.name:return this.sendPromptRequest(e);default:throw new Error("Unexpected request")}}},Vi=(e=>(e.DEVNET="devnet",e.MAINNET="mainnet",e.TESTNET="testnet",e))(Vi||{}),En=(e=>(e.SIGN_AND_SUBMIT_TRANSACTION="SIGN_AND_SUBMIT_TRANSACTION",e.SIGN_MESSAGE="SIGN_MESSAGE",e.SIGN_TRANSACTION="SIGN_TRANSACTION",e))(En||{}),lc=(e=>(e.APPROVED="APPROVED",e.CANCELLED="CANCELLED",e.INVALID="INVALID",e.PENDING="PENDING",e.REJECTED="REJECTED",e))(lc||{});function et(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ph(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function qi(e,...t){if(!ph(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function uc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");et(e.outputLen),et(e.blockLen)}function Et(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dc(e,t){qi(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gh=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function fc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const Tn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Se=(e,t)=>e<<32-t|e>>>t,yh=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yh)throw new Error("Non little-endian hardware is not supported");const wh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hc(e){if(!fc(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=wh[e[n]];return t}const Ie={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fa(e){if(e>=Ie._0&&e<=Ie._9)return e-Ie._0;if(e>=Ie._A&&e<=Ie._F)return e-(Ie._A-10);if(e>=Ie._a&&e<=Ie._f)return e-(Ie._a-10)}function pc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=fa(e.charCodeAt(o)),a=fa(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function mh(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Tt(e){if(typeof e=="string"&&(e=mh(e)),!fc(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Qi{clone(){return this._cloneInto()}}const Ah={}.toString;function bh(e,t){if(t!==void 0&&Ah.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Gi(e){const t=r=>e().update(Tt(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class gc extends Qi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,uc(t);const r=Tt(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Et(this),this.iHash.update(t),this}digestInto(t){Et(this),qi(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yn=(e,t,n)=>new gc(e,t).update(n).digest();Yn.create=(e,t)=>new gc(e,t);function vh(e,t,n,r){uc(e);const i=bh({dkLen:32,asyncTick:10},r),{c:o,dkLen:s,asyncTick:a}=i;if(et(o),et(s),et(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Tt(t),l=Tt(n),u=new Uint8Array(s),d=Yn.create(e,c),f=d._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:f}}function zh(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Uh(e,t,n,r){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=vh(e,t,n,r);let l;const u=new Uint8Array(4),d=Tn(u),f=new Uint8Array(a.outputLen);for(let h=1,y=0;y<o;h++,y+=a.outputLen){const p=s.subarray(y,y+a.outputLen);d.setInt32(0,h,!1),(l=c._cloneInto(l)).update(u).digestInto(f),p.set(f.subarray(0,p.length));for(let z=1;z<i;z++){a._cloneInto(l).update(f).digestInto(f);for(let E=0;E<p.length;E++)p[E]^=f[E]}}return zh(a,c,s,l,f)}function Sh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}class yc extends Qi{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Tn(this.buffer)}update(t){Et(this);const{view:n,buffer:r,blockLen:i}=this;t=Tt(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=Tn(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Et(this),dc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Sh(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Tn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const Eh=(e,t,n)=>e&t^~e&n,Th=(e,t,n)=>e&t^e&n^t&n,_h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),je=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Be=new Uint32Array(64);class Mh extends yc{constructor(){super(64,32,8,!1),this.A=je[0]|0,this.B=je[1]|0,this.C=je[2]|0,this.D=je[3]|0,this.E=je[4]|0,this.F=je[5]|0,this.G=je[6]|0,this.H=je[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[t,n,r,i,o,s,a,c]}set(t,n,r,i,o,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Be[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Be[d-15],h=Be[d-2],y=Se(f,7)^Se(f,18)^f>>>3,p=Se(h,17)^Se(h,19)^h>>>10;Be[d]=p+Be[d-7]+y+Be[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=Se(a,6)^Se(a,11)^Se(a,25),h=u+f+Eh(a,c,l)+_h[d]+Be[d]|0,y=(Se(r,2)^Se(r,13)^Se(r,22))+Th(r,i,o)|0;u=l,l=c,c=a,a=s+h|0,s=o,o=i,i=r,r=h+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){Be.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ih=Gi(()=>new Mh),Un=BigInt(2**32-1),di=BigInt(32);function wc(e,t=!1){return t?{h:Number(e&Un),l:Number(e>>di&Un)}:{h:Number(e>>di&Un)|0,l:Number(e&Un)|0}}function mc(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=wc(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Nh=(e,t)=>BigInt(e>>>0)<<di|BigInt(t>>>0),xh=(e,t,n)=>e>>>n,kh=(e,t,n)=>e<<32-n|t>>>n,Ch=(e,t,n)=>e>>>n|t<<32-n,Dh=(e,t,n)=>e<<32-n|t>>>n,Oh=(e,t,n)=>e<<64-n|t>>>n-32,jh=(e,t,n)=>e>>>n-32|t<<64-n,Bh=(e,t)=>t,Lh=(e,t)=>e,Ac=(e,t,n)=>e<<n|t>>>32-n,bc=(e,t,n)=>t<<n|e>>>32-n,vc=(e,t,n)=>t<<n-32|e>>>64-n,zc=(e,t,n)=>e<<n-32|t>>>64-n;function Ph(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Rh=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Fh=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Kh=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Wh=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Hh=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Vh=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,N={fromBig:wc,split:mc,toBig:Nh,shrSH:xh,shrSL:kh,rotrSH:Ch,rotrSL:Dh,rotrBH:Oh,rotrBL:jh,rotr32H:Bh,rotr32L:Lh,rotlSH:Ac,rotlSL:bc,rotlBH:vc,rotlBL:zc,add:Ph,add3L:Rh,add3H:Fh,add4L:Kh,add4H:Wh,add5H:Vh,add5L:Hh},[qh,Qh]=N.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Le=new Uint32Array(80),Pe=new Uint32Array(80);class Gh extends yc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:y,Hh:p,Hl:z}=this;return[t,n,r,i,o,s,a,c,l,u,d,f,h,y,p,z]}set(t,n,r,i,o,s,a,c,l,u,d,f,h,y,p,z){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=y|0,this.Hh=p|0,this.Hl=z|0}process(t,n){for(let T=0;T<16;T++,n+=4)Le[T]=t.getUint32(n),Pe[T]=t.getUint32(n+=4);for(let T=16;T<80;T++){const M=Le[T-15]|0,L=Pe[T-15]|0,re=N.rotrSH(M,L,1)^N.rotrSH(M,L,8)^N.shrSH(M,L,7),fe=N.rotrSL(M,L,1)^N.rotrSL(M,L,8)^N.shrSL(M,L,7),H=Le[T-2]|0,P=Pe[T-2]|0,A=N.rotrSH(H,P,19)^N.rotrBH(H,P,61)^N.shrSH(H,P,6),b=N.rotrSL(H,P,19)^N.rotrBL(H,P,61)^N.shrSL(H,P,6),m=N.add4L(fe,b,Pe[T-7],Pe[T-16]),w=N.add4H(m,re,A,Le[T-7],Le[T-16]);Le[T]=w|0,Pe[T]=m|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:y,Gh:p,Gl:z,Hh:E,Hl:v}=this;for(let T=0;T<80;T++){const M=N.rotrSH(d,f,14)^N.rotrSH(d,f,18)^N.rotrBH(d,f,41),L=N.rotrSL(d,f,14)^N.rotrSL(d,f,18)^N.rotrBL(d,f,41),re=d&h^~d&p,fe=f&y^~f&z,H=N.add5L(v,L,fe,Qh[T],Pe[T]),P=N.add5H(H,E,M,re,qh[T],Le[T]),A=H|0,b=N.rotrSH(r,i,28)^N.rotrBH(r,i,34)^N.rotrBH(r,i,39),m=N.rotrSL(r,i,28)^N.rotrBL(r,i,34)^N.rotrBL(r,i,39),w=r&o^r&a^o&a,j=i&s^i&c^s&c;E=p|0,v=z|0,p=h|0,z=y|0,h=d|0,y=f|0,{h:d,l:f}=N.add(l|0,u|0,P|0,A|0),l=a|0,u=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const _=N.add3L(A,m,j);r=N.add3H(_,P,b,w),i=_|0}({h:r,l:i}=N.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=N.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=N.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=N.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=N.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:y}=N.add(this.Fh|0,this.Fl|0,h|0,y|0),{h:p,l:z}=N.add(this.Gh|0,this.Gl|0,p|0,z|0),{h:E,l:v}=N.add(this.Hh|0,this.Hl|0,E|0,v|0),this.set(r,i,o,s,a,c,l,u,d,f,h,y,p,z,E,v)}roundClean(){Le.fill(0),Pe.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $i=Gi(()=>new Gh);function Uc(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function $h(e){const t=Uc(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}const Yh=e=>Uc(`mnemonic${e}`);function Jh(e,t=""){return Uh($i,$h(e).nfkd,Yh(t),{c:2048,dkLen:64})}const[Sc,Ec,Tc]=[[],[],[]],Zh=BigInt(0),Lt=BigInt(1),Xh=BigInt(2),ep=BigInt(7),tp=BigInt(256),np=BigInt(113);for(let e=0,t=Lt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Sc.push(2*(5*r+n)),Ec.push((e+1)*(e+2)/2%64);let i=Zh;for(let o=0;o<7;o++)t=(t<<Lt^(t>>ep)*np)%tp,t&Xh&&(i^=Lt<<(Lt<<BigInt(o))-Lt);Tc.push(i)}const[rp,ip]=mc(Tc,!0),ha=(e,t,n)=>n>32?vc(e,t,n):Ac(e,t,n),pa=(e,t,n)=>n>32?zc(e,t,n):bc(e,t,n);function sp(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=n[c],u=n[c+1],d=ha(l,u,1)^n[a],f=pa(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[s+h]^=d,e[s+h+1]^=f}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Ec[s],c=ha(i,o,a),l=pa(i,o,a),u=Sc[s];i=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=rp[r],e[1]^=ip[r]}n.fill(0)}class Yi extends Qi{constructor(t,n,r,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,et(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=gh(this.state)}keccak(){sp(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Et(this);const{blockLen:n,state:r}=this;t=Tt(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Et(this,!1),qi(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return et(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(dc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Yi(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const ap=(e,t,n)=>Gi(()=>new Yi(t,e,n)),_t=ap(6,136,256/8);async function op(e){var t;const{params:n,method:r,url:i,headers:o,body:s,overrides:a}=e,c={headers:o,method:r,url:i,params:n,data:s,withCredentials:(t=a==null?void 0:a.WITH_CREDENTIALS)!=null?t:!0};try{const l=await sd(c);return{status:l.status,statusText:l.statusText,data:l.data,headers:l.headers,config:l.config}}catch(l){const u=l;if(u.response)return u.response;throw l}}var _c=Object.defineProperty,cp=Object.getOwnPropertyDescriptor,Jn=(e,t)=>{for(var n in t)_c(e,n,{get:t[n],enumerable:!0})},C=(e,t,n,r)=>{for(var i=cp(t,n),o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=s(t,n,i)||i);return i&&_c(t,n,i),i},lp=/^m(\/[0-9]+')+$/,Mc=e=>e.replace("'",""),up="ed25519 seed",dp=2147483648,fp=e=>{const t=Yn.create($i,up).update(pc(e)).digest(),n=t.slice(0,32),r=t.slice(32);return{key:n,chainCode:r}},hp=({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),o=new Uint8Array([0]),s=new Uint8Array([...o,...e,...i]),a=Yn.create($i,t).update(s).digest(),c=a.slice(0,32),l=a.slice(32);return{key:c,chainCode:l}},pp=e=>lp.test(e)?!e.split("/").slice(1).map(Mc).some(Number.isNaN):!1,gp=(e,t,n=dp)=>{if(!pp(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=fp(t);return e.split("/").slice(1).map(Mc).map(o=>parseInt(o,10)).reduce((o,s)=>hp(o,s+n),{key:r,chainCode:i})},yp="1.21.0";async function wp(e){return new Promise(t=>{setTimeout(t,e)})}var ga="/v1";function mp(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(ga)||(t=`${t}${ga}`),t}var Ic=2e5,Nc=20,Ap=20,bp="0x1::aptos_coin::AptosCoin";function Zn(e){let t,n,r;return typeof e=="object"?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(i,o,s)=>{if(s.value!=null)s.value=ya(s.value,t,n,r);else if(s.get!=null)s.get=ya(s.get,t,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function xc(e,t){return Zn({ttlMs:e,hashFunction:t})}var _n=new Map;function vp(e){const t=new Set;for(const n of e){const r=_n.get(n);if(r)for(const i of r)t.has(i)||(i.clear(),t.add(i))}return t.size}function ya(e,t,n=0,r){const i=Symbol("__memoized_map__");return function(...o){let s;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const l of r)_n.has(l)?_n.get(l).push(c):_n.set(l,[c]);if(t||o.length>0||n>0){let l;t===!0?l=o.map(f=>f.toString()).join("!"):t?l=t.apply(a,o):l=o[0];const u=`${l}__timestamp`;let d=!1;if(n>0)if(!c.has(u))d=!0;else{const f=c.get(u);d=Date.now()-f>n}c.has(l)&&!d?s=c.get(l):(s=e.apply(a,o),c.set(l,s),n>0&&c.set(u,Date.now()))}else{const l=a;c.has(l)?s=c.get(l):(s=e.apply(a,o),c.set(l,s))}return s}}var kc=class extends Error{constructor(e,t,n){super(n),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},zp={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function Up(e,t,n,r,i,o){const s={...o==null?void 0:o.HEADERS,"x-aptos-client":`aptos-ts-sdk/${yp}`,"content-type":r??"application/json"};return o!=null&&o.TOKEN&&(s.Authorization=`Bearer ${o==null?void 0:o.TOKEN}`),await op({url:e,method:t,body:n,params:i,headers:s,overrides:o})}async function Cc(e){const{url:t,endpoint:n,method:r,body:i,contentType:o,params:s,overrides:a}=e,c=`${t}/${n??""}`,l=await Up(c,r,i,o,s,a),u={status:l.status,statusText:l.statusText,data:l.data,headers:l.headers,config:l.config,url:c};if(u.status>=200&&u.status<300)return u;const d=zp[u.status];throw new kc(e,u,d??"Generic Error")}async function ce(e){return await Cc({...e,method:"GET"})}async function Ft(e){return await Cc({...e,method:"POST"})}async function wa(e){const t=[];let n;const r=e.params;for(;;){r.start=n;const i=await ce({url:e.url,endpoint:e.endpoint,params:r,originMethod:e.originMethod,overrides:e.overrides});if(n=i.headers["x-aptos-cursor"],delete i.headers,t.push(...i.data),n==null)break}return t}var Sp={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},Ep={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},U=class Mn{static fromBuffer(t){return Mn.fromUint8Array(t)}static fromUint8Array(t){return new Mn(hc(t))}static ensure(t){return typeof t=="string"?new Mn(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(pc(this.noPrefix()))}},B={};Jn(B,{AccountAddress:()=>O,AccountAuthenticator:()=>We,AccountAuthenticatorEd25519:()=>Qc,AccountAuthenticatorMultiEd25519:()=>$c,ArgumentABI:()=>rr,AuthenticationKey:()=>yi,ChainId:()=>cs,ChangeSet:()=>Hp,Ed25519PublicKey:()=>be,Ed25519Signature:()=>Ne,EntryFunction:()=>er,EntryFunctionABI:()=>$t,FeePayerRawTransaction:()=>ss,Identifier:()=>ae,Module:()=>Wp,ModuleId:()=>Gt,MultiAgentRawTransaction:()=>is,MultiEd25519PublicKey:()=>Xn,MultiEd25519Signature:()=>Zi,MultiSig:()=>yl,MultiSigTransactionPayload:()=>pl,RawTransaction:()=>Ot,RawTransactionWithData:()=>rs,RotationProofChallenge:()=>qp,Script:()=>ns,ScriptABI:()=>ir,SignedTransaction:()=>tr,StructTag:()=>Dt,Transaction:()=>jl,TransactionArgument:()=>ze,TransactionArgumentAddress:()=>gs,TransactionArgumentBool:()=>ws,TransactionArgumentU128:()=>hs,TransactionArgumentU16:()=>us,TransactionArgumentU256:()=>ps,TransactionArgumentU32:()=>ds,TransactionArgumentU64:()=>fs,TransactionArgumentU8:()=>ls,TransactionArgumentU8Vector:()=>ys,TransactionAuthenticator:()=>Nt,TransactionAuthenticatorEd25519:()=>Xi,TransactionAuthenticatorFeePayer:()=>Vc,TransactionAuthenticatorMultiAgent:()=>Wc,TransactionAuthenticatorMultiEd25519:()=>es,TransactionPayload:()=>gn,TransactionPayloadEntryFunction:()=>os,TransactionPayloadMultisig:()=>Sl,TransactionPayloadScript:()=>as,TransactionScriptABI:()=>ms,TypeArgumentABI:()=>nr,TypeTag:()=>te,TypeTagAddress:()=>ct,TypeTagBool:()=>xt,TypeTagParser:()=>pn,TypeTagParserError:()=>dl,TypeTagSigner:()=>al,TypeTagStruct:()=>lt,TypeTagU128:()=>Ct,TypeTagU16:()=>un,TypeTagU256:()=>fn,TypeTagU32:()=>dn,TypeTagU64:()=>kt,TypeTagU8:()=>He,TypeTagVector:()=>hn,UserTransaction:()=>Bl,WriteSet:()=>Vp,objectStructTag:()=>Pp,optionStructTag:()=>Lp,stringStructTag:()=>ts});var Dc={};Jn(Dc,{Deserializer:()=>Ji,Serializer:()=>R,bcsSerializeBool:()=>Op,bcsSerializeBytes:()=>Re,bcsSerializeFixedBytes:()=>Bp,bcsSerializeStr:()=>jp,bcsSerializeU128:()=>Cp,bcsSerializeU16:()=>xp,bcsSerializeU256:()=>Dp,bcsSerializeU32:()=>kp,bcsSerializeU8:()=>fi,bcsSerializeUint64:()=>Np,bcsToBytes:()=>Oe,deserializeVector:()=>oe,serializeVector:()=>ee,serializeVectorWithFunc:()=>Ip});var Tp=2**8-1,_p=2**16-1,Qt=2**32-1,Oc=BigInt(2**64)-BigInt(1),jc=BigInt(2**128)-BigInt(1),Mp=BigInt(2**256)-BigInt(1),R=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);const r=new DataView(this.buffer,this.offset);e.apply(r,[0,n,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(Qt),n=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){const t=BigInt(e.toString())&Oc,n=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){const t=BigInt(e.toString())&jc,n=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e;const n=[];for(;t>>>7;)n.push(t&127|128),t>>>=7;n.push(t),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};C([ft(0,Tp)],R.prototype,"serializeU8");C([ft(0,_p)],R.prototype,"serializeU16");C([ft(0,Qt)],R.prototype,"serializeU32");C([ft(BigInt(0),Oc)],R.prototype,"serializeU64");C([ft(BigInt(0),jc)],R.prototype,"serializeU128");C([ft(BigInt(0),Mp)],R.prototype,"serializeU256");C([ft(0,Qt)],R.prototype,"serializeU32AsUleb128");function ft(e,t,n){return(r,i,o)=>{const s=o.value;return o.value=function(a){const c=BigInt(a.toString());if(c>BigInt(t.toString())||c<BigInt(e.toString()))throw new Error("Value is out of range");s.apply(this,[a])},o}}var Ji=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<Qt;){const n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(t),!(n&128))break;t+=7}if(e>Qt)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function ee(e,t){t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)})}function Ip(e,t){const n=new R;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{r.call(n,i)}),n.getBytes()}function oe(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(t.deserialize(e));return r}function Oe(e){const t=new R;return e.serialize(t),t.getBytes()}function Np(e){const t=new R;return t.serializeU64(e),t.getBytes()}function fi(e){const t=new R;return t.serializeU8(e),t.getBytes()}function xp(e){const t=new R;return t.serializeU16(e),t.getBytes()}function kp(e){const t=new R;return t.serializeU32(e),t.getBytes()}function Cp(e){const t=new R;return t.serializeU128(e),t.getBytes()}function Dp(e){const t=new R;return t.serializeU256(e),t.getBytes()}function Op(e){const t=new R;return t.serializeBool(e),t.getBytes()}function jp(e){const t=new R;return t.serializeStr(e),t.getBytes()}function Re(e){const t=new R;return t.serializeBytes(e),t.getBytes()}function Bp(e){const t=new R;return t.serializeFixedBytes(e),t.getBytes()}var Kn=class Ae{constructor(t){if(t.length!==Ae.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let n=U.ensure(t);n.noPrefix().length%2!==0&&(n=new U(`0${n.noPrefix()}`));const r=n.toUint8Array();if(r.length>Ae.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Ae.LENGTH)return new Ae(r);const i=new Uint8Array(Ae.LENGTH);return i.set(r,Ae.LENGTH-r.length),new Ae(i)}static isValid(t){if(t==="")return!1;let n=U.ensure(t);return n.noPrefix().length%2!==0&&(n=new U(`0${n.noPrefix()}`)),n.toUint8Array().length<=Ae.LENGTH}toHexString(){return U.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Ae(t.deserializeFixedBytes(Ae.LENGTH))}static standardizeAddress(t){const n=t.toLowerCase();return`0x${(n.startsWith("0x")?n.slice(2):n).padStart(64,"0")}`}};Kn.LENGTH=32;Kn.CORE_CODE_ADDRESS=Kn.fromHex("0x1");var O=Kn,Bc=class In{constructor(t){if(t.length!==In.LENGTH)throw new Error(`Ed25519PublicKey length should be ${In.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new In(n)}};Bc.LENGTH=32;var be=Bc,Lc=class Nn{constructor(t){if(this.value=t,t.length!==Nn.LENGTH)throw new Error(`Ed25519Signature length should be ${Nn.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new Nn(n)}};Lc.LENGTH=64;var Ne=Lc,hi=32,Xn=class Pc{constructor(t,n){if(this.public_keys=t,this.threshold=n,n>hi)throw new Error(`"threshold" cannot be larger than ${hi}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*be.LENGTH+1);return this.public_keys.forEach((n,r)=>{t.set(n.value,r*be.LENGTH)}),t[this.public_keys.length*be.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n[n.length-1],i=[];for(let o=0;o<n.length-1;o+=be.LENGTH){const s=o;i.push(new be(n.subarray(s,s+be.LENGTH)))}return new Pc(i,r)}},Rc=class Kt{constructor(t,n){if(this.signatures=t,this.bitmap=n,n.length!==Kt.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Kt.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*Ne.LENGTH+Kt.BITMAP_LEN);return this.signatures.forEach((n,r)=>{t.set(n.value,r*Ne.LENGTH)}),t.set(this.bitmap,this.signatures.length*Ne.LENGTH),t}static createBitmap(t){const n=new Uint8Array([0,0,0,0]),r=new Set;return t.forEach(i=>{if(i>=hi)throw new Error(`Invalid bit value ${i}.`);if(r.has(i))throw new Error("Duplicated bits detected.");r.add(i);const o=Math.floor(i/8);let s=n[o];s|=128>>i%8,n[o]=s}),n}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let o=0;o<n.length-r.length;o+=Ne.LENGTH){const s=o;i.push(new Ne(n.subarray(s,s+Ne.LENGTH)))}return new Kt(i,r)}};Rc.BITMAP_LEN=4;var Zi=Rc,Nt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Xi.load(e);case 1:return es.load(e);case 2:return Wc.load(e);case 3:return Vc.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},Xi=class Fc extends Nt{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=be.deserialize(t),r=Ne.deserialize(t);return new Fc(n,r)}},es=class Kc extends Nt{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=Xn.deserialize(t),r=Zi.deserialize(t);return new Kc(n,r)}},Wc=class Hc extends Nt{constructor(t,n,r){super(),this.sender=t,this.secondary_signer_addresses=n,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),ee(this.secondary_signer_addresses,t),ee(this.secondary_signers,t)}static load(t){const n=We.deserialize(t),r=oe(t,O),i=oe(t,We);return new Hc(n,r,i)}},Vc=class qc extends Nt{constructor(t,n,r,i){super(),this.sender=t,this.secondary_signer_addresses=n,this.secondary_signers=r,this.fee_payer=i}serialize(t){t.serializeU32AsUleb128(3),this.sender.serialize(t),ee(this.secondary_signer_addresses,t),ee(this.secondary_signers,t),this.fee_payer.address.serialize(t),this.fee_payer.authenticator.serialize(t)}static load(t){const n=We.deserialize(t),r=oe(t,O),i=oe(t,We),o=O.deserialize(t),s=We.deserialize(t),a={address:o,authenticator:s};return new qc(n,r,i,a)}},We=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Qc.load(e);case 1:return $c.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},Qc=class Gc extends We{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=be.deserialize(t),r=Ne.deserialize(t);return new Gc(n,r)}},$c=class Yc extends We{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=Xn.deserialize(t),r=Zi.deserialize(t);return new Yc(n,r)}},ae=class Jc{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const n=t.deserializeStr();return new Jc(n)}},te=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return xt.load(e);case 1:return He.load(e);case 2:return kt.load(e);case 3:return Ct.load(e);case 4:return ct.load(e);case 5:return al.load(e);case 6:return hn.load(e);case 7:return lt.load(e);case 8:return un.load(e);case 9:return dn.load(e);case 10:return fn.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},xt=class Zc extends te{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Zc}},He=class Xc extends te{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Xc}},un=class el extends te{serialize(t){t.serializeU32AsUleb128(8)}static load(t){return new el}},dn=class tl extends te{serialize(t){t.serializeU32AsUleb128(9)}static load(t){return new tl}},kt=class nl extends te{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new nl}},Ct=class rl extends te{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new rl}},fn=class il extends te{serialize(t){t.serializeU32AsUleb128(10)}static load(t){return new il}},ct=class sl extends te{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new sl}},al=class ol extends te{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new ol}},hn=class cl extends te{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const n=te.deserialize(t);return new cl(n)}},lt=class ll extends te{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const n=Dt.deserialize(t);return new ll(n)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===O.CORE_CODE_ADDRESS.toHexString()}},Dt=class pi{constructor(t,n,r,i){this.address=t,this.module_name=n,this.name=r,this.type_args=i}static fromString(t){const n=new pn(t).parseTypeTag();return new pi(n.value.address,n.value.module_name,n.value.name,n.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),ee(this.type_args,t)}static deserialize(t){const n=O.deserialize(t),r=ae.deserialize(t),i=ae.deserialize(t),o=oe(t,te);return new pi(n,r,i,o)}},ts=new Dt(O.fromHex("0x1"),new ae("string"),new ae("String"),[]);function Lp(e){return new Dt(O.fromHex("0x1"),new ae("option"),new ae("Option"),[e])}function Pp(e){return new Dt(O.fromHex("0x1"),new ae("object"),new ae("Object"),[e])}function Fe(e){throw new dl(e)}function ma(e){return!!e.match(/\s/)}function Aa(e){return!!e.match(/[_A-Za-z0-9]/g)}function Rp(e){return!!e.match(/T\d+/g)}function Fp(e,t){const n=e[t];if(n===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];Fe("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(ma(n)){let r="";for(let i=t;i<e.length;i+=1){const o=e[i];if(ma(o))r=`${r}${o}`;else break}return[["SPACE",r],r.length]}else if(Aa(n)){let r="";for(let i=t;i<e.length;i+=1){const o=e[i];if(Aa(o))r=`${r}${o}`;else break}return Rp(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function Kp(e){let t=0;const n=[];for(;t<e.length;){const[r,i]=Fp(e,t);r[0]!=="SPACE"&&n.push(r),t+=i}return n}var pn=class ul{constructor(t,n){this.typeTags=[],this.tokens=Kp(t),this.typeTags=n||[]}consume(t){const n=this.tokens.shift();(!n||n[1]!==t)&&Fe("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(t,n){const r=[];for(this.tokens.length<=0&&Fe("Invalid type tag.");this.tokens[0][1]!==t&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&n)));)this.tokens.length<=0&&Fe("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&Fe("Invalid type tag.");const[t,n]=this.tokens.shift();if(n==="u8")return new He;if(n==="u16")return new un;if(n==="u32")return new dn;if(n==="u64")return new kt;if(n==="u128")return new Ct;if(n==="u256")return new fn;if(n==="bool")return new xt;if(n==="address")return new ct;if(n==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new hn(r)}if(n==="string")return new lt(ts);if(t==="IDENT"&&(n.startsWith("0x")||n.startsWith("0X"))){const r=O.fromHex(n);this.consume("::");const[i,o]=this.tokens.shift();i!=="IDENT"&&Fe("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&Fe("Invalid type tag."),O.CORE_CODE_ADDRESS.toHexString()===r.toHexString()&&o==="object"&&a==="Object")return this.consumeWholeGeneric(),new ct;let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const l=new Dt(r,new ae(o),new ae(a),c);return new lt(l)}if(t==="GENERIC"){this.typeTags.length===0&&Fe("Can't convert generic type since no typeTags were specified.");const r=parseInt(n.substring(1),10);return new ul(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},dl=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},Ot=class fl{constructor(t,n,r,i,o,s,a){this.sender=t,this.sequence_number=n,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=o,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const n=O.deserialize(t),r=t.deserializeU64(),i=gn.deserialize(t),o=t.deserializeU64(),s=t.deserializeU64(),a=t.deserializeU64(),c=cs.deserialize(t);return new fl(n,r,i,o,s,a,c)}},ns=class hl{constructor(t,n,r){this.code=t,this.ty_args=n,this.args=r}serialize(t){t.serializeBytes(this.code),ee(this.ty_args,t),ee(this.args,t)}static deserialize(t){const n=t.deserializeBytes(),r=oe(t,te),i=oe(t,ze);return new hl(n,r,i)}},er=class xn{constructor(t,n,r,i){this.module_name=t,this.function_name=n,this.ty_args=r,this.args=i}static natural(t,n,r,i){return new xn(Gt.fromStr(t),new ae(n),r,i)}static natual(t,n,r,i){return xn.natural(t,n,r,i)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),ee(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(n=>{t.serializeBytes(n)})}static deserialize(t){const n=Gt.deserialize(t),r=ae.deserialize(t),i=oe(t,te),o=t.deserializeUleb128AsU32(),s=[];for(let c=0;c<o;c+=1)s.push(t.deserializeBytes());const a=s;return new xn(n,r,i,a)}},pl=class gl{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new gl(er.deserialize(t))}},yl=class wl{constructor(t,n){this.multisig_address=t,this.transaction_payload=n}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const n=O.deserialize(t),r=t.deserializeBool();let i;return r&&(i=pl.deserialize(t)),new wl(n,i)}},Wp=class ml{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const n=t.deserializeBytes();return new ml(n)}},Gt=class gi{constructor(t,n){this.address=t,this.name=n}static fromStr(t){const n=t.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new gi(O.fromHex(new U(n[0])),new ae(n[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const n=O.deserialize(t),r=ae.deserialize(t);return new gi(n,r)}},Hp=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},Vp=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},tr=class Al{constructor(t,n){this.raw_txn=t,this.authenticator=n}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const n=Ot.deserialize(t),r=Nt.deserialize(t);return new Al(n,r)}},rs=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return is.load(e);case 1:return ss.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},is=class bl extends rs{constructor(t,n){super(),this.raw_txn=t,this.secondary_signer_addresses=n}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),ee(this.secondary_signer_addresses,t)}static load(t){const n=Ot.deserialize(t),r=oe(t,O);return new bl(n,r)}},ss=class vl extends rs{constructor(t,n,r){super(),this.raw_txn=t,this.secondary_signer_addresses=n,this.fee_payer_address=r}serialize(t){t.serializeU32AsUleb128(1),this.raw_txn.serialize(t),ee(this.secondary_signer_addresses,t),this.fee_payer_address.serialize(t)}static load(t){const n=Ot.deserialize(t),r=oe(t,O),i=O.deserialize(t);return new vl(n,r,i)}},gn=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return as.load(e);case 2:return os.load(e);case 3:return Sl.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},as=class zl extends gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const n=ns.deserialize(t);return new zl(n)}},os=class Ul extends gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const n=er.deserialize(t);return new Ul(n)}},Sl=class El extends gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const n=yl.deserialize(t);return new El(n)}},cs=class Tl{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const n=t.deserializeU8();return new Tl(n)}},ze=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ls.load(e);case 1:return fs.load(e);case 2:return hs.load(e);case 3:return gs.load(e);case 4:return ys.load(e);case 5:return ws.load(e);case 6:return us.load(e);case 7:return ds.load(e);case 8:return ps.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},ls=class _l extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const n=t.deserializeU8();return new _l(n)}},us=class Ml extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const n=t.deserializeU16();return new Ml(n)}},ds=class Il extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const n=t.deserializeU32();return new Il(n)}},fs=class Nl extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const n=t.deserializeU64();return new Nl(n)}},hs=class xl extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const n=t.deserializeU128();return new xl(n)}},ps=class kl extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const n=t.deserializeU256();return new kl(n)}},gs=class Cl extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const n=O.deserialize(t);return new Cl(n)}},ys=class Dl extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const n=t.deserializeBytes();return new Dl(n)}},ws=class Ol extends ze{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const n=t.deserializeBool();return new Ol(n)}},jl=class{getHashSalt(){const e=_t.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Bl.load(e);default:throw new Error(`Unknown variant index for Transaction: ${t}`)}}},Bl=class Ll extends jl{constructor(t){super(),this.value=t}hash(){const t=_t.create();return t.update(this.getHashSalt()),t.update(Oe(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new Ll(tr.deserialize(t))}},nr=class Pl{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const n=t.deserializeStr();return new Pl(n)}},rr=class Rl{constructor(t,n){this.name=t,this.type_tag=n}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const n=t.deserializeStr(),r=te.deserialize(t);return new Rl(n,r)}},ir=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ms.load(e);case 1:return $t.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},ms=class Fl extends ir{constructor(t,n,r,i,o){super(),this.name=t,this.doc=n,this.code=r,this.ty_args=i,this.args=o}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),ee(this.ty_args,t),ee(this.args,t)}static load(t){const n=t.deserializeStr(),r=t.deserializeStr(),i=t.deserializeBytes(),o=oe(t,nr),s=oe(t,rr);return new Fl(n,r,i,o,s)}},$t=class Kl extends ir{constructor(t,n,r,i,o){super(),this.name=t,this.module_name=n,this.doc=r,this.ty_args=i,this.args=o}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),ee(this.ty_args,t),ee(this.args,t)}static load(t){const n=t.deserializeStr(),r=Gt.deserialize(t),i=t.deserializeStr(),o=oe(t,nr),s=oe(t,rr);return new Kl(n,r,i,o,s)}},yn=class gt{constructor(t){if(t.length!==gt.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const n=t.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([gt.MULTI_ED25519_SCHEME],n.length);const i=_t.create();return i.update(r),new gt(i.digest())}static fromEd25519PublicKey(t){const n=t.value,r=new Uint8Array(n.length+1);r.set(n),r.set([gt.ED25519_SCHEME],n.length);const i=_t.create();return i.update(r),new gt(i.digest())}derivedAddress(){return U.fromUint8Array(this.bytes)}};yn.LENGTH=32;yn.MULTI_ED25519_SCHEME=1;yn.ED25519_SCHEME=0;yn.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var yi=yn,qp=class{constructor(e,t,n,r,i,o,s){this.accountAddress=e,this.moduleName=t,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=o,this.newPublicKey=s}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Wl=class kn{static fromAptosAccountObject(t){return new kn(U.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,n){if(!kn.isValidPath(t))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(o=>o.toLowerCase()).join(" "),{key:i}=gp(t,hc(Jh(r)));return new kn(i)}constructor(t,n){t?this.signingKey=ve.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=ve.sign.keyPair(),this.accountAddress=U.ensure(n||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new be(this.signingKey.publicKey);return yi.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,n){const r=Oe(O.fromHex(t)),i=new Uint8Array([...r,...n,yi.DERIVE_RESOURCE_ACCOUNT_SCHEME]),o=_t.create();return o.update(i),U.fromUint8Array(o.digest())}static getCollectionID(t,n){const r=new TextEncoder().encode(`${t}::${n}`),i=Ih.create();return i.update(r),U.fromUint8Array(i.digest())}pubKey(){return U.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const n=ve.sign.detached(t,this.signingKey.secretKey);return U.fromUint8Array(n)}signHexString(t){const n=U.ensure(t).toUint8Array();return this.signBuffer(n)}verifySignature(t,n){const r=U.ensure(t).toUint8Array(),i=U.ensure(n).toUint8Array();return ve.sign.detached.verify(r,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:U.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};C([Zn()],Wl.prototype,"authKey");var ba=Wl,wn=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Qp=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,Gp=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,Hl=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,$p=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Yp=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,Jp=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${Qp}
${Gp}`,Zp=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,Xp=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,eg=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${Hl}`,tg=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,ng=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,rg=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,ig=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,sg=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,ag=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,og=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,cg=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,lg=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${Hl}`,ug=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,dg=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,fg=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,hg=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,pg=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${wn}`,gg=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,yg=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function sr(e,t,n){if(!(t!=null&&t.includes(typeof e)))throw new Error(`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Vl(e){if(sr(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function wt(e){if(sr(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function mt(e){return sr(e,["number","bigint","string"]),BigInt(e)}function wg(e,t,n){As(e,t,n)}function As(e,t,n,r){if(t instanceof xt)n.serializeBool(Vl(e));else if(t instanceof He)n.serializeU8(wt(e));else if(t instanceof un)n.serializeU16(wt(e));else if(t instanceof dn)n.serializeU32(wt(e));else if(t instanceof kt)n.serializeU64(mt(e));else if(t instanceof Ct)n.serializeU128(mt(e));else if(t instanceof fn)n.serializeU256(mt(e));else if(t instanceof ct)ql(e,n);else if(t instanceof hn)mg(e,t,n);else if(t instanceof lt)Ag(e,t,n);else throw new Error("Unsupported arg type.")}function ql(e,t){let n;if(typeof e=="string"||e instanceof U)n=O.fromHex(e);else if(e instanceof O)n=e;else throw new Error("Invalid account address.");n.serialize(t)}function mg(e,t,n,r){if(t.value instanceof He){if(e instanceof Uint8Array){n.serializeBytes(e);return}if(e instanceof U){n.serializeBytes(e.toUint8Array());return}if(typeof e=="string"){n.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(i=>As(i,t.value,n))}function Ag(e,t,n,r){const{address:i,module_name:o,name:s,type_args:a}=t.value,c=`${U.fromUint8Array(i.address).toShortString()}::${o.value}::${s.value}`;if(c==="0x1::string::String")sr(e,["string"]),n.serializeStr(e);else if(c==="0x1::object::Object")ql(e,n);else if(c==="0x1::option::Option"){if(a.length!==1)throw new Error(`Option has the wrong number of type arguments ${a.length}`);bg(e,a[0],n)}else throw new Error("Unsupported struct type in function argument")}function bg(e,t,n,r){e==null?n.serializeU32AsUleb128(0):(n.serializeU32AsUleb128(1),As(e,t,n))}function vg(e,t){if(t instanceof xt)return new ws(Vl(e));if(t instanceof He)return new ls(wt(e));if(t instanceof un)return new us(wt(e));if(t instanceof dn)return new ds(wt(e));if(t instanceof kt)return new fs(mt(e));if(t instanceof Ct)return new hs(mt(e));if(t instanceof fn)return new ps(mt(e));if(t instanceof ct){let n;if(typeof e=="string"||e instanceof U)n=O.fromHex(e);else if(e instanceof O)n=e;else throw new Error("Invalid account address.");return new gs(n)}if(t instanceof hn&&t.value instanceof He){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new ys(e)}throw new Error("Unknown type for TransactionArgument.")}var zg="APTOS::RawTransaction",va="APTOS::RawTransactionWithData",Yt=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,n)}static getSigningMessage(e){const t=_t.create();if(e instanceof Ot)t.update(zg);else if(e instanceof is)t.update(va);else if(e instanceof ss)t.update(va);else throw new Error("Unknown transaction type.");const n=t.digest(),r=Oe(e),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},xr=class extends Yt{constructor(e,t,n){super(e,n),this.publicKey=t}rawToSigned(e){const t=Yt.getSigningMessage(e),n=this.signingFunction(t),r=new Xi(new be(this.publicKey),n);return new tr(e,r)}sign(e){return Oe(this.rawToSigned(e))}},Ug=class extends Yt{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Yt.getSigningMessage(e),n=this.signingFunction(t),r=new es(this.publicKey,n);return new tr(e,r)}sign(e){return Oe(this.rawToSigned(e))}},Sg=class wi{constructor(t,n){this.abiMap=new Map,t.forEach(r=>{const i=new Ji(r),o=ir.deserialize(i);let s;if(o instanceof $t){const a=o,{address:c,name:l}=a.module_name;s=`${U.fromUint8Array(c.address).toShortString()}::${l.value}::${a.name}`}else s=o.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,o)}),this.builderConfig={maxGasAmount:BigInt(Ic),expSecFromNow:Nc,...n}}static toBCSArgs(t,n){if(t.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>{const o=new R;return wg(r,t[i].type_tag,o),o.getBytes()})}static toTransactionArguments(t,n){if(t.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>vg(r,t[i].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,n,r){const i=n.map(a=>new pn(a).parseTypeTag());let o;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof $t){const a=s,c=wi.toBCSArgs(a.args,r);o=new os(new er(a.module_name,new ae(a.name),i,c))}else if(s instanceof ms){const a=s,c=wi.toTransactionArguments(a.args,r);o=new as(new ns(a.code,i,c))}else throw new Error("Unknown ABI format.");return o}build(t,n,r){const{sender:i,sequenceNumber:o,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:c,chainId:l}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=i instanceof O?i:O.fromHex(i),d=BigInt(Math.floor(Date.now()/1e3)+Number(c)),f=this.buildTransactionPayload(t,n,r);if(f)return new Ot(u,BigInt(o),f,BigInt(a),BigInt(s),d,new cs(Number(l)));throw new Error("Invalid ABI.")}},Ql=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map(r=>r.abi).flatMap(r=>r.exposed_functions.filter(i=>i.is_entry).map(i=>({fullName:`${r.address}::${r.name}::${i.name}`,...i}))),n=new Map;return t.forEach(r=>{n.set(r.fullName,r)}),n}async build(e,t,n){if(e=(p=>p.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[r,i]=e.split("::"),o=await this.fetchABI(r);if(!o.has(e))throw new Error(`${e} doesn't exist.`);const s=o.get(e),a=s.params.filter(p=>p!=="signer"&&p!=="&signer").map((p,z)=>new rr(`var${z}`,new pn(p,t).parseTypeTag())),c=new $t(s.name,Gt.fromStr(`${r}::${i}`),"",s.generic_type_params.map((p,z)=>new nr(`${z}`)),a),{sender:l,...u}=this.builderConfig,d=l instanceof O?U.fromUint8Array(l.address):l,[{sequence_number:f},h,{gas_estimate:y}]=await Promise.all([u!=null&&u.sequenceNumber?Promise.resolve({sequence_number:u==null?void 0:u.sequenceNumber}):this.aptosClient.getAccount(d),u!=null&&u.chainId?Promise.resolve(u==null?void 0:u.chainId):this.aptosClient.getChainId(),u!=null&&u.gasUnitPrice?Promise.resolve({gas_estimate:u==null?void 0:u.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Sg([Oe(c)],{sender:l,sequenceNumber:f,chainId:h,gasUnitPrice:BigInt(y),...u}).build(e,t,n)}};C([xc(10*60*1e3)],Ql.prototype,"fetchABI");var F=class yt{constructor(t,n,r=!1){if(!t)throw new Error("Node URL cannot be empty.");r?this.nodeUrl=t:this.nodeUrl=mp(t),this.config=n==null?{}:{...n}}async getAccount(t){const{data:n}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return n}async getAccountTransactions(t,n){const{data:r}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:n==null?void 0:n.start,limit:n==null?void 0:n.limit},overrides:{...this.config}});return r}async getAccountModules(t,n){return await wa({url:this.nodeUrl,endpoint:`accounts/${t}/modules`,params:{ledger_version:n==null?void 0:n.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(t,n,r){const{data:i}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}/module/${n}`,originMethod:"getAccountModule",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}async getAccountResources(t,n){return await wa({url:this.nodeUrl,endpoint:`accounts/${t}/resources`,params:{ledger_version:n==null?void 0:n.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(t,n,r){const{data:i}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}/resource/${n}`,originMethod:"getAccountResource",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}static generateBCSTransaction(t,n){return new xr(r=>{const i=t.signBuffer(r);return new B.Ed25519Signature(i.toUint8Array())},t.pubKey().toUint8Array()).sign(n)}static generateBCSSimulation(t,n){return new xr(r=>{const i=new Uint8Array(64);return new B.Ed25519Signature(i)},t.pubKey().toUint8Array()).sign(n)}async generateTransaction(t,n,r){const i={sender:t};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const o=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=o-Math.floor(Date.now()/1e3)}return new Ql(this,i).build(n.function,n.type_arguments,n.arguments)}async generateFeePayerTransaction(t,n,r,i=[],o){const s=await this.generateTransaction(t,n,o),a=i.map(c=>O.fromHex(c));return new B.FeePayerRawTransaction(s,a,O.fromHex(r))}async submitFeePayerTransaction(t,n,r,i=[]){const o=new B.TransactionAuthenticatorFeePayer(n,t.secondary_signer_addresses,i,{address:t.fee_payer_address,authenticator:r}),s=Oe(new B.SignedTransaction(t.raw_txn,o));return await this.submitSignedBCSTransaction(s)}async signMultiTransaction(t,n){const r=new B.Ed25519Signature(t.signBuffer(Yt.getSigningMessage(n)).toUint8Array()),i=new B.AccountAuthenticatorEd25519(new B.Ed25519PublicKey(t.signingKey.publicKey),r);return Promise.resolve(i)}async signTransaction(t,n){return Promise.resolve(yt.generateBCSTransaction(t,n))}async getEventsByCreationNumber(t,n,r){const{data:i}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}/events/${n}`,originMethod:"getEventsByCreationNumber",params:{start:r==null?void 0:r.start,limit:r==null?void 0:r.limit},overrides:{...this.config}});return i}async getEventsByEventHandle(t,n,r,i){const{data:o}=await ce({url:this.nodeUrl,endpoint:`accounts/${U.ensure(t).hex()}/events/${n}/${r}`,originMethod:"getEventsByEventHandle",params:{start:i==null?void 0:i.start,limit:i==null?void 0:i.limit},overrides:{...this.config}});return o}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,n,r){let i;return t instanceof ba?i=yt.generateBCSSimulation(t,n):t instanceof Xn?i=new Ug(()=>{const{threshold:o}=t,s=[],a=[];for(let l=0;l<o;l+=1)s.push(l),a.push(new B.Ed25519Signature(new Uint8Array(64)));const c=B.MultiEd25519Signature.createBitmap(s);return new B.MultiEd25519Signature(a,c)},t).sign(n):i=new xr(()=>{const o=new Uint8Array(64);return new B.Ed25519Signature(o)},t.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(t){const{data:n}=await Ft({url:this.nodeUrl,body:t,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return n}async submitBCSSimulation(t,n){var r,i,o;const s={estimate_gas_unit_price:(r=n==null?void 0:n.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=n==null?void 0:n.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(o=n==null?void 0:n.estimatePrioritizedGasUnitPrice)!=null?o:!1},{data:a}=await Ft({url:this.nodeUrl,body:t,endpoint:"transactions/simulate",params:s,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return a}async getTransactions(t){var n;const{data:r}=await ce({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(n=t==null?void 0:t.start)==null?void 0:n.toString(),limit:t==null?void 0:t.limit},overrides:{...this.config}});return r}async getTransactionByHash(t){const{data:n}=await ce({url:this.nodeUrl,endpoint:`transactions/by_hash/${t}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return n}async getTransactionByVersion(t){const{data:n}=await ce({url:this.nodeUrl,endpoint:`transactions/by_version/${t}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return n}async transactionPending(t){try{return(await this.getTransactionByHash(t)).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async waitForTransactionWithResult(t,n){var r,i;const o=(r=n==null?void 0:n.timeoutSecs)!=null?r:Ap,s=(i=n==null?void 0:n.checkSuccess)!=null?i:!1;let a=!0,c=0,l;for(;a&&!(c>=o);){try{if(l=await this.getTransactionByHash(t),a=l.type==="pending_transaction",!a)break}catch(u){const d=u instanceof bs,f=d&&u.status!==404&&u.status>=400&&u.status<500;if(!d||f)throw u}await wp(1e3),c+=1}if(l===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new Eg(`Waiting for transaction ${t} timed out after ${o} seconds`,l);if(!s)return l;if(!(l!=null&&l.success))throw new Tg(`Transaction ${t} failed with an error: ${l.vm_status}`,l);return l}async waitForTransaction(t,n){await this.waitForTransactionWithResult(t,n)}async getLedgerInfo(){const{data:t}=await ce({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return t}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,n,r){var i;return(await Ft({url:this.nodeUrl,body:n,endpoint:`tables/${t}/item`,originMethod:"getTableItem",params:{ledger_version:(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString()},overrides:{...this.config}})).data}async generateRawTransaction(t,n,r){const[{sequence_number:i},o,{gas_estimate:s}]=await Promise.all([r!=null&&r.providedSequenceNumber?Promise.resolve({sequence_number:r.providedSequenceNumber}):this.getAccount(t),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:l}={maxGasAmount:BigInt(Ic),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Nc),...r};return new B.RawTransaction(B.AccountAddress.fromHex(t),BigInt(i),n,a,c,l,new B.ChainId(o))}async generateSignSubmitTransaction(t,n,r){const i=await this.generateRawTransaction(t.address(),n,r),o=yt.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(o)).hash}async signAndSubmitTransaction(t,n){const r=yt.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(r)).hash}async publishPackage(t,n,r,i){const o=new R;ee(r,o);const s=new B.TransactionPayloadEntryFunction(B.EntryFunction.natural("0x1::code","publish_package_txn",[],[Re(n),o.getBytes()]));return this.generateSignSubmitTransaction(t,s,i)}async createResourceAccountAndPublishPackage(t,n,r,i,o){const s=new R;ee(i,s);const a=new B.TransactionPayloadEntryFunction(B.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[Re(n),Re(r),s.getBytes()]));return this.generateSignSubmitTransaction(t,a,o)}async generateSignSubmitWaitForTransaction(t,n,r){const i=await this.generateSignSubmitTransaction(t,n,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){const{data:t}=await ce({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return t}async estimateMaxGasAmount(t){const n=`0x1::coin::CoinStore<${bp}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),o=i.find(s=>s.type===n);return BigInt(o.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(t,n,r){const{sequence_number:i,authentication_key:o}=await this.getAccount(t.address()),s=new ba(n),a=new B.RotationProofChallenge(B.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),B.AccountAddress.fromHex(t.address()),new B.AccountAddress(new U(o).toUint8Array()),s.pubKey().toUint8Array()),c=U.fromUint8Array(Oe(a)),l=t.signHexString(c),u=s.signHexString(c),d=new B.TransactionPayloadEntryFunction(B.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[fi(0),Re(t.pubKey().toUint8Array()),fi(0),Re(s.pubKey().toUint8Array()),Re(l.toUint8Array()),Re(u.toUint8Array())])),f=await this.generateRawTransaction(t.address(),d,r),h=yt.generateBCSTransaction(t,f);return this.submitSignedBCSTransaction(h)}async lookupOriginalAddress(t){const n=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=n.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:U.ensure(t).hex()});return new U(i)}async getBlockByHeight(t,n){const{data:r}=await ce({url:this.nodeUrl,endpoint:`blocks/by_height/${t}`,originMethod:"getBlockByHeight",params:{with_transactions:n},overrides:{...this.config}});return r}async getBlockByVersion(t,n){const{data:r}=await ce({url:this.nodeUrl,endpoint:`blocks/by_version/${t}`,originMethod:"getBlockByVersion",params:{with_transactions:n},overrides:{...this.config}});return r}async view(t,n){const{data:r}=await Ft({url:this.nodeUrl,body:t,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:n},overrides:{...this.config}});return r}clearCache(t){vp(t)}};C([V],F.prototype,"getAccount");C([V],F.prototype,"getAccountTransactions");C([V,xc(10*60*1e3)],F.prototype,"getAccountModules");C([V],F.prototype,"getAccountModule");C([V],F.prototype,"getAccountResources");C([V],F.prototype,"getAccountResource");C([V],F.prototype,"getEventsByCreationNumber");C([V],F.prototype,"getEventsByEventHandle");C([V],F.prototype,"submitSignedBCSTransaction");C([V],F.prototype,"submitBCSSimulation");C([V],F.prototype,"getTransactions");C([V],F.prototype,"getTransactionByHash");C([V],F.prototype,"getTransactionByVersion");C([V],F.prototype,"getLedgerInfo");C([Zn()],F.prototype,"getChainId");C([V],F.prototype,"getTableItem");C([V,Zn({ttlMs:5*60*1e3,tags:["gas_estimates"]})],F.prototype,"estimateGasPrice");C([V],F.prototype,"estimateMaxGasAmount");C([V],F.prototype,"getBlockByHeight");C([V],F.prototype,"getBlockByVersion");C([V],F.prototype,"view");var Gl=F,Eg=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},Tg=class extends Error{constructor(e,t){super(e),this.transaction=t}},bs=class extends Error{constructor(e,t,n,r){super(t),this.status=e,this.message=t,this.errorCode=n,this.vmErrorCode=r}};function V(e,t,n){const r=n.value;return n.value=async function(...i){var o,s;try{return await r.apply(this,[...i])}catch(a){throw a instanceof kc?new bs(a.status,JSON.stringify({message:a.message,...a.data}),(o=a.data)==null?void 0:o.error_code,(s=a.data)==null?void 0:s.vm_error_code):a}},n}var $l=class K{constructor(t,n){this.endpoint=t,this.config=n}static validateAddress(t){if(t.length<66)throw new Error(`${t} is less than 66 chars long.`)}async queryIndexer(t){const n=await Ft({url:this.endpoint,body:t,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(n.data.errors)throw new bs(n.data.errors[0].extensions.code,JSON.stringify({message:n.data.errors[0].message,error_code:n.data.errors[0].extensions.code}));return n.data.data}async getIndexerLedgerInfo(){const t={query:sg};return this.queryIndexer(t)}async getAccountNFTs(t,n){const r=U.ensure(t).hex();K.validateAddress(r);const i={query:Jp,variables:{address:r,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}};return this.queryIndexer(i)}async getTokenActivities(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={token_data_id:{_eq:o}};n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const a={query:lg,variables:{where_condition:s,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenActivitiesCount(t){const n={query:ug,variables:{token_id:t}};return this.queryIndexer(n)}async getAccountTokensCount(t,n){var r,i;const o={owner_address:{_eq:t},amount:{_gt:"0"}};n!=null&&n.tokenStandard&&(o.token_standard={_eq:n==null?void 0:n.tokenStandard});const s=U.ensure(t).hex();K.validateAddress(s);const a={query:Zp,variables:{where_condition:o,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit}};return this.queryIndexer(a)}async getTokenData(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={token_data_id:{_eq:o}};n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const a={query:fg,variables:{where_condition:s,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenOwnersData(t,n,r){var i,o;const s=U.ensure(t).hex();K.validateAddress(s);const a={token_data_id:{_eq:s},amount:{_gt:"0"}};n&&(a.property_version_v1={_eq:n}),r!=null&&r.tokenStandard&&(a.token_standard={_eq:r==null?void 0:r.tokenStandard});const c={query:pg,variables:{where_condition:a,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(c)}async getTokenCurrentOwnerData(t,n,r){var i,o;const s=U.ensure(t).hex();K.validateAddress(s);const a={token_data_id:{_eq:s},amount:{_gt:"0"}};n&&(a.property_version_v1={_eq:n}),r!=null&&r.tokenStandard&&(a.token_standard={_eq:r==null?void 0:r.tokenStandard});const c={query:dg,variables:{where_condition:a,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(c)}async getOwnedTokens(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={owner_address:{_eq:o},amount:{_gt:0}};n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const a={query:og,variables:{where_condition:s,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(a)}async getOwnedTokensByTokenData(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={token_data_id:{_eq:o},amount:{_gt:0}};n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});const a={query:cg,variables:{where_condition:s,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenOwnedFromCollectionAddress(t,n,r){var i,o;const s=U.ensure(t).hex();K.validateAddress(s);const a=U.ensure(n).hex();K.validateAddress(a);const c={owner_address:{_eq:s},current_token_data:{collection_id:{_eq:a}},amount:{_gt:0}};r!=null&&r.tokenStandard&&(c.token_standard={_eq:r==null?void 0:r.tokenStandard});const l={query:hg,variables:{where_condition:c,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(l)}async getTokenOwnedFromCollectionNameAndCreatorAddress(t,n,r,i){const o=await this.getCollectionAddress(r,n,i);return await this.getTokenOwnedFromCollectionAddress(t,o,i)}async getCollectionData(t,n,r){var i,o;const s=U.ensure(t).hex();K.validateAddress(s);const a={collection_name:{_eq:n},creator_address:{_eq:s}};r!=null&&r.tokenStandard&&(a.token_standard={_eq:r==null?void 0:r.tokenStandard});const c={query:tg,variables:{where_condition:a,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(c)}async getCollectionAddress(t,n,r){return(await this.getCollectionData(t,n,r)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={owner_address:{_eq:o}};n!=null&&n.tokenStandard&&(s.current_collection={token_standard:{_eq:n==null?void 0:n.tokenStandard}});const a={query:ng,variables:{where_condition:s,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(a)}async getAccountTransactionsCount(t){const n=U.ensure(t).hex();K.validateAddress(n);const r={query:Xp,variables:{address:n}};return this.queryIndexer(r)}async getAccountTransactionsData(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={query:eg,variables:{where_condition:{account_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(s)}async getTopUserTransactions(t){const n={query:gg,variables:{limit:t}};return this.queryIndexer(n)}async getUserTransactions(t){var n,r;const i={version:{_lte:t==null?void 0:t.startVersion}},o={query:yg,variables:{where_condition:i,offset:(n=t==null?void 0:t.options)==null?void 0:n.offset,limit:(r=t==null?void 0:t.options)==null?void 0:r.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(o)}async getDelegatedStakingActivities(t,n){const r=U.ensure(t).hex(),i=U.ensure(n).hex();K.validateAddress(r),K.validateAddress(i);const o={query:ig,variables:{delegatorAddress:r,poolAddress:i}};return this.queryIndexer(o)}async getNumberOfDelegators(t){const n=U.ensure(t).hex();K.validateAddress(n);const r={query:ag,variables:{poolAddress:n}};return this.queryIndexer(r)}async getAccountCoinsData(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={query:Yp,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(s)}async getAccountCoinsDataCount(t){const n=U.ensure(t).hex();K.validateAddress(n);const r={query:$p,variables:{address:n}};return this.queryIndexer(r)}async getAccountOwnedObjects(t,n){var r,i;const o=U.ensure(t).hex();K.validateAddress(o);const s={query:rg,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(s)}},Yl=class{constructor(e,t,n=!1){let r=null,i=null;if(typeof e=="object"&&_g(e)?(r=e.fullnodeUrl,i=e.indexerUrl,this.network="CUSTOM"):(r=Ep[e],i=Sp[e],this.network=e),this.network==="CUSTOM"&&!r)throw new Error("fullnode url is not provided");i&&(this.indexerClient=new $l(i,t)),this.aptosClient=new Gl(r,t,n)}};function Jl(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&(i.value=function(...o){return this[n][r](...o)},Object.defineProperty(e.prototype,r,i))}),Object.getOwnPropertyNames(t).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);i&&(i.value=function(...o){return this[n][r](...o)},!e.hasOwnProperty.call(e,r)&&Object.defineProperty(e,r,i))})}Jl(Yl,Gl,"aptosClient");Jl(Yl,$l,"indexerClient");function _g(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"}var Zl=class{constructor(e,t){this.type=e,this.value=t}},Xl=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function Mg(e){let t;return e==="string"||e==="String"?t=new lt(ts):t=new pn(e).parseTypeTag(),t}function eu(e){const t=e.map.data,n=new Xl;return t.forEach(r=>{const{key:i}=r,o=r.value.value,s=r.value.type,a=Mg(s),c=Ig(a,o),l=new Zl(s,c);n.setProperty(i,l)}),n}function Ig(e,t){const n=new Ji(new U(t).toUint8Array());let r="";return e instanceof He?r=n.deserializeU8().toString():e instanceof kt?r=n.deserializeU64().toString():e instanceof Ct?r=n.deserializeU128().toString():e instanceof xt?r=n.deserializeBool()?"true":"false":e instanceof ct?r=U.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof lt&&e.isStringTypeTag()?r=n.deserializeStr():r=t,r}var Ng={};Jn(Ng,{PropertyMap:()=>Xl,PropertyValue:()=>Zl,Token:()=>kg,TokenData:()=>xg});var xg=class{constructor(e,t,n,r,i,o,s,a){this.collection=e,this.description=t,this.name=n,this.maximum=r,this.supply=i,this.uri=o,this.default_properties=eu(s),this.mutability_config=a}},kg=class{constructor(e,t,n){this.id=e,this.amount=t,this.token_properties=eu(n)}},Cg={};Jn(Cg,{AptosErrorCode:()=>tu,MoveFunctionVisibility:()=>nu,RoleType:()=>ru});var tu=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(tu||{}),nu=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(nu||{}),ru=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(ru||{});function Dg(e){return(e==null?void 0:e.serialize)!==void 0}function iu(e){return(e==null?void 0:e.serialize)!==void 0&&(e==null?void 0:e.bcsToBytes)!==void 0&&(e==null?void 0:e.bcsToHex)!==void 0}function su(e){return Dg(e)||iu(e)}function Wn(e){if(iu(e))return e.bcsToHex().toString();const t=Dc.bcsToBytes(e);return we.fromHexInput(t).toString()}function za(e,t){const n=we.fromHexString(t).toUint8Array(),r=new ge(n);return e.deserialize(r)}var ar=class au extends Error{constructor(t){super(t),this.name="UnexpectedValueError",Object.setPrototypeOf(this,au.prototype)}};function ou(e){return e instanceof Uint8Array?{type:"Uint8Array",value:we.fromHexInput(e).toString()}:Array.isArray(e)?e.map(ou):e}function Ua(e){const t=e.arguments.map(ou);return{...e,arguments:t,type:"entry_function_payload"}}function cu(e){if(e.type==="entry_function_payload"||e.type===void 0)return Ua(e);if(e.type==="multisig_payload"){const t=e.transaction_payload!==void 0?Ua(e.transaction_payload):void 0;return{...e,transaction_payload:t}}throw new ar}function mi(e){const t=Wn(e);if("fee_payer_address"in e)return{type:"fee_payer_raw_txn",value:t};if("secondary_signer_addresses"in e)return{type:"multi_agent_raw_txn",value:t};if("chain_id"in e)return{type:"raw_txn",value:t};throw new ar("Invalid raw transaction type")}function Og(e){if("payload"in e){const t=su(e.payload)?Wn(e.payload):cu(e.payload);return{options:e.options,payload:t}}if("feePayerAuthenticator"in e)return{feePayerAuthenticator:Wn(e.feePayerAuthenticator),rawTxn:mi(e.rawTxn)};if("rawTxn"in e)return{rawTxn:mi(e.rawTxn)};throw new ar}function jg(e){if("payload"in e){const t=su(e.payload)?Wn(e.payload):cu(e.payload);return{options:e.options,payload:t}}if("rawTxn"in e)return{rawTxn:mi(e.rawTxn)};throw new ar}function Bg(e){const t=za(dt,e.accountAuthenticator);if("rawTxn"in e){const n=za(qn,e.rawTxn);return{accountAuthenticator:t,rawTxn:n}}return{accountAuthenticator:t}}function lu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lg}=Object.prototype,{getPrototypeOf:vs}=Object,{iterator:or,toStringTag:uu}=Symbol,cr=(e=>t=>{const n=Lg.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=e=>(e=e.toLowerCase(),t=>cr(t)===e),lr=e=>t=>typeof t===e,{isArray:jt}=Array,Jt=lr("undefined");function Pg(e){return e!==null&&!Jt(e)&&e.constructor!==null&&!Jt(e.constructor)&&ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const du=Ue("ArrayBuffer");function Rg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&du(e.buffer),t}const Fg=lr("string"),ue=lr("function"),fu=lr("number"),ur=e=>e!==null&&typeof e=="object",Kg=e=>e===!0||e===!1,Cn=e=>{if(cr(e)!=="object")return!1;const t=vs(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uu in e)&&!(or in e)},Wg=Ue("Date"),Hg=Ue("File"),Vg=Ue("Blob"),qg=Ue("FileList"),Qg=e=>ur(e)&&ue(e.pipe),Gg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ue(e.append)&&((t=cr(e))==="formdata"||t==="object"&&ue(e.toString)&&e.toString()==="[object FormData]"))},$g=Ue("URLSearchParams"),[Yg,Jg,Zg,Xg]=["ReadableStream","Request","Response","Headers"].map(Ue),ey=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mn(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),jt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function hu(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:bt.global,pu=e=>!Jt(e)&&e!==Xe;function Ai(){const{caseless:e}=pu(this)&&this||{},t={},n=(r,i)=>{const o=e&&hu(t,i)||i;Cn(t[o])&&Cn(r)?t[o]=Ai(t[o],r):Cn(r)?t[o]=Ai({},r):jt(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&mn(arguments[r],n);return t}const ty=(e,t,n,{allOwnKeys:r}={})=>(mn(t,(i,o)=>{n&&ue(i)?e[o]=lu(i,n):e[o]=i},{allOwnKeys:r}),e),ny=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ry=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},iy=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&vs(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},sy=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ay=e=>{if(!e)return null;if(jt(e))return e;let t=e.length;if(!fu(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},oy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vs(Uint8Array)),cy=(e,t)=>{const n=(e&&e[or]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},ly=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},uy=Ue("HTMLFormElement"),dy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Sa=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),fy=Ue("RegExp"),gu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};mn(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},hy=e=>{gu(e,(t,n)=>{if(ue(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ue(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},py=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return jt(e)?r(e):r(String(e).split(t)),n},gy=()=>{},yy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wy(e){return!!(e&&ue(e.append)&&e[uu]==="FormData"&&e[or])}const my=e=>{const t=new Array(10),n=(r,i)=>{if(ur(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=jt(r)?[]:{};return mn(r,(s,a)=>{const c=n(s,i+1);!Jt(c)&&(o[a]=c)}),t[i]=void 0,o}}return r};return n(e,0)},Ay=Ue("AsyncFunction"),by=e=>e&&(ur(e)||ue(e))&&ue(e.then)&&ue(e.catch),yu=((e,t)=>e?setImmediate:t?((n,r)=>(Xe.addEventListener("message",({source:i,data:o})=>{i===Xe&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xe.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ue(Xe.postMessage)),vy=typeof queueMicrotask<"u"?queueMicrotask.bind(Xe):typeof bt.process<"u"&&bt.process.nextTick||yu,zy=e=>e!=null&&ue(e[or]),g={isArray:jt,isArrayBuffer:du,isBuffer:Pg,isFormData:Gg,isArrayBufferView:Rg,isString:Fg,isNumber:fu,isBoolean:Kg,isObject:ur,isPlainObject:Cn,isReadableStream:Yg,isRequest:Jg,isResponse:Zg,isHeaders:Xg,isUndefined:Jt,isDate:Wg,isFile:Hg,isBlob:Vg,isRegExp:fy,isFunction:ue,isStream:Qg,isURLSearchParams:$g,isTypedArray:oy,isFileList:qg,forEach:mn,merge:Ai,extend:ty,trim:ey,stripBOM:ny,inherits:ry,toFlatObject:iy,kindOf:cr,kindOfTest:Ue,endsWith:sy,toArray:ay,forEachEntry:cy,matchAll:ly,isHTMLForm:uy,hasOwnProperty:Sa,hasOwnProp:Sa,reduceDescriptors:gu,freezeMethods:hy,toObjectSet:py,toCamelCase:dy,noop:gy,toFiniteNumber:yy,findKey:hu,global:Xe,isContextDefined:pu,isSpecCompliantForm:wy,toJSONObject:my,isAsyncFn:Ay,isThenable:by,setImmediate:yu,asap:vy,isIterable:zy};function I(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}g.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const wu=I.prototype,mu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mu[e]={value:e}});Object.defineProperties(I,mu);Object.defineProperty(wu,"isAxiosError",{value:!0});I.from=(e,t,n,r,i,o)=>{const s=Object.create(wu);return g.toFlatObject(e,s,function(a){return a!==Error.prototype},a=>a!=="isAxiosError"),I.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Uy=null;function bi(e){return g.isPlainObject(e)||g.isArray(e)}function Au(e){return g.endsWith(e,"[]")?e.slice(0,-2):e}function Ea(e,t,n){return e?e.concat(t).map(function(r,i){return r=Au(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Sy(e){return g.isArray(e)&&!e.some(bi)}const Ey=g.toFlatObject(g,{},null,function(e){return/^is[A-Z]/.test(e)});function dr(e,t,n){if(!g.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=g.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,y){return!g.isUndefined(y[h])});const r=n.metaTokens,i=n.visitor||l,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(t);if(!g.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(g.isDate(h))return h.toISOString();if(!a&&g.isBlob(h))throw new I("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(h)||g.isTypedArray(h)?a&&typeof Blob=="function"?new Blob([h]):bt.Buffer.from(h):h}function l(h,y,p){let z=h;if(h&&!p&&typeof h=="object"){if(g.endsWith(y,"{}"))y=r?y:y.slice(0,-2),h=JSON.stringify(h);else if(g.isArray(h)&&Sy(h)||(g.isFileList(h)||g.endsWith(y,"[]"))&&(z=g.toArray(h)))return y=Au(y),z.forEach(function(E,v){!(g.isUndefined(E)||E===null)&&t.append(s===!0?Ea([y],v,o):s===null?y:y+"[]",c(E))}),!1}return bi(h)?!0:(t.append(Ea(p,y,o),c(h)),!1)}const u=[],d=Object.assign(Ey,{defaultVisitor:l,convertValue:c,isVisitable:bi});function f(h,y){if(!g.isUndefined(h)){if(u.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(h),g.forEach(h,function(p,z){(!(g.isUndefined(p)||p===null)&&i.call(t,p,g.isString(z)?z.trim():z,y,d))===!0&&f(p,y?y.concat(z):[z])}),u.pop()}}if(!g.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Ta(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zs(e,t){this._pairs=[],e&&dr(e,this,t)}const bu=zs.prototype;bu.append=function(e,t){this._pairs.push([e,t])};bu.toString=function(e){const t=e?function(n){return e.call(this,n,Ta)}:Ta;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Ty(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vu(e,t,n){if(!t)return e;const r=n&&n.encode||Ty;g.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=g.isURLSearchParams(t)?t.toString():new zs(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class _a{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){g.forEach(this.handlers,function(n){n!==null&&t(n)})}}const zu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_y=typeof URLSearchParams<"u"?URLSearchParams:zs,My=typeof FormData<"u"?FormData:null,Iy=typeof Blob<"u"?Blob:null,Ny={isBrowser:!0,classes:{URLSearchParams:_y,FormData:My,Blob:Iy},protocols:["http","https","file","blob","url","data"]},Us=typeof window<"u"&&typeof document<"u",vi=typeof navigator=="object"&&navigator||void 0,xy=Us&&(!vi||["ReactNative","NativeScript","NS"].indexOf(vi.product)<0),ky=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cy=Us&&window.location.href||"http://localhost",Dy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Us,hasStandardBrowserEnv:xy,hasStandardBrowserWebWorkerEnv:ky,navigator:vi,origin:Cy},Symbol.toStringTag,{value:"Module"})),se={...Dy,...Ny};function Oy(e,t){return dr(e,new se.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return se.isNode&&g.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function jy(e){return g.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function By(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function Uu(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=n.length;return s=!s&&g.isArray(i)?i.length:s,c?(g.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!g.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&g.isArray(i[s])&&(i[s]=By(i[s])),!a)}if(g.isFormData(e)&&g.isFunction(e.entries)){const n={};return g.forEachEntry(e,(r,i)=>{t(jy(r),i,n,0)}),n}return null}function Ly(e,t,n){if(g.isString(e))try{return(t||JSON.parse)(e),g.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const An={transitional:zu,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=g.isObject(e);if(i&&g.isHTMLForm(e)&&(e=new FormData(e)),g.isFormData(e))return r?JSON.stringify(Uu(e)):e;if(g.isArrayBuffer(e)||g.isBuffer(e)||g.isStream(e)||g.isFile(e)||g.isBlob(e)||g.isReadableStream(e))return e;if(g.isArrayBufferView(e))return e.buffer;if(g.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Oy(e,this.formSerializer).toString();if((o=g.isFileList(e))||n.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return dr(o?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),Ly(e)):e}],transformResponse:[function(e){const t=this.transitional||An.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(g.isResponse(e)||g.isReadableStream(e))return e;if(e&&g.isString(e)&&(n&&!this.responseType||r)){const i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?I.from(o,I.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],e=>{An.headers[e]={}});const Py=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ry=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Py[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ma=Symbol("internals");function Pt(e){return e&&String(e).trim().toLowerCase()}function Dn(e){return e===!1||e==null?e:g.isArray(e)?e.map(Dn):String(e)}function Fy(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Ky=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kr(e,t,n,r,i){if(g.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!g.isString(t)){if(g.isString(r))return t.indexOf(r)!==-1;if(g.isRegExp(r))return r.test(t)}}function Wy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Hy(e,t){const n=g.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let de=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(s,a,c){const l=Pt(a);if(!l)throw new Error("header name must be a non-empty string");const u=g.findKey(r,l);(!u||r[u]===void 0||c===!0||c===void 0&&r[u]!==!1)&&(r[u||a]=Dn(s))}const o=(s,a)=>g.forEach(s,(c,l)=>i(c,l,a));if(g.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(g.isString(e)&&(e=e.trim())&&!Ky(e))o(Ry(e),t);else if(g.isObject(e)&&g.isIterable(e)){let s={},a,c;for(const l of e){if(!g.isArray(l))throw TypeError("Object iterator must return a key-value pair");s[c=l[0]]=(a=s[c])?g.isArray(a)?[...a,l[1]]:[a,l[1]]:l[1]}o(s,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=Pt(e),e){const n=g.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return Fy(r);if(g.isFunction(t))return t.call(this,r,n);if(g.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pt(e),e){const n=g.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||kr(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function i(o){if(o=Pt(o),o){const s=g.findKey(n,o);s&&(!t||kr(n,n[s],s,t))&&(delete n[s],r=!0)}}return g.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];(!e||kr(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return g.forEach(this,(r,i)=>{const o=g.findKey(n,i);if(o){t[o]=Dn(r),delete t[i];return}const s=e?Wy(i):String(i).trim();s!==i&&delete t[i],t[s]=Dn(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return g.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&g.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const t=(this[Ma]=this[Ma]={accessors:{}}).accessors,n=this.prototype;function r(i){const o=Pt(i);t[o]||(Hy(n,i),t[o]=!0)}return g.isArray(e)?e.forEach(r):r(e),this}};de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(de.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});g.freezeMethods(de);function Cr(e,t){const n=this||An,r=t||n,i=de.from(r.headers);let o=r.data;return g.forEach(e,function(s){o=s.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Su(e){return!!(e&&e.__CANCEL__)}function Bt(e,t,n){I.call(this,e??"canceled",I.ERR_CANCELED,t,n),this.name="CanceledError"}g.inherits(Bt,I,{__CANCEL__:!0});function Eu(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new I("Request failed with status code "+n.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Vy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qy(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),l=r[o];s||(s=c),n[i]=a,r[i]=c;let u=o,d=0;for(;u!==i;)d+=n[u++],u=u%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const f=l&&c-l;return f?Math.round(d*1e3/f):void 0}}function Qy(e,t){let n=0,r=1e3/t,i,o;const s=(a,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),e.apply(null,a)};return[(...a)=>{const c=Date.now(),l=c-n;l>=r?s(a,c):(i=a,o||(o=setTimeout(()=>{o=null,s(i)},r-l)))},()=>i&&s(i)]}const Hn=(e,t,n=3)=>{let r=0;const i=qy(50,250);return Qy(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,l=i(c),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Ia=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Na=e=>(...t)=>g.asap(()=>e(...t)),Gy=se.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,se.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(se.origin),se.navigator&&/(msie|trident)/i.test(se.navigator.userAgent)):()=>!0,$y=se.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];g.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),g.isString(r)&&s.push("path="+r),g.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Tu(e,t,n){let r=!Yy(t);return e&&(r||n==!1)?Jy(e,t):t}const xa=e=>e instanceof de?{...e}:e;function ut(e,t){t=t||{};const n={};function r(l,u,d,f){return g.isPlainObject(l)&&g.isPlainObject(u)?g.merge.call({caseless:f},l,u):g.isPlainObject(u)?g.merge({},u):g.isArray(u)?u.slice():u}function i(l,u,d,f){if(g.isUndefined(u)){if(!g.isUndefined(l))return r(void 0,l,d,f)}else return r(l,u,d,f)}function o(l,u){if(!g.isUndefined(u))return r(void 0,u)}function s(l,u){if(g.isUndefined(u)){if(!g.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in t)return r(l,u);if(d in e)return r(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u,d)=>i(xa(l),xa(u),d,!0)};return g.forEach(Object.keys(Object.assign({},e,t)),function(l){const u=c[l]||i,d=u(e[l],t[l],l);g.isUndefined(d)&&u!==a||(n[l]=d)}),n}const _u=e=>{const t=ut({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=de.from(s),t.url=vu(Tu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(g.isFormData(n)){if(se.hasStandardBrowserEnv||se.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(se.hasStandardBrowserEnv&&(r&&g.isFunction(r)&&(r=r(t)),r||r!==!1&&Gy(t.url))){const l=i&&o&&$y.read(o);l&&s.set(i,l)}return t},Zy=typeof XMLHttpRequest<"u",Xy=Zy&&function(e){return new Promise(function(t,n){const r=_u(e);let i=r.data;const o=de.from(r.headers).normalize();let{responseType:s,onUploadProgress:a,onDownloadProgress:c}=r,l,u,d,f,h;function y(){f&&f(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout;function z(){if(!p)return;const v=de.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),T={data:!s||s==="text"||s==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:e,request:p};Eu(function(M){t(M),y()},function(M){n(M),y()},T),p=null}"onloadend"in p?p.onloadend=z:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(z)},p.onabort=function(){p&&(n(new I("Request aborted",I.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new I("Network Error",I.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let v=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||zu;r.timeoutErrorMessage&&(v=r.timeoutErrorMessage),n(new I(v,T.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,e,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&g.forEach(o.toJSON(),function(v,T){p.setRequestHeader(T,v)}),g.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),s&&s!=="json"&&(p.responseType=r.responseType),c&&([d,h]=Hn(c,!0),p.addEventListener("progress",d)),a&&p.upload&&([u,f]=Hn(a),p.upload.addEventListener("progress",u),p.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(l=v=>{p&&(n(!v||v.type?new Bt(null,e,p):v),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const E=Vy(r.url);if(E&&se.protocols.indexOf(E)===-1){n(new I("Unsupported protocol "+E+":",I.ERR_BAD_REQUEST,e));return}p.send(i||null)})},ew=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof I?u:new Bt(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new I(`timeout ${t} of ms exceeded`,I.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>g.asap(a),c}},tw=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},nw=async function*(e,t){for await(const n of rw(e))yield*tw(n,t)},rw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ka=(e,t,n,r)=>{const i=nw(e,t);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await i.next();if(l){a(),c.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},fr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mu=fr&&typeof ReadableStream=="function",iw=fr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Iu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sw=Mu&&Iu(()=>{let e=!1;const t=new Request(se.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ca=64*1024,zi=Mu&&Iu(()=>g.isReadableStream(new Response("").body)),Vn={stream:zi&&(e=>e.body)};fr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Vn[t]&&(Vn[t]=g.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new I(`Response type '${t}' is not supported`,I.ERR_NOT_SUPPORT,r)})})})(new Response);const aw=async e=>{if(e==null)return 0;if(g.isBlob(e))return e.size;if(g.isSpecCompliantForm(e))return(await new Request(se.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(g.isArrayBufferView(e)||g.isArrayBuffer(e))return e.byteLength;if(g.isURLSearchParams(e)&&(e=e+""),g.isString(e))return(await iw(e)).byteLength},ow=async(e,t)=>g.toFiniteNumber(e.getContentLength())??aw(t),cw=fr&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=_u(e);l=l?(l+"").toLowerCase():"text";let h=ew([i,o&&o.toAbortSignal()],s),y;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let z;try{if(c&&sw&&n!=="get"&&n!=="head"&&(z=await ow(u,r))!==0){let L=new Request(t,{method:"POST",body:r,duplex:"half"}),re;if(g.isFormData(r)&&(re=L.headers.get("content-type"))&&u.setContentType(re),L.body){const[fe,H]=Ia(z,Hn(Na(c)));r=ka(L.body,Ca,fe,H)}}g.isString(d)||(d=d?"include":"omit");const E="credentials"in Request.prototype;y=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:E?d:void 0});let v=await fetch(y);const T=zi&&(l==="stream"||l==="response");if(zi&&(a||T&&p)){const L={};["status","statusText","headers"].forEach(P=>{L[P]=v[P]});const re=g.toFiniteNumber(v.headers.get("content-length")),[fe,H]=a&&Ia(re,Hn(Na(a),!0))||[];v=new Response(ka(v.body,Ca,fe,()=>{H&&H(),p&&p()}),L)}l=l||"text";let M=await Vn[g.findKey(Vn,l)||"text"](v,e);return!T&&p&&p(),await new Promise((L,re)=>{Eu(L,re,{data:M,headers:de.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:y})})}catch(E){throw p&&p(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new I("Network Error",I.ERR_NETWORK,e,y),{cause:E.cause||E}):I.from(E,E&&E.code,e,y)}}),Ui={http:Uy,xhr:Xy,fetch:cw};g.forEach(Ui,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Da=e=>`- ${e}`,lw=e=>g.isFunction(e)||e===null||e===!1,Nu={getAdapter:e=>{e=g.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!lw(n)&&(r=Ui[(s=String(n)).toLowerCase()],r===void 0))throw new I(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(Da).join(`
`):" "+Da(o[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Ui};function Dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bt(null,e)}function Oa(e){return Dr(e),e.headers=de.from(e.headers),e.data=Cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nu.getAdapter(e.adapter||An.adapter)(e).then(function(t){return Dr(e),t.data=Cr.call(e,e.transformResponse,t),t.headers=de.from(t.headers),t},function(t){return Su(t)||(Dr(e),t&&t.response&&(t.response.data=Cr.call(e,e.transformResponse,t.response),t.response.headers=de.from(t.response.headers))),Promise.reject(t)})}const xu="1.9.0",hr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ja={};hr.transitional=function(e,t,n){function r(i,o){return"[Axios v"+xu+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,s)=>{if(e===!1)throw new I(r(o," has been removed"+(t?" in "+t:"")),I.ERR_DEPRECATED);return t&&!ja[o]&&(ja[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,s):!0}};hr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function uw(e,t,n){if(typeof e!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new I("option "+o+" must be "+c,I.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new I("Unknown option "+o,I.ERR_BAD_OPTION)}}const On={assertOptions:uw,validators:hr},Ee=On.validators;let tt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _a,response:new _a}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ut(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;n!==void 0&&On.assertOptions(n,{silentJSONParsing:Ee.transitional(Ee.boolean),forcedJSONParsing:Ee.transitional(Ee.boolean),clarifyTimeoutError:Ee.transitional(Ee.boolean)},!1),r!=null&&(g.isFunction(r)?t.paramsSerializer={serialize:r}:On.assertOptions(r,{encode:Ee.function,serialize:Ee.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),On.assertOptions(t,{baseUrl:Ee.spelling("baseURL"),withXsrfToken:Ee.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&g.merge(i.common,i[t.method]);i&&g.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),t.headers=de.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(a=a&&h.synchronous,s.unshift(h.fulfilled,h.rejected))});const c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let l,u=0,d;if(!a){const h=[Oa.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,c),d=h.length,l=Promise.resolve(t);u<d;)l=l.then(h[u++],h[u++]);return l}d=s.length;let f=t;for(u=0;u<d;){const h=s[u++],y=s[u++];try{f=h(f)}catch(p){y.call(this,p);break}}try{l=Oa.call(this,f)}catch(h){return Promise.reject(h)}for(u=0,d=c.length;u<d;)l=l.then(c[u++],c[u++]);return l}getUri(e){e=ut(this.defaults,e);const t=Tu(e.baseURL,e.url,e.allowAbsoluteUrls);return vu(t,e.params,e.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(e){tt.prototype[e]=function(t,n){return this.request(ut(n||{},{method:e,url:t,data:(n||{}).data}))}});g.forEach(["post","put","patch"],function(e){function t(n){return function(r,i,o){return this.request(ut(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}tt.prototype[e]=t(),tt.prototype[e+"Form"]=t(!0)});let dw=class ku{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(i,o,s){r.reason||(r.reason=new Bt(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ku(function(n){t=n}),cancel:t}}};function fw(e){return function(t){return e.apply(null,t)}}function hw(e){return g.isObject(e)&&e.isAxiosError===!0}const Si={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Si).forEach(([e,t])=>{Si[t]=e});function Cu(e){const t=new tt(e),n=lu(tt.prototype.request,t);return g.extend(n,tt.prototype,t,{allOwnKeys:!0}),g.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Cu(ut(e,r))},n}const W=Cu(An);W.Axios=tt;W.CanceledError=Bt;W.CancelToken=dw;W.isCancel=Su;W.VERSION=xu;W.toFormData=dr;W.AxiosError=I;W.Cancel=W.CanceledError;W.all=function(e){return Promise.all(e)};W.spread=fw;W.isAxiosError=hw;W.mergeConfig=ut;W.AxiosHeaders=de;W.formToJSON=e=>Uu(g.isHTMLForm(e)?new FormData(e):e);W.getAdapter=Nu.getAdapter;W.HttpStatusCode=Si;W.default=W;const{Axios:zm,AxiosError:pw,CanceledError:Um,isCancel:Sm,CancelToken:Em,VERSION:Tm,all:_m,Cancel:Mm,isAxiosError:Ba,spread:Im,toFormData:Nm,AxiosHeaders:xm,HttpStatusCode:km,formToJSON:Cm,getAdapter:Dm,mergeConfig:Om}=W;var Du="https://aptosconnect.app";function Ei(e){if(e==null)return e;if(Array.isArray(e))return e.map(t=>Ei(t));if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e instanceof Uint8Array)return e;if(typeof e=="bigint")return e.toString();if(e instanceof ArrayBuffer)return new Uint8Array(e);if("values"in e)return e.values.map(t=>Ei(t));if("data"in e)return x.from(e.data).toString();if(e.value!==void 0){if(typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value instanceof Uint8Array)return e.value;if(typeof e.value=="bigint")return e.value.toString();throw new Error("Unexpected argument")}}function La(e,t){if("bcsToBytes"in e)return e;if("bytecode"in e)return Ms(e);if(t)return e.abi!==void 0?pd({...e,abi:e.abi}):Ms({aptosConfig:t,...e});const n={arguments:e.functionArguments.map(Ei),function:e.function,type:"entry_function_payload",type_arguments:(e.typeArguments??[]).map(r=>r.toString())};return"multisigAddress"in e?{multisig_address:x.from(e.multisigAddress).toString(),transaction_payload:n,type:"multisig_payload"}:n}var gw=class Ou extends Error{constructor(t){super(t),this.name="SignatureRequestError",Object.setPrototypeOf(this,Ou.prototype)}},ju=class Bu extends Error{constructor(t){const n=`Missing the following fields: ${t.join(", ")}`;super(n),this.name="UnexpectedSignatureResponseError",Object.setPrototypeOf(this,Bu.prototype)}},yw=class Lu extends Error{constructor(){super(),this.name="PairingExpiredError",Object.setPrototypeOf(this,Lu.prototype)}},Pa="icDappPairings",ww={async get(e){return(await this.getAll())[e]},async getAll(){const e=window.localStorage.getItem(Pa);return e?JSON.parse(e):{}},async update(e,t){const n=await this.getAll();t===void 0?delete n[e]:n[e]=t;const r=JSON.stringify(n);window.localStorage.setItem(Pa,r)}},mw=["address","application","chainId","fullMessage","message","nonce","prefix","signature"];function Aw(e){const t=new Set(Object.keys(e)),n=mw.filter(r=>!t.has(r));if(n.length>0)throw new ju(n)}var bw=["hash"];function vw(e){const t=new Set(Object.keys(e)),n=bw.filter(r=>!t.has(r));if(n.length>0)throw new ju(n)}var zw="0.2.0",Uw=2500,Sw=/^Sequence number mismatch, expected (?:\S+ to be )?(\d+)/;async function Ew(e){return new Promise(t=>{setTimeout(t,e)})}async function Tw(e,t,n=1){for(let r=0;r<n;r+=1)try{return await e()}catch(i){t(i)}return e()}var _w=class{constructor({accessors:e=ww,axiosConfig:t,defaultNetworkName:n=Vi.MAINNET}={}){this.onDisconnectListeners=new Set,this.accessors=e,this.defaultNetworkName=n,this.axiosInstance=W.create({baseURL:Du,...t});const r=typeof window<"u";this.initPromise=r?this.syncFirstPairing():void 0}async getPairing(e){return(await this.axiosInstance.get(`v1/pairing/${e}/`)).data.data.pairing}async syncFirstPairing(){const e=await this.accessors.getAll(),t=Object.values(e)[0];if(t!==void 0)try{const{dappSpecificWallet:n,maxDappSequenceNumber:r}=await this.getPairing(t.pairingId);await this.accessors.update(t.accountAddress,{...t,currSequenceNumber:r,dappWalletId:n==null?void 0:n.id})}catch{await this.accessors.update(t.accountAddress,void 0)}}async createSigningRequest(e,t,n,r){const i=ie(e.dappEd25519SecretKeyB64),o=ie(e.dappEd25519PublicKeyB64),s=ie(e.accountTransportEd25519PublicKeyB64);let a=e.currSequenceNumber+1;return Tw(async()=>{const c=await Ar(X(i,me.Ed25519SecretKey),X(o,me.Ed25519PublicKey),X(s,me.Ed25519PublicKey),a,{apiVersion:zw,networkName:n,requestType:t},r),l=await this.axiosInstance.post(`v1/pairing/${e.pairingId}/signing-request/`,c);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:a}),l.data.data.signingRequest},c=>{var l,u,d;if(Ba(c)){const f=(u=(l=c.response)==null?void 0:l.data)==null?void 0:u.message,h=(d=f==null?void 0:f.match(Sw))==null?void 0:d[1];if(h!==void 0){a=Number(h);return}}throw c})}async getSigningRequest(e){var t,n;return(n=(t=(await this.axiosInstance.get(`v1/signing-request/${e}/`,{validateStatus:r=>r===200||r===404})).data)==null?void 0:t.data)==null?void 0:n.signingRequest}async deletePairing(e,t,n){const r=await Ar(t,n,n,0,{},{});await this.axiosInstance.post(`v1/pairing/${e}/delete/`,r,{validateStatus:i=>i===204||i===404})}async cancelSigningRequest(e,t){const n=e.currSequenceNumber,r=ie(e.dappEd25519SecretKeyB64),i=ie(e.dappEd25519PublicKeyB64),o=ie(e.accountTransportEd25519PublicKeyB64),s=await Ar(X(r,me.Ed25519SecretKey),X(i,me.Ed25519PublicKey),X(o,me.Ed25519PublicKey),n+1,{},{}),a=await this.axiosInstance.patch(`v1/signing-request/${t}/cancel/`,s);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:n+1}),a.data.data.signingRequest}async signRequest(e,t,n,{cancelToken:r,networkName:i}={}){await this.initPromise;const o=await this.accessors.get(e);if(o===void 0)throw new Error("The requested account is not paired");let s;try{for(s=await this.createSigningRequest(o,t,i||this.defaultNetworkName,n);s.status==="PENDING";){if(await Ew(Uw),r!=null&&r.cancelled){s.status=lc.CANCELLED;break}s=await this.getSigningRequest(s.id)??s}}catch(a){if(Ba(a)&&a.code==="404"){await this.accessors.update(e,void 0);for(const c of this.onDisconnectListeners)c(e);throw new yw}throw a}if(s.status!=="APPROVED")throw new gw(s.status);return af(X(ie(o.accountTransportEd25519PublicKeyB64),me.Ed25519PublicKey),X(ie(o.dappEd25519SecretKeyB64),me.Ed25519SecretKey),s.responseEnvelope).privateMessage}async addPairing({publicKey:e,secretKey:t},n){await this.accessors.update(n.account.accountAddress,{accountAddress:n.account.accountAddress,accountAlias:n.account.userSubmittedAlias??void 0,accountPublicKeyB64:n.account.publicKeyB64,accountTransportEd25519PublicKeyB64:n.account.transportEd25519PublicKeyB64,currSequenceNumber:n.maxDappSequenceNumber,dappEd25519PublicKeyB64:xe(e.key),dappEd25519SecretKeyB64:xe(t.key),dappWalletId:n.dappSpecificWalletId,pairingId:n.id})}async disconnect(e){const t=await this.accessors.get(e);if(t===void 0)throw new Error("The specified account is not paired");const n=ie(t.dappEd25519SecretKeyB64),r=ie(t.dappEd25519PublicKeyB64);await this.deletePairing(t.pairingId,X(n,me.Ed25519SecretKey),X(r,me.Ed25519PublicKey)),await this.accessors.update(e,void 0);for(const i of this.onDisconnectListeners)i(e)}async signMessage(e,t,n){const r=await this.signRequest(e,En.SIGN_MESSAGE,t,n);return Aw(r),r}async signTransaction(e,t,n){const r=jg(t),i=await this.signRequest(e,En.SIGN_TRANSACTION,r,n);return Bg(i)}async signAndSubmitTransaction(e,t,n){var r,i,o,s;const a=Og(t);try{const c=await this.signRequest(e,En.SIGN_AND_SUBMIT_TRANSACTION,a,n);return vw(c),c}catch(c){throw c instanceof pw&&(i=(r=c.response)==null?void 0:r.data)!=null&&i.message?new Error((s=(o=c.response)==null?void 0:o.data)==null?void 0:s.message):c}}async getConnectedAccounts(){await this.initPromise;const e=await this.accessors.getAll();return Object.values(e).map(({accountAddress:t,accountEd25519PublicKeyB64:n,accountPublicKeyB64:r})=>({address:x.from(t),publicKey:r!==void 0?_o(r):cf(n)}))}onDisconnect(e){return this.onDisconnectListeners.add(e),()=>this.onDisconnectListeners.delete(e)}},Mw=class{constructor({backendBaseURL:e,dappId:t,dappImageURI:n,dappName:r,defaultNetworkName:i=Vi.MAINNET,frontendBaseURL:o=Du,provider:s="google",tgWebAppURL:a}={}){this.defaultNetworkName=i,this.dappInfo={domain:window.location.origin,imageURI:n,name:r??document.title},this.transport=new hh(o,s,a),this.dappId=t,this.pairingClient=new _w({axiosConfig:{baseURL:e??o},defaultNetworkName:i})}async getKeylessAccounts(){const e=Hr.serialize(this.dappInfo),t=await this.transport.sendRequest(e);return Vr.deserialize(t).args}async getIcAccounts(){return this.pairingClient.getConnectedAccounts()??[]}async isIcAccount(e){return(await this.getIcAccounts()).find(t=>t.address.equals(x.from(e)))!==void 0}async getConnectedAccounts(){const e=await this.getKeylessAccounts(),t=await this.getIcAccounts();return[...e,...t]}async disconnect(e){if(await this.isIcAccount(e)){const t=x.from(e).toString();await this.pairingClient.disconnect(t)}else{const t=Fr.serialize(this.dappInfo);await this.transport.sendRequest(t)}}async connect({claimOptions:e,preferredWalletName:t}={}){const n=Ld(),r=typeof window<"u"?window.AC_PREFERRED_WALLET_NAME:void 0,i={claimOptions:e,dappEd25519PublicKeyB64:xe(n.publicKey.key),dappId:this.dappId,preferredWalletName:t??r},o=Pr.serialize(this.dappInfo,i),s=await this.transport.sendRequest(o),a=Rr.deserialize(s);if(a.args.status==="approved"){const{account:c,pairing:l}=a.args.args;return l&&await this.pairingClient.addPairing(n,l),vn({account:c})}return a.args}async signIn(e){const t=Kr.serialize(this.dappInfo,e),n=await this.transport.sendRequest(t);return Wr.deserialize(n).args}async signMessage(e){const{signerAddress:t}=e;if(await this.isIcAccount(t)){const{chainId:i}=e,o=Mo(i);let s,a;try{s=new TextDecoder().decode(e.message),a=new TextDecoder().decode(e.nonce)}catch{throw new Error("Only UTF-8 encoded text is supported when using IC")}const{fullMessage:c,signature:l}=await this.pairingClient.signMessage(t.toString(),{address:!0,application:!0,chainId:!0,message:s,nonce:a},{networkName:o}),u=we.fromHexInput(l).toUint8Array(),d=u.length===De.LENGTH?new De(u):Ve.deserialize(new ge(u));return vn({fullMessage:c,signature:d})}const n=Gr.serialize(this.dappInfo,e),r=await this.transport.sendRequest(n);return $r.deserialize(r).args}async signTransaction(e){const t="transaction"in e?Rn.normalizeArgs(e):e,{signerAddress:n}=e;if(await this.isIcAccount(n)){const{expirationSecondsFromNow:o,expirationTimestamp:s,feePayer:a,gasUnitPrice:c,maxGasAmount:l,network:u,payload:d,secondarySigners:f,sender:h,sequenceNumber:y}=t;if(a!==void 0)throw new Error("Sponsored transaction not currently supported");if(f&&f.length>0)throw new Error("Multi-agent transactions not currently supported");if(!("bcsToBytes"in d))throw new Error("Payload input format is only supported with Keyless accounts.");const p=await this.pairingClient.signTransaction(n.toString(),{options:{expirationSecondsFromNow:o,expirationTimestamp:s,gasUnitPrice:c,maxGasAmount:l,sender:h==null?void 0:h.address.toString(),sequenceNumber:y!==void 0?Number(y):void 0},payload:d},{networkName:u});return vn({authenticator:p.accountAuthenticator,rawTransaction:p.rawTxn})}const r=Rn.serialize(this.dappInfo,t),i=await this.transport.sendRequest(r);return Yr.deserialize(i).args}async signAndSubmitTransaction(e){const{signerAddress:t}=e;if(await this.isIcAccount(t)){const{expirationTimestamp:i,feePayer:o,gasUnitPrice:s,maxGasAmount:a,network:c}=e,l=new Ht({network:c});let u;if(o!==void 0){const f=await La(e.payload,l),h=await ud({aptosConfig:l,feePayerAddress:o.address,options:{gasUnitPrice:s,maxGasAmount:a},payload:f,sender:t});u={feePayerAuthenticator:o.authenticator,rawTxn:new dd(h,[],o.address)}}else{const f=La(e.payload);u={options:{expirationTimestamp:i,gasUnitPrice:s,maxGasAmount:a},payload:f}}const{hash:d}=await this.pairingClient.signAndSubmitTransaction(t.toString(),u,{networkName:c});return vn({txnHash:d})}const n=qr.serialize(this.dappInfo,e),r=await this.transport.sendRequest(n);return Qr.deserialize(r).args}},Pu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ht=(e,t,n)=>(Pu(e,t,"read from private field"),n?n.call(e):t.get(e)),Ra=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Fa=(e,t,n,r)=>(Pu(e,t,"write to private field"),t.set(e,n),n),jn,Ke,Iw=class{constructor({address:e,ansName:t,publicKey:n}){this.chains=Qn,this.features=[],Ra(this,jn,void 0),Ra(this,Ke,void 0),Fa(this,Ke,n),Fa(this,jn,e),this.label=t}get address(){return ht(this,jn).toString()}get publicKey(){return ht(this,Ke).toUint8Array()}get signingScheme(){if(ht(this,Ke)instanceof he)return S.Ed25519;if(ht(this,Ke)instanceof ke)return S.MultiEd25519;if(ht(this,Ke)instanceof Me)return S.SingleKey;if(ht(this,Ke)instanceof Ce)return S.MultiKey;throw new Error("Unsupported public key type")}};jn=new WeakMap;Ke=new WeakMap;function Ka({address:e,name:t,publicKey:n}){return new nt({address:e,ansName:t,publicKey:n})}function Wa(e,t){return e.status==="dismissed"?{status:D.REJECTED}:{args:t(e.args),status:D.APPROVED}}function Nw(e){switch(e){case k.MAINNET:return _e.mainnet;case k.TESTNET:return _e.testnet;default:return _e.devnet}}var Ru=class le{constructor({claimSecretKey:t,network:n=k.MAINNET,preferredWalletName:r,...i}){if(this.version="1.0.0",this.chains=Qn,this.client=new Mw(i),!Or[n])throw new Error("Network not supported");const o=new Ht({network:n});this.aptosClient=new Ze(o),this.preferredWalletName=r,this.claimOptions=t?{network:n,secretKey:new vt(t)}:void 0}static get connectedAccount(){const t=localStorage.getItem(le.connectedAccountStorageKey);if(t)try{const{address:n,publicKey:r}=JSON.parse(t);return new nt({address:x.from(n),publicKey:_o(r)})}catch{console.warn("Inconsistent state, resetting it"),this.connectedAccount=void 0;return}}static set connectedAccount(t){if(t!==void 0){const n={address:t.address.toString(),publicKey:of(t.publicKey)};localStorage.setItem(le.connectedAccountStorageKey,JSON.stringify(n))}else localStorage.removeItem(le.connectedAccountStorageKey)}get accounts(){const{connectedAccount:t}=le;return t?[new Iw(t)]:[]}async connect(){const{connectedAccount:t}=le;if(t!==void 0)return{args:t,status:D.APPROVED};const n=await this.client.connect({claimOptions:this.claimOptions,preferredWalletName:this.preferredWalletName});if(n.status==="dismissed")return{status:D.REJECTED};const r=Ka(n.args.account);return le.connectedAccount=r,{args:r,status:D.APPROVED}}async disconnect(){const{connectedAccount:t}=le;t&&(await this.client.disconnect(t.address),le.connectedAccount=void 0)}async signIn(t){const n=await this.client.signIn({network:this.aptosClient.config.network,...t});if(n.status==="dismissed")return{status:D.REJECTED};const r=n.args;return le.connectedAccount=r.account,{args:r,status:D.APPROVED}}async getAccount(){const{connectedAccount:t}=le;if(!t)throw new bn(Rt.Unauthorized);return Ka(t)}async getNetwork(){const{network:t}=this.aptosClient.config,n=await this.aptosClient.getChainId(),r=Or[t];return{chainId:n,name:t,url:r}}async signMessage(t){const{connectedAccount:n}=le;if(!n)throw new bn(Rt.Unauthorized);const r=Nw(this.aptosClient.config.network),{message:i,nonce:o}=t,s=new TextEncoder,a=s.encode(i),c=s.encode(o),l=await this.client.signMessage({chainId:r,message:a,nonce:c,signerAddress:n.address});if(l.status==="dismissed")return{status:D.REJECTED};const{fullMessage:u,signature:d}=l.args,f={address:n.address.toString(),application:this.client.dappInfo.domain,chainId:r,message:i,nonce:o,prefix:"APTOS"};return{args:{fullMessage:u,signature:d,...f},status:D.APPROVED}}async signTransaction(t,n){var r;const{connectedAccount:i}=le;if(!i)throw new bn(Rt.Unauthorized);if("bcsToBytes"in t){const a=t,c=a.feePayerAddress?{address:a.feePayerAddress}:void 0,l=(r=a.secondarySignerAddresses)==null?void 0:r.map(d=>({address:d})),u=await this.client.signTransaction({feePayer:c,secondarySigners:l,signerAddress:i.address,transaction:a.rawTransaction});return Wa(u,d=>d.authenticator)}const o=t,s=await this.client.signTransaction({...o,signerAddress:i.address});return Wa(s,a=>{var c,l;const{authenticator:u,rawTransaction:d}=a;if(!d)throw new Error("Expected raw transaction in response args");const f=o.secondarySigners??[];let h;return f.length>0?h=new fd(d,f.map(y=>y.address),(c=o.feePayer)==null?void 0:c.address):h=new hd(d,(l=o.feePayer)==null?void 0:l.address),{authenticator:u,rawTransaction:h}})}async signAndSubmitTransaction(t){const{gasUnitPrice:n,maxGasAmount:r,payload:i}=t,{connectedAccount:o}=le;if(!o)throw new bn(Rt.Unauthorized);const s=await this.client.signAndSubmitTransaction({gasUnitPrice:n,maxGasAmount:r,network:this.aptosClient.config.network,payload:i,signerAddress:o.address});return s.status==="dismissed"?{status:D.REJECTED}:{args:{hash:s.args.txnHash},status:D.APPROVED}}async onAccountChange(t){}async onNetworkChange(t){}};Ru.connectedAccountStorageKey="@aptos-connect/connectedAccount";var Fu=Ru,At={apple:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==",name:"Continue with Apple",url:"https://aptosconnect.app"},google:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==",name:"Continue with Google",url:"https://aptosconnect.app"}},xw=class extends Fu{constructor(e){super({...e,provider:"google"}),this.name=At.google.name,this.icon=At.google.icon,this.url=At.google.url}get features(){return{[no]:{connect:this.connect.bind(this),version:"1.0.0"},[ro]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[io]:{account:this.getAccount.bind(this),version:"1.0.0"},[so]:{network:this.getNetwork.bind(this),version:"1.0.0"},[ao]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[oo]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[Za]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[Xa]:{signIn:this.signIn.bind(this),version:"0.1.0"},[eo]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[to]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}},kw=class extends Fu{constructor(e){super({...e,provider:"apple"}),this.name=At.apple.name,this.icon=At.apple.icon,this.url=At.apple.url}get features(){return{[no]:{connect:this.connect.bind(this),version:"1.0.0"},[ro]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[io]:{account:this.getAccount.bind(this),version:"1.0.0"},[so]:{network:this.getNetwork.bind(this),version:"1.0.0"},[ao]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[oo]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[Za]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[Xa]:{signIn:this.signIn.bind(this),version:"0.1.0"},[eo]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[to]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}};let Ku=class{constructor(e={}){this.option=e,this.url="https://www.twallet.ai",this.version="1.0.0",this.name="T wallet",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAQbUlEQVR4nO2da4wk11WAv3urume6e96z6519Obt2lsR2TNaWMQ52Hg6JkBD+kYAUoQiEQUImigT5gSUSZGIB4QdBSJEiEgHhkURAiC0lPyICRAZjRUFxYuLHvuY949mZ2ZndncfOdFdX1T38qK7u6urqnu6ent7dGR9pPV1V99469zv3nnvq3ltl9fCRH7MLeS/wGHAWeDtwB9AHWLsp9BYWA2wCV4BJ4P+Al4AX2y1QtWGAe4AngV8BTrd7430mM8BzwFeAc61kbMUAZ4A/Aj7eyg0OoPwT8CxwsZnEuslC/6BU4Fvwd5ZfBS4An2km8U4GGAH+A/gcoHan14GTPwG+BxxqlKiRAe4GXgU+1EGlDpp8kIDhmXoJ6hngNPAycHwPlDpochT4EUGUWCNJBugD/hcY2judDpz0Az8ABuIXkgzwb8DhvdboAMoo8N34ybgBngYe7Yo6B1MeAT4dPRF9DhgDFrut0QGVE8ACVPeAL94cXQ6k/FX4IzTASeCjN0eXAylPAKegYoDfu1maHGD5FFQM8Os3UZGDKr8GYBOMzA0flxuJUiAC+Rs+hW0Dwv6dtCjVrSejyfRZaB3UvU0ZBh6z2cVUg7YUG1c9Co7P8dO9HD6WRtsK8dvX6lYWpRUiwrUll7nxAqmUYuhQCiMSGKd1+ZANPNhOTm0pVi8XGTmS4qMfH+MdD+XoG7RQSiFm/xoAYHvTZ+InW3z3aysszRU5fDRFm1V+wCaYdGtJtKW4uljk6OkenvqzOzl6updrSy7bmybok2qf+iAJfFC6V/HoE8Pc+3A/X/r0LNPntjl8LI3xWy7xLvXwkR9fJpgwalqcvEFE+OTnT3H6viyXpwpoa59CryPGF468rYelWYcvfGoG1zFkci2vxC5qgsm3lmRjw+U9vzjC3ffnWJxxDhx8CLzA8pzDyTMZHv2lYTZvtN78gaymxZjF+EKmx+Lun85SKLR1030jWinyN3xO35ulL2vhey0PBErT4vjteUJ2wCI3YFHMy751902JgqJj6O2zyPa3ZQBpdk24+r4KZBcB8H4SBbuK+toygMiuHkD2neyGh73bmysRfMsmnx3AS5f82X41jgpavO1BZusGllfcdZG7MICgjbAxOIIGjs6+xtDqHCm/CGqfbowTg68t1oaPs3j6QVwb+sz6rtxB2wZQAlcPDXDHuVl+9t+/wImZH4GzXbq4T0dmEUAglWHp5P388MOfZPXsPajpFdrt9m0ZQBuf6yNHuHf2Eo9/+bdh8wqM3gmZgYge+80Pqcof32Pswos8Mf0y3//dL/PCyFm0maWdWci2BuF8Zoj+jes8/o1nIL8OR98Jdk+ggAr/6X32r1QvFFgpGDsDYvi5bz7D8OoiW7mRdlC2Z4CtvlHOvvw8LLwOh07RziTIbS/Gh5ETsDLFAz98nnx2uK1iWnZBRttk8uucmH0Fevuo52r2mwOCBAcjApkBjr35GrmtVXw7BbTWGFs2gG+l6M2v01vYhL4M4kpJl9LfVgu8zSQ0giqtRKlUL+kbW/QUNtnWGfbcAMHNwSgFAkYEgyASvL0AIFQWKG53g6iqHwpF4LfDv5YIJhwj2ghHWzaACvAGsMVQFIMv4IvBF8FAaXFif/SIqNvRKjCApRSWUqSUwhKDof3atmiA8DaCLwLGUADyhTybi0sUtrdxjQl6RJjjNreAikSfmgB8Jpuhf+wImVwfvUbwwucDoNVF8ZZ7gGBAPIpiQCmWJibZshTZDzzG4LvfhTU0hKjbv+XHJURqNm9QeP0cSy+8RO/8AsP3jeGWmECqlKp5I7RggNCp+6A8HCUsvn6O4gPv4/Qf/j6jj72n+aL2gay98hPm//TzLLz4HQp3HUeUi5g0e9oDJPR22ufK+fMc+eDP8K7nnsPat/tQ6svQA+9m8JtfZeXJj7H83HnI+oCPIKWhujlp7UFMDIKPs75EcXSIsX/8uwMJPxQF3PG3f4N/6jiF6wuI8kHMjvmi0qQBgkEm6AEe2/kZ7njqSciNtarz/hPdz9gnfot88U0Qr+IlmhwFm+4BUirUuAW0yjL0gbdeIwhl8NFHsK0BTDFPQKr5EKTFKMhgnDyp3CA9h0YTU1xb8VhecknbbU0z4XtCb0Zz59vTbeW/GZIaHsTuH8TNF6A301LeFgdhMGLQVv0u9o0vXePpZ+Y5k+ttSZFQVrY8zt6b4dtv/FRb+W+GiO8jyqc0J9DSqNhiGCqgQMQgpvFgc6CG5l0sCjdvgCYXWsK+0e4TcPPD160qrdWgzSXJ+jdQKvhUSru75TSg9e3Yf7q4JNlIPvbUCI9/ZIC0XQ1xYMhiYNBiacHFa7CByfeEnkx7A/jtKB03wPAhm+FDtcXe2PC5vu5x8u7bJ7rphnStqb3wrU3eMfYaT//GPBdeLXTrtre8dM0Ah4+myKD5639Y4SMPjvP0k/NMvHGwDSGyBy6onvi+kEVz12iafF7487+/zNY1ny9+61S3VLjpIiKIkfI7LErr7hkgFN9AJqc5tt1DJrd/B9sAdmWtXGmFthR2ysKyLbStsSytum6AUBRg27djuFkr6bRCjIvnFvFdD3QKy7aweyy0pQPYKY1labSlUaggaDXS/R6wH8WyAZUh2z9E3/AQdqqnDJzSOrJIsI3d+KWn5lIk/pYB2pDtLcPsZJGJiwUuvu5w4dVtxo4/QE9PD9pSiPERYzBGgld2w8XE2NKx8JYBmpK56SITFxwunStw6VyB6Ykii/Mua9d8fE/oH7AZO96D8X28oinDjc5KSGXPTuT6Wy6oRq5f85m65DB+vsDFcw6TFx3mZ4qsLns4BUNPj6Kv3yKb0wwMWoTveHmuF4PLjvChrX1Bu5tsu5WkUDDMTBQZv+Bw6XyByUsO89MuSwsumxs+WityfZq+PsWxE6nyFhUpb4yKuPMSlKbgl3501QUVHWEFD30dLBRXcNlc7+6m3oV5l8lS6x6/6DA17nA5dCW+kMlo+voshkctDt1RQmOqoQbRS6nAaGveoeWXG2x0C2c3H8T6BjT3HcswOmhhWYrsVc3xt+3dvND1qx5Tk0Hrnhp3mJpwmJt2WV32KOR9UmlFf79FNhu4kipwkTn1puFH92WxA/zIvbpmgIfen+N/Zt9ZdU516DnMLQoz00UmLjmMXwhcycxUkeVFjxslV5LNafpymrFjNkrbhPsrawCH/lUSrtVA3QX8bhtAKbA69OC1MO8yNekwNRFAn55wWJgvcv2aj+9BbyZo3SMjFocP2xF4UvHfSYDbgU/lPDTf8sPjWz4KWl/3mZ4MQE9ccpiadJifdVld8XAKQsqGXE6Ty2lO3mlVogQTCRZKwKKtr2Pwo2VKPF1CmbHrt5QBiiVXMj3hMDlRZHLCYXa6yNKiy41Ng9aQzWpyOYujR1MoJbUtLsG1dAJ+JerrHPyuDsJJsnjZLbuR8XGHmSmHy2+6rK/5eD5kMiqISkYsDh22qyFLAnzoHPyIu6gBGgHYED5UwzeVn2Harhlgfc1ndiZo1eMXA/89P1dkdcWjkBfSaUWuX5PLavoHrJo3XavjaUmudDPw4y16L+FHykmCv4snYYU0GE89T5idLjIxHvjtyXGHuVmX5WWXzQ2DUiW/3ac5MpZCN4qGaiqdAD+xdUu1iyhBgMZQa+CHhTYFX2rzStXpKvjQSg9QQSv0ij74eU6eqLwNf2XZY2oigD1+yWF6qsjlN12uX/OqXMngoMXoaGtbkerCrxtCNgnfSPVxp+DHdGkEv/EYICAiGE8wfrArGsuQ6e+hf/QY//z1bdbWPN54bYuFN12uLLvk86WopN8qRSXp9ndo1VQyUpMG8Xti5RPgl9NVgYmki8OvuRbVMRl+1XRNAnyR4NvRG0B/MFcN4pvgglbYaY2d0aQyGjurSWc16WyKVG8vc9N53KJPJhu4kt5e3diVtCIdgB/tKWVw0Dz8BD/eFvyqvBLLy4bt5v3gISmlSWU16UyKVNYugbewey2stEIpHSyx+YJXdBk7aqH24qMc3YKfADURPrXpOgQ/cEGDJzKkcxapbADbTmuUpYLxyQ9WcLyCqdSmJHvyPY4G8BNnFaNPt/H8u4DfqIckwk+6fxPwEbBHz+RQSmFC2K6B3X8Gp3XpFPw4VKhxO/UN0dhIHYVf+mN7BXPzV8Z3C78m/q/fohONJJHy6sEvx/FSrW+C/pW8DeAHZSs7coubI3H4po7Sewk/Hj1Rx/Bx+Am9oFLujvABRIuwtTOlPZJuwRc6C19i5RIvt0E9or1K2NaIrKib8YWrbsKPppP66aBJ+El6hnkbwSeeX65q48lk93aIRm9e+m26AN/EjkV2hC9VaXeAL2HeOvUI/9Sck2ltfHmlq+0/WpnI1r263XUH+OUe3wg+keM40DrwCdNGy2+kZyP48fwQBhqvaN81/1k1ou+lmOqKJ8I3VAPaAX7ZAjvBL6dLANRV+JXuJZjvad8x3zeeuar2+rWgOLw68KtaNJHQsFPrt1TOw27hRxKYpOux/OXmD8CaIC9q4wueY77asXmcJKmCJw3hVxTswhJiPfhJ8BLhx3RP0rF8+yh8hYj5ugiilVK4ef8vjZG9ebe0Bn5CpfZoCVEqtW8YPtbAD8usuR4eVxpQ6/CD+xjkLxSglVZ4jplz8+bbusPbxaWb8EswSvWr/EgEmKBH6HbK/6HGrUgcvlSSNg9fYZDvgEwDaJHgzW5n0/uE+J3bq9POEqIkwY8PyvXgh1zi6VqBH+0ldZYQo8d14Ud7ShX8Uh0xvxNm1QgoS+EV/AVnw/uMtnZpAWkCfrSCEfhVykPjFt0IftTtEEsb1SNyssZFEUvbIFyugU+sp5RVUgjms2DmwuJ1eFHbmsKG+zl32/+BTrX5zbGaSsZCyESFpTn4phbqjvAj4JPhU5O2JfhEekKEVz34YF4W/Gejg225uYezEdtXi79gXLnWshES4Jfzd2AJseq4WfhU/06EH9WrDfjR43K94+eCD2ysGfwPx7FV+RttK4wvGzeuOI+ILzd0qslBuQPwy1nqLKTs6HYSwsdW4RM/7hz8baO8R0DW4qFmtcOXwAh+Uca3VosPiS/LO0ZGHYIfpq+q3C24hFh932gZUqVnBP6KUf5DwMWkOD9xxLVSCuPLxa2rxfu9gvkvy1bJS5Ctwi/NFta05vAatA6fGPxYL0iEn3T/VuFXnYvUO5JPxLxolH8/yPkEekCDN+WDl81kJX+9+Hhh03sGgt5RNmID+FIPPvUjonLlIHEJsR58iZYTh1+O4yUCJVn/Srk7wCd+LgF+oNmzosz7geVGT7gNY05tKZRWOJveH+fX3HvcvP8vitLnZMrv69TCLytYD34sIqpUnlr49dIhDa6xN0uIsXpVww82MhjkXw3+faLMZ5OpVov6+bPnEi9oW6FK/7vW8nuugGXr++0e/Zva1r+sNScrLV0w0Q8GxuFHla8HLj420Fw6qGP4OPzo/SFW7g7woz0nPFmGL/MiPG8wXwFeTQRa1U0q0rQBgo8bELRQAW0pS1nqfUqr92qtzgKnlVKHgRyCJeWPB9afWqg+rmMkEtI1ApoEP1pOUtp68KP3Db5b7guyhbAqItPAKyAvich/S/BJ4USWlQJr5f8BAd7FbxCpVMcAAAAASUVORK5CYII=",this.chains=Qn,this.accounts=[],this.provider=typeof window<"u"?window.dekey:void 0,this.initializing=!1,this.account=async()=>{var t;const n=await((t=this.provider)==null?void 0:t.request({method:"aptos_account"}));return{address:n.address,publicKey:n.publicKey}},this.connect=async()=>{var t,n,r;if(!this.initializing){this.initializing=!0,await id(()=>import("./index-DRmafxZ_-DRmafxZ_-DdsreTJb.js"),[]);const o=Cw((t=this.option)==null?void 0:t.env);if(!o)throw this.initializing=!1,new Error(`walletDomain not found with env: ${(n=this.option)==null?void 0:n.env}`);if(!(window!=null&&window.initializeDekeyProvider))throw this.initializing=!1,new Error("initializeDekeyProvider not found");await window.initializeDekeyProvider(o),this.provider=window.dekey}if(!await this.checkProvider())return{status:D.REJECTED};const i=await((r=this.provider)==null?void 0:r.request({method:"aptos_requestAccounts"}));return i?{status:D.APPROVED,args:{address:i.address,publicKey:i.publicKey}}:(await new Promise(o=>setTimeout(o,2e3)),{status:D.REJECTED})},this.checkProvider=async()=>new Promise(t=>{setTimeout(()=>{t(!1)},1e4);const n=setInterval(()=>{this.provider&&(t(!0),clearInterval(n))},100)}),this.network=async()=>{const{chainId:t,name:n,url:r}=await this.provider.request({method:"aptos_network"});return{name:n,chainId:t,url:r}},this.disconnect=async()=>Promise.resolve(),this.signTransaction=async(t,n)=>{try{const r=t.rawTransaction.bcsToBytes(),{concatedSig:i,uncompressedPubkey:o}=await this.provider.request({method:"aptos_signTransaction",params:[Array.from(r)]}),s=new ad(o),a=new od(i),c=new cd(new Me(s),new Ve(a));return Promise.resolve({status:D.APPROVED,args:c})}catch(r){throw r.message}},this.signAndSubmitTransaction=async t=>{const n=t.rawTransaction.bcsToBytes(),r=await this.provider.request({method:"aptos_signAndSubmitTransaction",params:[Array.from(n)]});return{status:D.APPROVED,args:r}},this.signMessage=async t=>{var n;try{const r=await((n=this.provider)==null?void 0:n.request({method:"aptos_signMessage",params:[t.message]}));return{status:D.APPROVED,args:r}}catch(r){throw r.message}},this.onAccountChange=async()=>Promise.resolve(),this.onNetworkChange=async t=>{const n=async()=>{const r=await this.network(),{name:i,chainId:o,url:s}=r;t({name:i,chainId:o,url:s})};this.provider.on("chainChanged",()=>{n()})},!(e!=null&&e.env)&&(e==null?void 0:e.registerWallet)===!0&&Wu(this)}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}};const Cw=e=>e==="LOCAL"?"http://localhost:5173":e==="DEV"?"https://dev.twallet.ai":e==="QA"?"https://qa.twallet.ai":"https://www.twallet.ai",Wu=e=>{typeof window>"u"||md(e)};class Dw extends Ku{constructor(t={}){super({...t,env:"DEV"}),this.url="https://dev.twallet.ai",this.name="Dev T wallet",(t==null?void 0:t.registerWallet)===!0&&Wu(this)}}var Ow=class{constructor(){this._listeners={}}on(e,t,n=0){this._listeners[e]||(this._listeners[e]=[]),t._priority=n,this._listeners[e].indexOf(t)===-1&&(this._listeners[e].push(t),this._listeners[e].length>1&&this._listeners[e].sort(this.listenerSorter))}listenerSorter(e,t){return e._priority-t._priority}off(e,t){if(this._listeners[e]===void 0)return;if(t===void 0){delete this._listeners[e];return}let n=this._listeners[e].indexOf(t);-1<n&&this._listeners[e].splice(n,1)}trigger(e,t={}){if(typeof e=="string"&&(e={type:e,data:typeof t=="object"&&t!==null?t:{}}),typeof this._listeners[e.type]<"u")for(let n=this._listeners[e.type].length-1;n>=0;n--)this._listeners[e.type][n](e)}destroy(){this._listeners={}}},jw=class extends Ow{constructor(e=Math.random()*100|0){super(),this.id=`BELLHOP:${e}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this.supported=!1,this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(e){if(this.target===e.source){if(this.logDebugMessage(!0,e),e.data!=="connected"){let t=e.data;if(typeof t=="string")try{t=JSON.parse(t)}catch(n){console.warn("Bellhop error: ",n)}this.connected&&typeof t=="object"&&t.type&&this.trigger(t);return}this.onConnectionReceived(e.data)}}onConnectionReceived(e){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(e,this.origin)}for(let t=0;t<this._sendLater.length;t++){let{type:n,data:r}=this._sendLater[t];this.send(n,r)}this._sendLater.length=0,this.trigger("connected")}connect(e,t="*"){var n;this.connecting||(this.disconnect(),this.connecting=!0,e instanceof HTMLIFrameElement&&(this.iframe=e),this.isChild=e===void 0,this.supported=!0,this.isChild&&(this.supported=window!=e),this.origin=t,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(n=this.target)==null||n.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(e,t={}){var n;if(typeof e!="string")throw"The event type must be a string";let r={type:e,data:t};this.logDebugMessage(!1,r),this.connecting?this._sendLater.push(r):(n=this.target)==null||n.postMessage(JSON.stringify(r,(i,o)=>typeof o=="bigint"?o.toString():o),this.origin)}fetch(e,t,n={},r=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let i=o=>{r&&this.off(o.type,i),t(o)};this.on(e,i),this.send(e,n)}respond(e,t={},n=!1){let r=this,i=async function(o){n&&r.off(o,i),typeof t=="function"?r.send(o.type,await t()):r.send(o.type,t)};this.on(e,i)}logDebugMessage(e=!1,t){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:e,message:t}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${e?"Received":"Sent"}`,t)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var e;return this.isChild?window.parent:(e=this.iframe)==null?void 0:e.contentWindow}},Ha="MSafe",Bw=class{constructor(e){this.config=e,this.isAIP62Standard=!0,this.version="1.0.0",this.name=Ha,this.providerName=Ha,this.provider=null,this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAMAAABmmnOVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB4UExURUxpcUe0pke1pke1p0W2oUi1p0e0pk68sEe1pj++q0e0pke1p0e1pke1p0e1p0e1p0e1p0m1qUe0pke1p0e1p0e1p0e1p0e1p0e1pke1p0e1pke1p0e0pka3pEi1p0i2qEq6rEu9rkm4qk3Cs0zAsU7Ftk3Bsk3DtOZUHKYAAAAedFJOUwD4J3kF+/sC/QQb1POTP+wyEVnhvqqdTHDItoVlDC8DDKsAAAdVSURBVHja7VrbQuM6DLTb+NYLlN4oBeLc8/9/eBzookbjNiennKeNHliWTGJFlkcjtWKyySabbLLJJptssskmm2yyvpmkM2f+Fcz8Lx7Q4s6Ye7g/v5jfD0L4sXj9mJ+2m4RWQgsXXrbv6/ePWfj9l30wIvnYr/KmbKpid9wIkcSBifhcr6om4Px587teGCFel21VWK21slmbHWbxBZyY7epCd2bLYiuSX/VhXeVS2/TLrLSt3QoX8+FlV8oLTGbZRiS/uBeHWsn0x7yVRfURWcCJdS1/UDJfGvFb2ZmIeS2tT69N++xJJLgZq8ISSLZrwjzqw8anNmUms+eFcNyJU6tTMpuSpw8nxFulUzDZnsNFBl23soepaEMe3YxSpRGT7UkkzIn3VvYx9TthHvFhJouoE9anM5H0sa+5tT1MWvzGCTHiXMo0aqp6C9fZCc10P4EJ80ggtrQZ4EU556FYlzqCeTQOL8+ZveWELfRlQ2jvtLcMowLmwUAcS+nTWyabfXC0j28UYsxjPjxlnCJY9vdPiBEz5dkNugVyfYwicENkn7KSjrg9w6wWwjwQiBM792C6OQtjWBL1/fa6OQj33wOxWBU6vW+22rLcPJWaY3LCjHfi0PKstJaHItu9CHd9k1nmLDdVvvscEQvgP/5OWWEhN9fCAG0CZrQT9EqWx3X5XPC/2fypt4ITh0ZxTEaYBwuXLexiW6uUB3vZIwsnFpJ56gkzylykcOlAweLM2cvLNpRKLoJSdkJaYu+RWQmbIUz3mhoCdGFm2shKxjCjA4HpZfNXkbjuCHJOrIi9ITcBM4Yrl7lmUe94qbuyr3godHNhZlLGDceoMmDGZmWrGfumQcGbr0ppeXlQ2fNLPxSB5hAzhr3jD5HtQZjvi+8t5GZ9FI7zJuTvGPaOh9OnQaj9bJUCZua6OpQ+H8mpURXc8mg2hz+VyomnHC6zRseJTZZCYu8SYUZUcDhiaUGvarp6DVKvTxYugtEtYYYD8dFKCDcJVhS0SAQB87nLYUs9ae9hXRmyEskyuZa/FUd8n2BxH3NXe4Nk9iBerttKY8S5UhxCRAAYaJiGW88CdaW9tJ5UWRSUUyILwIyTesCIsB93ilR5HCpk6ZDUo61UNuJE957u2lcsUpaacMCMIQsTSWrqbR12A0gWgEGpZ4YC8V7Hux3V307juvwFR+dfjhLmyDDwMhFzkepE9WHdI4JLhwhkYQYwvhgY6zlxoGMF5i93U/ZoBoiQRcMxXaNuRghsrkv6KwQiaKTn2b8VCWD4KUKygJ7hllmW2UbMdJQsXA9jo2SR3Gv7uHTD7B8ggkAWrpcWMUxXkW+3fawuMdPEuhg5mtgBRt8OKWblkUkmZCw6piA8aGInBjFMWTA0rMslGpdxgQg8kkWCGJzqjRxGkAEzx8hCz4RDDCqLqJSpIBCQpvpH3JAA0jDVo5kFDd84Zk8YNv6DauPBi4blptg3MjazGBhDqtiE3nVFA2K/h0BqNtMO8oMRAc4jElAWUJWBVMjZpZi3CgrQkTHzOwUb5hHQ4cNzgF6x0wgKZ2DWYESygzlGSkWKtSow14CiAUftk6ajvQI0cK+XrEhFjr/X+RL7XwvK+JvJIVV4a+twtuURc2Q6BWYWYalGx+iXGiEoUkD3gAFCUTgEJYwTi2f+FF0GCXMR397GrmHhw0J2X7tqai2jbZ3NulP2J/sHOikg21gh61L/TiEz1GmAOIlnvyzP0V4Fuy326Q0UsmUiDB5PlGkh+4nPuY/UtbUSihTlJhu8YCHrFoF4fwlWyn4+sVOsFnedArbIXUcGMwtcyOHxRFkesp9PEz1ryKKql/KXzSx4sfs+nnxeyRqULpAyphMHRo7ebnBmEc9NbLmwCoolf08FWpLIAo8gbRoO35fdUvSWqAdQouEMi5RFo2PjnaHhe+BNYjKeLPhZGLuZvaahYhfB0PBde9CtUBtA/4FEgxNELWQxgDE4m/RdoXyrFCcQRzfekWiy/WClOPZCJ8KQHASlJ/0NKgXB0UrmxFo4LpUbjjnynSU5SHwiNPOdZf119hcq5sQ9GSe7XotjsHcUu8zeLsGY/TiMwE/hMBJc6rFaySiZFwVeBn1fnhkceF1jPFEv+wCBzby3paQ/sPDhhliC0hc0AEOOVuBoV3Kvg29VwIh9vUr95cGs14QT0ih7gWrbvAoXxWjrmaLGkdTqAvF2FTAiqKpaShtMyay90S2T+FlJ27kvfQi0MXGMDJhgStbsGy/UqNcr++2mrfdJ59firWyyosiq1p7Yg3HL67zwqc9qfwr/j2OOdVWkaQc6COFufSUss1or2+Rr02GCI9vzbrV63s8XzAdcITntn21hd8cZQcGL7dsqLbzdzcEHmr7Pd3nZlMX+6YLpfiSLxacQ+GBcQbzMNrPguItCL89YzDZfoJuYsOLTfD3f0JLGGfrnnhHmLjRcHAIZRx7TH4MNrE9QB1hcwznE4FdHnZhssskmm2yyySabbLLJJvt77B/GCxK9lvuH1wAAAABJRU5ErkJggg==",this.chains=Qn,this.accounts=[],this.bellhop=new jw,this.account=async()=>(console.log("🚀 ~ MSafeWallet ~ AptosGetAccountMethod:"),this.getCurrentAccountInfo()),this.connect=async()=>(console.log("🚀 ~ MSafeWallet ~ AptosConnectMethod:"),this.getCurrentAccountInfo().then(o=>({status:D.APPROVED,args:o}))),this.network=async()=>({name:this.config.network,chainId:this.config.network===k.MAINNET?1:2}),this.disconnect=async()=>(console.log("🚀 ~ MSafeWallet ~ disconnect:"),Promise.resolve()),this.signMessage=async o=>(console.log("🚀 ~ MSafeWallet ~ signMessage:"),this.bellhop.send("signMessage",o),this.fetch("signMessageResponse")),this.signTransaction=async(o,s)=>(console.log("🚀 ~ MSafeWallet ~ signTransaction:"),this.bellhop.send("signTransaction",{transaction:o,asFeePayer:s}),this.fetch("signTransactionResponse")),this.onAccountChange=async o=>{console.log("🚀 ~ MSafeWallet ~ onAccountChange ~ listener:",o),this.onAccountChangeInput=o},this.onNetworkChange=async o=>{console.log("🚀 ~ MSafeWallet ~ onNetworkChange ~ listener:",o),this.onNetworkChangeInput=o};let{network:t,appId:n,appUrl:r}=this.config,i="https://aptos-testnet.m-safe.io/";t!==k.TESTNET&&(i="https://aptos.m-safe.io/"),n?this.url=`${i}/store/${n}`:this.url=`${i}/store/0?url=${r}`,this.bellhop.connect(),this.bellhop.on("changeAccount",async o=>{if(console.log("🚀 ~ MSafeWallet ~ on ~ changeAccount:",o,this.onAccountChangeInput),this.onAccountChangeInput){let s=o.data.address;this.onAccountChangeInput(new nt({address:x.fromString(s),publicKey:new he(s)}))}})}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}async submitTransaction(e){return console.log("🚀 ~ MSafeWallet ~ submitTransaction:"),this.bellhop.send("submitTransaction",{transaction:e}),this.fetch("submitTransactionResponse")}async signAndSubmitTransaction(e,t){if(console.log("🚀 ~ MSafeWallet ~ signAndSubmitTransaction:",e),e.rawTransaction){let n=e,r=new pe;n.rawTransaction.serialize(r);let i=we.fromHexInput(r.toUint8Array()).toString();this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t,content:i})}else this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t});return await this.fetch("signAndSubmitTransactionResponse")}async getCurrentAccountInfo(){this.bellhop.send("connect");let{address:e}=await this.fetch("connectResponse");return console.log("🚀 ~ MSafeWallet ~ getCurrentAccountInfo ~ address:",e),new nt({address:x.fromString(e),publicKey:new he(e)})}async fetch(e){return new Promise(t=>{this.bellhop.fetch(e,n=>{t(n.data)})})}};function Lw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){n(l);return}a.done?t(c):Promise.resolve(c).then(r,i)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){Va(o,r,i,s,a,"next",c)}function a(c){Va(o,r,i,s,a,"throw",c)}s(void 0)})}}function Q(e,t,n){return t=Zt(t),Ww(e,Ss()?Reflect.construct(t,n||[],Zt(e).constructor):t.apply(e,n))}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t,n){return Ss()?Bn=Reflect.construct:Bn=function(r,i,o){var s=[null];s.push.apply(s,i);var a=Function.bind.apply(r,s),c=new a;return o&&Xt(c,o.prototype),c},Bn.apply(null,arguments)}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t,n){return t&&Pw(e.prototype,t),e}function Rw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(e)}function G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}function Fw(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Rw(e,i,n[i])})}return e}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}function Vu(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Ww(e,t){return t&&(qu(t)==="object"||typeof t=="function")?t:Lw(e)}function Xt(e,t){return Xt=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xt(e,t)}function qu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function Ti(e){var t=typeof Map=="function"?new Map:void 0;return Ti=function(n){if(n===null||!Fw(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return Bn(n,arguments,Zt(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xt(r,n)},Ti(e)}function Ss(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ss=function(){return!!e})()}function Y(e,t){var n,r,i,o,s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=l[0]&2?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){s=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(l[0]===6&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(u){l=[6,u],r=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Qu="5.5.0",Hw=function(){function e(){q(this,e),this.aptosGAID="G-GNVVWBL3J9",this.injectGA(this.aptosGAID)}return Hu(e,[{key:"gtag",value:function(t,n,r){var i=window.dataLayer||[];i.push(arguments)}},{key:"injectGA",value:function(t){if(!(typeof window>"u")&&t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(t));var i=this;r.onload=function(){i.gtag("js",new Date),i.gtag("config","".concat(t),{send_page_view:!1})},n.insertBefore(r,n.children[1])}}}]),e}(),ne=function(e){G(t,e);function t(n,r){q(this,t);var i;return i=Q(this,t,[n]),i.error=r,i}return t}(Ti(Error)),Vw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNotSelectedError",n}return t}(ne),qw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNotReadyError",n}return t}(ne),ye=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletConnectionError",n}return t}(ne),Qw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletDisconnectionError",n}return t}(ne),qa=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletAccountError",n}return t}(ne),Gw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletGetNetworkError",n}return t}(ne),$w=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletAccountChangeError",n}return t}(ne),Yw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNetworkChangeError",n}return t}(ne),Jw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNotConnectedError",n}return t}(ne),Zw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletSignMessageError",n}return t}(ne),Xw=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletSignMessageAndVerifyError",n}return t}(ne),_i=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletSignAndSubmitMessageError",n}return t}(ne),em=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletSignTransactionError",n}return t}(ne),Qa=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNotSupportedMethod",n}return t}(ne),Ga=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletChangeNetworkError",n}return t}(ne),tm=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletSubmitTransactionError",n}return t}(ne),nm=function(e){G(t,e);function t(){q(this,t);var n;return n=Q(this,t,arguments),n.name="WalletNotFoundError",n}return t}(ne),Gu=function(e){return e.Installed="Installed",e.NotDetected="NotDetected",e}(Gu||{}),rm={1:"mainnet",2:"testnet"};function im(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)}function sm(){var e=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),t=/(Android).*Version\/[\d.]+.*Chrome\/[^\s]+ Mobile/i.test(navigator.userAgent);return e||t}function am(){return typeof navigator>"u"||!navigator?!1:im()&&!sm()}function Te(e){return(typeof e>"u"?"undefined":qu(e))==="object"&&"message"in e?e.message:e}var pt=function(e,t){if(!e)throw new Error("Undefined network");if($u(e)){var n=um(e);if(om(n)){var r=t==null?void 0:t.aptosApiKeys;return new Ht({network:n,clientConfig:{API_KEY:r?r[n]:void 0}})}return new Ht({network:n})}var i={okx:"https://wallet.okx.com/fullnode/aptos/discover/rpc"};if(e.url){var o=Object.values(i).includes(e.url);if(o)return new Ht({network:k.CUSTOM,fullnode:e.url})}throw new Error("Invalid network, network ".concat(e.name," not supported with Aptos wallet adapter to prevent user from using an unexpected network."))},$u=function(e){if(!e)throw new Error("Undefined network");return Or[e.name]!==void 0},om=function(e){return e==="devnet"||e==="testnet"||e==="mainnet"},cm=function(){var e=$(function(){var t;return Y(this,function(n){switch(n.label){case 0:return t=new Ze,[4,t.getChainId()];case 1:return[2,n.sent()]}})});return function(){return e.apply(this,arguments)}}(),lm=function(e){var t=e.data.functionArguments[0];typeof t=="string"&&(t=we.fromHexInput(t).toUint8Array());var n=e.data.functionArguments[1];if(Array.isArray(n))n=n.map(function(r){return typeof r=="string"?we.fromHexInput(r).toUint8Array():r});else throw new _i("The bytecode argument must be an array.").message;return{metadataBytes:t,byteCode:n}};function um(e){switch(e==null?void 0:e.name){case"mainnet":return k.MAINNET;case"testnet":return k.TESTNET;case"devnet":return k.DEVNET;case"local":return k.LOCAL;default:throw new Error("Invalid Aptos network name")}}var Yu="AptosWalletName";function dm(e){localStorage.setItem(Yu,e)}function fm(){localStorage.removeItem(Yu)}var hm=[{name:"Nightly",url:"https://nightly.app/",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iV2Fyc3R3YV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDg1MS41IDg1MS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4NTEuNSA4NTEuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzYwNjdGOTt9DQoJLnN0MXtmaWxsOiNGN0Y3Rjc7fQ0KPC9zdHlsZT4NCjxnPg0KCTxnIGlkPSJXYXJzdHdhXzJfMDAwMDAwMTQ2MDk2NTQyNTMxODA5NDY0NjAwMDAwMDg2NDc4NTIwMDIxMTY5MTg2ODhfIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNCwwaDYwMy42YzY4LjUsMCwxMjQsNTUuNSwxMjQsMTI0djYwMy42YzAsNjguNS01NS41LDEyNC0xMjQsMTI0SDEyNGMtNjguNSwwLTEyNC01NS41LTEyNC0xMjRWMTI0DQoJCQlDMCw1NS41LDU1LjUsMCwxMjQsMHoiLz4NCgk8L2c+DQoJPGcgaWQ9IldhcnN0d2FfMyI+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MjMuNSwxNzAuM2MtMzcuNCw1Mi4yLTg0LjIsODguNC0xMzkuNSwxMTIuNmMtMTkuMi01LjMtMzguOS04LTU4LjMtNy44Yy0xOS40LTAuMi0zOS4xLDIuNi01OC4zLDcuOA0KCQkJYy01NS4zLTI0LjMtMTAyLjEtNjAuMy0xMzkuNS0xMTIuNmMtMTEuMywyOC40LTU0LjgsMTI2LjQtMi42LDI2My40YzAsMC0xNi43LDcxLjUsMTQsMTMyLjljMCwwLDQ0LjQtMjAuMSw3OS43LDguMg0KCQkJYzM2LjksMjkuOSwyNS4xLDU4LjcsNTEuMSw4My41YzIyLjQsMjIuOSw1NS43LDIyLjksNTUuNywyMi45czMzLjMsMCw1NS43LTIyLjhjMjYtMjQuNywxNC4zLTUzLjUsNTEuMS04My41DQoJCQljMzUuMi0yOC4zLDc5LjctOC4yLDc5LjctOC4yYzMwLjYtNjEuNCwxNC0xMzIuOSwxNC0xMzIuOUM2NzguMywyOTYuNyw2MzQuOSwxOTguNyw2MjMuNSwxNzAuM3ogTTI1My4xLDQxNC44DQoJCQljLTI4LjQtNTguMy0zNi4yLTEzOC4zLTE4LjMtMjAxLjVjMjMuNyw2MCw1NS45LDg2LjksOTQuMiwxMTUuM0MzMTIuOCwzNjIuMywyODIuMywzOTQuMSwyNTMuMSw0MTQuOHogTTMzNC44LDUxNy41DQoJCQljLTIyLjQtOS45LTI3LjEtMjkuNC0yNy4xLTI5LjRjMzAuNS0xOS4yLDc1LjQtNC41LDc2LjgsNDAuOUMzNjAuOSw1MTQuNywzNTMsNTI1LjQsMzM0LjgsNTE3LjV6IE00MjUuNyw2NzguNw0KCQkJYy0xNiwwLTI5LTExLjUtMjktMjUuNnMxMy0yNS42LDI5LTI1LjZzMjksMTEuNSwyOSwyNS42QzQ1NC43LDY2Ny4zLDQ0MS43LDY3OC43LDQyNS43LDY3OC43eiBNNTE2LjcsNTE3LjUNCgkJCWMtMTguMiw4LTI2LTIuOC00OS43LDExLjVjMS41LTQ1LjQsNDYuMi02MC4xLDc2LjgtNDAuOUM1NDMuOCw0ODgsNTM5LDUwNy42LDUxNi43LDUxNy41eiBNNTk4LjMsNDE0LjgNCgkJCWMtMjkuMS0yMC43LTU5LjctNTIuNC03Ni04Ni4yYzM4LjMtMjguNCw3MC42LTU1LjQsOTQuMi0xMTUuM0M2MzQuNiwyNzYuNSw2MjYuOCwzNTYuNiw1OTguMyw0MTQuOHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"nightly://v1?network=aptos&url="},{name:"Petra",url:"https://chromewebstore.google.com/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci?hl=en",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWbSURBVHgB7Z09c9NYFIaPlFSpUqQNK6rQhbSkWJghLZP9BesxfwAqytg1xe7+AY+3go5ACzObBkpwSqrVQkuRCiqkva8UZW1je22wpHPveZ8ZRU6wwwznueee+6FLJCuSdzrb7nZTNjaOJc9/ctdNiaJESPPkeeq+phLH5/L162k0HJ7JikTLvtEFPnFBf+D+0l/dt9tCNJK6xnjmZOg7GdJlPvC/AhQtPo5P3MsHQvwhiobLiLBQABf82y74z4Qt3ldSybKHToLTeW+I5/1B3u2euOD/JQy+zyRowEUs5zAzA1x+oCckJHrRYNCf/uE3AjD4QfONBBMC5PfvY2j3TEi4ZNmd8eHilQDFMK/s8xMhIXPhJLjuJLjAN/8VgRsbPWHwLbAtm5tXRWGRAS5b/99C7FBmgbTMAGXrJ5aIomJir8wA3S5afyLEEkUtEBezfQy+RYpFvdilgmMhNnGxRw2wL8QqScy1fMNE0T4yQCLEKkksxDQUwDj2BNjbK69pdndn/zxwNsUCCOyNGyJ374psbYkMBiLv30++59o1kW5X5NMnkdFI5OXL8nXghCsAAn10NL/Fz2NnpxQFFyR5/bq8BypDWAIg6AcHIoeH60nn4/K8e1deECIgwhAAQULQEXxIUAf43bju3ZvMDJ7jrwDT/XpToIvABeECqBf8EuB7+/W6CKBe0C/Auvv1uvC0XtArQBP9el14VC/oEqCtfr0uPKgX2hdAW79eF0rrhfYFQPCRKi1RyY4ZyZYF4GKQcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcShAm3z+LG1DAdqEAhjn40dpGwrQFtgIwgxgGAWtH1CAtsC2cQVQgLZQsk2cArSBoqeHKEAbKHpiiAI0DVq+kv4fUICmQetXMPyroABNgtb/5o1oggI0icJzBChAUyDwr16JNihAUzx+LBqhAE3w5InaU0MoQN08f64y9VdQgDrBkO/FC9EMBagLBB/P/yvHxlGxTYPh3tOn4gMUYN2g4FPc509DAdYFqvxZh1ArhwKsg6rSVzTHvywU4EeoqnyPTxKnAKuCVo4iD4s6ARwhTwGWoTrk8e3bIE4IH4cCVCDI1U6dL1/K73Eh4B727ctCASoQ6MBa9zJwJtA4FMA4FMA4FMA4FMA4FMA4FMA4FMA47Qtg4P/n1Uz7AgQ8zeoD7Qug5KQMq+joApgFWkNHEWhwEUYLFMA4OgRQdGCCNXQIUG28II2jZyKIWaAV9Aig7OgUK+gRAMH36ImaUNC1FoDt1swCjaJLAAQfT9mQxtC3GohugCOCxtC5HIyHLNkVNIJOATAv4Mnz9b6jd0MIhoWsB2pH944gPHmLkQGpDf1bwtAVUILa8GNPICRgd1AL/mwKRXfA0cHa8WtXMArDfp8bSdeIf9vCEfxHj8psQBF+GH/PB0A2wIzhrVsih4ciOztCVsfvAyKQAVAbYPr44EDk6Ehkd1fI8oRxQggKQ2QEXMgEe3ulELhvbQmZT3hHxFRn+1Tn/UAAZAWIUXUTHz4IKQn/jCBkB6Pn/ywDHw41DgUwDgRIhVgljSWKzoXYJM+dAFmWCrHKeewsOBViExd71AAjd10IsUYaDYdnsfty4Uz4U4g1zvClHAbm+e9CbJFlfdwKAVwWSJ0EfwixwrCIuYxPBOV5T1gLWCCtWj+4EqCoBbLsFyFhk2UPq9YPJqaCURW6W19IqPRdjCeG/dGsd+Xdbs/dToSERD8aDHrTP4zmvZsSBMXM4INo0afyTudY4vg39zIR4iNFXXfZtc9k4XJw0V9k2R1OFHkIhvVZdn1R8MHCDDDx+zqdxK0c9tz1szAjaKWc1XUTe+OV/iKWFmAcJ8NtJ8Kxe7kvkCGKEiHN45Zz3b/9yN3/uVzUGxXD+RX4F56985hsqA6SAAAAAElFTkSuQmCC",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"https://petra.app/explore?link="},{name:"Pontem Wallet",url:"https://pontem.network/pontem-wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4IDBDOC4wNzMwNCAwIDAgOC4wNzEzOSAwIDE3Ljk5NjNDMCAyNS4xMjk4IDQuMTczMTYgMzEuMzEwOCAxMC4yMDc2IDM0LjIyMDNWMzQuMjM1MUgxMC4yMzcyQzEyLjU4NiAzNS4zNjQ5IDE1LjIyMjggMzYgMTggMzZDMjcuOTI3IDM2IDM2IDI3LjkyODYgMzYgMTguMDAzN0MzNiA4LjA3MTM4IDI3LjkyNyAwIDE4IDBaTTE4IDEuNDc2OTJDMjcuMTA3MSAxLjQ3NjkyIDM0LjUyMjggOC44OTEwOCAzNC41MjI4IDE3Ljk5NjNDMzQuNTIyOCAyMC42MTA1IDMzLjkwOTcgMjMuMDkxNyAzMi44MjQgMjUuMjkyM0MzMC40NDU2IDI0LjE0MDMgMjguMDMwNCAyMy4yODM3IDI1LjU5MjkgMjIuNzAwM1Y4LjkyMDYyQzI1LjU5MjkgOC40NDA2MiAyNS4yMTYyIDguMDU2NjIgMjQuNzQzNSA4LjA1NjYySDIxLjcxNTJIMTQuMDg1NEgxMS4wNTdDMTAuNTkxNyA4LjA1NjYyIDEwLjIwNzYgOC40NDA2MiAxMC4yMDc2IDguOTIwNjJWMjIuNzY2OEM3Ljg0NDA3IDIzLjM1MDIgNS40OTUyOCAyNC4xOTIgMy4xODM0MiAyNS4yOTk3QzIuMDkwMjcgMjMuMDkxNyAxLjQ3NzIzIDIwLjYxNzggMS40NzcyMyAxNy45OTYzQzEuNDc3MjMgOC44OTEwOCA4Ljg5MjkgMS40NzY5MiAxOCAxLjQ3NjkyWk00LjEzNjIzIDI2Ljk2MTJDNi4wOTM1NiAyNS45OTM4IDguMTI0NzQgMjUuMjQ4IDEwLjIxNSAyNC43MzExVjMyLjU1ODhDNy43NDA2NiAzMS4yMzY5IDUuNjUwMzkgMjkuMzAyMiA0LjEzNjIzIDI2Ljk2MTJaTTE0LjA4NTQgMzQuMDQzMVYxNS42MDM3QzE0LjA4NTQgMTMuNDY5NSAxNS44MzU5IDExLjcwNDYgMTcuOTI2MSAxMS43MDQ2QzIwLjAxNjQgMTEuNzA0NiAyMS43MTUyIDEzLjQzMjYgMjEuNzE1MiAxNS41NTk0QzIxLjcxNTIgMTUuNTc0MiAyMS43MDc4IDE1LjU4ODkgMjEuNzA3OCAxNS42MDM3SDIxLjcxNTJWMjIuMDIwOUMxOS45MzUyIDIxLjgxNDIgMTguMTQ3NyAyMS43NDc3IDE2LjM2MDMgMjEuODQzN0wxNC44OTA0IDIzLjk3NzhDMTcuMTgwMSAyMy43ODU4IDE5LjQxMDcgMjMuODAwNiAyMS42MTE4IDI0LjA1MTdDMjEuNjM0IDI0LjA1MTcgMjEuNjQ4NyAyNC4wNTE3IDIxLjY3MDkgMjQuMDU5MUMyMS42ODU3IDI0LjA1OTEgMjEuNzAwNSAyNC4wNTkxIDIxLjcyMjYgMjQuMDY2NUMyMi4xMDY3IDI0LjExMDggMjMuNTAyNyAyNC4yODggMjQuNzgwNSAyNC42MDU1TDIxLjcyMjYgMjUuNjQ2OFYzNC4xMDIyQzIwLjUyNjEgMzQuMzc1NCAxOS4yODUyIDM0LjUzMDUgMTguMDE0OCAzNC41MzA1QzE2LjY0ODMgMzQuNTE1NyAxNS4zNDEgMzQuMzQ1OCAxNC4wODU0IDM0LjA0MzFaTTI1LjU4NTYgMzIuNjYyMlYyNC43NjhDMjcuNjY4NCAyNS4yOTIzIDI5LjcyOTIgMjYuMDYwMyAzMS43OTczIDI3LjA2NDZDMzAuMjQ2MiAyOS40MjAzIDI4LjEwNDIgMzEuMzU1MSAyNS41ODU2IDMyLjY2MjJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjIyXzE2NzApIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIyXzE2NzAiIHgxPSIxNy45OTk3IiB5MT0iMzYuNzc4OSIgeDI9IjE3Ljk5OTciIHkyPSItNS41MTk3OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDg1OCIgc3RvcC1jb2xvcj0iIzhEMjlDMSIvPgo8c3RvcCBvZmZzZXQ9IjAuMjM4MyIgc3RvcC1jb2xvcj0iIzk0MkJCQiIvPgo8c3RvcCBvZmZzZXQ9IjAuNDY2NyIgc3RvcC1jb2xvcj0iI0E5MkZBQyIvPgo8c3RvcCBvZmZzZXQ9IjAuNzQxMyIgc3RvcC1jb2xvcj0iI0NBMzc5MyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGMDNGNzciLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",readyState:"NotDetected",isAIP62Standard:!0},{name:"Rimosafe",url:"https://chromewebstore.google.com/detail/rimo-safe-wallet/kiicddjcakdmobjkcpppkgcjbpakcagp",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiLz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLCAzKSBzY2FsZSgwLjgpIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjkuNTMxMSA5Ljg0MzY5VjBIMTkuNjg3NEwxOS42ODc3IDAuMDAwMzQwNTU1TDAgMC4wMDAzNDE0MTVMNC4zMjEzNGUtMDcgOS44NDQwM0g5Ljg0MzY5QzQuNDA3MTcgOS44NDQwMyAwIDE0LjI1MTIgMCAxOS42ODc3VjMwLjAwMDFIOS44NDM2OVYxOS42ODc5TDE5LjY4NzEgMzAuMDAwMUwxOS42ODcxIDE5LjY4NzdMMjkuNTMwOCA5Ljg0NDAzTDI5LjUzMTEgOS44NDQwM1Y5Ljg0MzY1TDI5LjUzMTEgOS44NDM2OVpNMTkuNjg3MSAxOS42ODc2TDE5LjY4NzEgOS44NDQwM0g5Ljg0MzY5VjE5LjY4NzZIMTkuNjg3MVpNMjkuNTMxMSA5Ljg0MzY1TDE5LjY4NzcgMC4wMDAzNDA1NTVMMjkuNTMxMSAwLjAwMDM0MDEyNVY5Ljg0MzY1Wk0xOS42ODc0IDE5LjY4NzZIMjkuNTMxMVYzMC4wMDAxSDE5LjY4NzRWMTkuNjg3NloiIGZpbGw9IiNGRjVDMjgiLz4KICA8L2c+Cjwvc3ZnPgo=",readyState:"NotDetected",isAIP62Standard:!0},{name:"OKX Wallet",url:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",readyState:"NotDetected",isAIP62Standard:!0}];function pm(e){var t=[];return typeof window<"u"&&t.push(new xw(Vt({network:e==null?void 0:e.network,dappId:e==null?void 0:e.aptosConnectDappId},e==null?void 0:e.aptosConnect)),new kw(Vt({network:e==null?void 0:e.network,dappId:e==null?void 0:e.aptosConnectDappId},e==null?void 0:e.aptosConnect))),(e==null?void 0:e.network)===k.MAINNET?t.push(new Ku):t.push(new Dw),e!=null&&e.network&&t.push(new Bw(Vu(Vt({},e==null?void 0:e.msafeWalletConfig),{network:e.network}))),t}var gm=function(e){G(t,e);function t(n,r,i){q(this,t);var o;return o=Q(this,t),o._wallet=null,o._sdkWallets=[],o._standard_wallets=[],o._standard_not_detected_wallets=[],o._network=null,o._connected=!1,o._connecting=!1,o._account=null,o._optInWallets=[],o._disableTelemetry=!1,o.ga4=null,o._optInWallets=n||[],o._dappConfig=r,o._disableTelemetry=i??!1,o._sdkWallets=pm(o._dappConfig),o._disableTelemetry||(o.ga4=new Hw),o.fetchExtensionAIP62AptosWallets(),o.fetchSDKAIP62AptosWallets(),o.appendNotDetectedStandardSupportedWallets(),o}return Hu(t,[{key:"fetchExtensionAIP62AptosWallets",value:function(){var n=pr(),r=n.aptosWallets,i=n.on;if(this.setExtensionAIP62Wallets(r),!(typeof window>"u")){var o=this;i("register",function(){var s=pr(),a=s.aptosWallets;o.setExtensionAIP62Wallets(a)}),i("unregister",function(){var s=pr(),a=s.aptosWallets;o.setExtensionAIP62Wallets(a)})}}},{key:"setExtensionAIP62Wallets",value:function(n){var r=this;n.map(function(i){if(!r.excludeWallet(i)){r._standard_wallets=r._standard_wallets.filter(function(a){return a.name!==i.name});var o=jr(i);if(o){var s=r._standard_not_detected_wallets.findIndex(function(a){return a.name==i.name});s!==-1&&r._standard_not_detected_wallets.splice(s,1),i.readyState="Installed",r._standard_wallets.push(i),r.emit("standardWalletsAdded",i)}}})}},{key:"fetchSDKAIP62AptosWallets",value:function(){var n=this;this._sdkWallets.map(function(r){if(!n.excludeWallet(r)){var i=jr(r);i&&(r.readyState="Installed",n._standard_wallets.push(r))}})}},{key:"appendNotDetectedStandardSupportedWallets",value:function(){var n=this;hm.map(function(r){var i=n._standard_wallets.find(function(o){return o.name==r.name});i||n.excludeWallet(r)||i||(n._standard_not_detected_wallets.push(r),n.emit("standardNotDetectedWalletAdded",r))})}},{key:"excludeWallet",value:function(n){return this._optInWallets.length>0&&!this._optInWallets.includes(n.name)}},{key:"recordEvent",value:function(n,r){var i,o,s,a;(a=this.ga4)===null||a===void 0||a.gtag("event","wallet_adapter_".concat(n),Vt({wallet:(i=this._wallet)===null||i===void 0?void 0:i.name,network:(o=this._network)===null||o===void 0?void 0:o.name,network_url:(s=this._network)===null||s===void 0?void 0:s.url,adapter_core_version:Qu,send_to:"G-GNVVWBL3J9"},r))}},{key:"ensureWalletExists",value:function(n){if(!n)throw new Jw().name;if(n.readyState!=="Installed")throw new qw("Wallet is not set").name}},{key:"ensureAccountExists",value:function(n){if(!n)throw new qa("Account is not set").name}},{key:"setAnsName",value:function(){var n=this;return $(function(){var r,i,o,s,a;return Y(this,function(c){switch(c.label){case 0:if(!(!((r=n._network)===null||r===void 0)&&r.chainId&&n._account))return[3,4];if(n._account.ansName)return[2];if(!rm[n._network.chainId]||!$u(n._network))return n._account.ansName=void 0,[2];i=pt(n._network,n._dappConfig),o=new Ze(i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.ans.getPrimaryName({address:n._account.address.toString()})];case 2:return s=c.sent(),n._account.ansName=s,[3,4];case 3:return a=c.sent(),console.log("Error setting ANS name ".concat(a)),[3,4];case 4:return[2]}})})()}},{key:"clearData",value:function(){this._connected=!1,this.setWallet(null),this.setAccount(null),this.setNetwork(null),fm()}},{key:"setWallet",value:function(n){this._wallet=n}},{key:"setAccount",value:function(n){this._account=n}},{key:"setNetwork",value:function(n){this._network=n}},{key:"isConnected",value:function(){return this._connected}},{key:"wallets",get:function(){return this._standard_wallets}},{key:"notDetectedWallets",get:function(){return this._standard_not_detected_wallets}},{key:"wallet",get:function(){try{return this._wallet?this._wallet:null}catch(n){throw new Vw(n).message}}},{key:"account",get:function(){try{return this._account}catch(n){throw new qa(n).message}}},{key:"network",get:function(){try{return this._network}catch(n){throw new Gw(n).message}}},{key:"connect",value:function(n){var r=this;return $(function(){var i,o,s,a,c,l,u;return Y(this,function(d){switch(d.label){case 0:if(am()&&(i=r._standard_not_detected_wallets.find(function(f){return f.name===n}),i&&(o=i,o.deeplinkProvider)))return s=encodeURIComponent(window.location.href),a=o.deeplinkProvider.concat(s),window.location.href=a,[2];if(c=r._standard_wallets,l=c.find(function(f){return f.name===n}),!l)return[2];if(r._connected&&r._account&&((u=r._wallet)===null||u===void 0?void 0:u.name)===n)throw new ye("".concat(n," wallet is already connected")).message;return[4,r.connectWallet(l,$(function(){var f;return Y(this,function(h){switch(h.label){case 0:return[4,l.features["aptos:connect"].connect()];case 1:if(f=h.sent(),f.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,{account:f.args,output:void 0}]}})}))];case 1:return d.sent(),[2]}})})()}},{key:"signIn",value:function(n){var r=this;return $(function(){var i,o,s,a;return Y(this,function(c){switch(c.label){case 0:if(i=n.input,o=n.walletName,s=r._standard_wallets,a=s.find(function(l){return l.name===o}),!a)throw new nm("Wallet ".concat(o," not found")).message;if(!a.features["aptos:signIn"])throw new Qa("aptos:signIn is not supported by ".concat(o)).message;return[4,r.connectWallet(a,$(function(){var l;return Y(this,function(u){switch(u.label){case 0:if(!a.features["aptos:signIn"])throw new Qa("aptos:signIn is not supported by ".concat(a.name)).message;return[4,a.features["aptos:signIn"].signIn(i)];case 1:if(l=u.sent(),l.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,{account:l.args.account,output:l.args}]}})}))];case 1:return[2,c.sent()]}})})()}},{key:"connectWallet",value:function(n,r){var i=this;return $(function(){var o,s,a,c,l,u;return Y(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,5,6]),i._connecting=!0,i.setWallet(n),[4,r()];case 1:return o=d.sent(),s=o.account,a=o.output,i.setAccount(s),[4,n.features["aptos:network"].network()];case 2:return c=d.sent(),i.setNetwork(c),[4,i.setAnsName()];case 3:return d.sent(),dm(n.name),i._connected=!0,i.recordEvent("wallet_connect"),i.emit("connect",s),[2,a];case 4:throw l=d.sent(),i.clearData(),u=Te(l),new ye(u).message;case 5:return i._connecting=!1,[7];case 6:return[2]}})})()}},{key:"disconnect",value:function(){var n=this;return $(function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n.ensureWalletExists(n._wallet),[4,n._wallet.features["aptos:disconnect"].disconnect()];case 1:return o.sent(),n.clearData(),n.recordEvent("wallet_disconnect"),n.emit("disconnect"),[3,3];case 2:throw r=o.sent(),i=Te(r),new Qw(i).message;case 3:return[2]}})})()}},{key:"signAndSubmitTransaction",value:function(n){var r=this;return $(function(){var i,o,s,a,c,l,u,d,f,h,y,p,z,E,v,T;return Y(this,function(M){switch(M.label){case 0:if(M.trys.push([0,9,,10]),"function"in n.data){if(n.data.function==="0x1::account::rotate_authentication_key_call")throw new _i("SCAM SITE DETECTED").message;n.data.function==="0x1::code::publish_package_txn"&&(i=lm(n),n.data.functionArguments[0]=i.metadataBytes,n.data.functionArguments[1]=i.byteCode)}return r.ensureWalletExists(r._wallet),r.ensureAccountExists(r._account),r.recordEvent("sign_and_submit_transaction"),r._wallet.features["aptos:signAndSubmitTransaction"]?r._wallet.features["aptos:signAndSubmitTransaction"].version==="1.1.0"?[3,3]:(a=pt(r._network,r._dappConfig),c=new Ze(a),[4,c.transaction.build.simple({sender:r._account.address.toString(),data:n.data,options:n.options})]):[3,5];case 1:return l=M.sent(),u=r._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction,[4,u(l)];case 2:if(d=M.sent(),d.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,d.args];case 3:return[4,r._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction({payload:n.data,gasUnitPrice:(o=n.options)===null||o===void 0?void 0:o.gasUnitPrice,maxGasAmount:(s=n.options)===null||s===void 0?void 0:s.maxGasAmount})];case 4:if(f=M.sent(),f.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,f.args];case 5:return h=pt(r._network,r._dappConfig),y=new Ze(h),[4,y.transaction.build.simple({sender:r._account.address,data:n.data,options:n.options})];case 6:return p=M.sent(),[4,r.signTransaction({transactionOrPayload:p})];case 7:return z=M.sent(),[4,r.submitTransaction({transaction:p,senderAuthenticator:z.authenticator})];case 8:return E=M.sent(),[2,{hash:E.hash}];case 9:throw v=M.sent(),T=Te(v),new _i(T).message;case 10:return[2]}})})()}},{key:"signTransaction",value:function(n){var r=this;return $(function(){var i,o,s,a,c,l,u,d,f,h,y,p,z,E,v,T,M,L,re,fe,H;return Y(this,function(P){switch(P.label){case 0:i=n.transactionOrPayload,o=n.asFeePayer,P.label=1;case 1:return P.trys.push([1,9,,10]),r.ensureWalletExists(r._wallet),r.ensureAccountExists(r._account),r.recordEvent("sign_transaction"),"rawTransaction"in i?[4,(a=r._wallet)===null||a===void 0?void 0:a.features["aptos:signTransaction"].signTransaction(i,o)]:[3,3];case 2:if(c=P.sent(),c.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,{authenticator:c.args,rawTransaction:i.rawTransaction.bcsToBytes()}];case 3:return((s=r._wallet.features["aptos:signTransaction"])===null||s===void 0?void 0:s.version)!=="1.1"?[3,5]:(p={payload:i.data,expirationTimestamp:(l=i.options)===null||l===void 0?void 0:l.expirationTimestamp,expirationSecondsFromNow:(u=i.options)===null||u===void 0?void 0:u.expirationSecondsFromNow,gasUnitPrice:(d=i.options)===null||d===void 0?void 0:d.gasUnitPrice,maxGasAmount:(f=i.options)===null||f===void 0?void 0:f.maxGasAmount,sequenceNumber:(h=i.options)===null||h===void 0?void 0:h.accountSequenceNumber,sender:i.sender?{address:x.from(i.sender)}:void 0},z=(y=r._wallet)===null||y===void 0?void 0:y.features["aptos:signTransaction"].signTransaction,[4,z(p)]);case 4:if(E=P.sent(),E.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,{authenticator:E.args.authenticator,rawTransaction:E.args.rawTransaction.bcsToBytes()}];case 5:return T=pt(r._network,r._dappConfig),M=new Ze(T),[4,M.transaction.build.simple({sender:r._account.address,data:i.data,options:i.options,withFeePayer:i.withFeePayer})];case 6:return L=P.sent(),[4,(v=r._wallet)===null||v===void 0?void 0:v.features["aptos:signTransaction"].signTransaction(L,o)];case 7:if(re=P.sent(),re.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,{authenticator:re.args,rawTransaction:L.bcsToBytes()}];case 8:return[3,10];case 9:throw fe=P.sent(),H=Te(fe),new em(H).message;case 10:return[2]}})})()}},{key:"signMessage",value:function(n){var r=this;return $(function(){var i,o,s,a,c;return Y(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),r.ensureWalletExists(r._wallet),r.recordEvent("sign_message"),[4,(o=r._wallet)===null||o===void 0||(i=o.features["aptos:signMessage"])===null||i===void 0?void 0:i.signMessage(n)];case 1:if(s=l.sent(),s.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,s.args];case 2:throw a=l.sent(),c=Te(a),new Zw(c).message;case 3:return[2]}})})()}},{key:"submitTransaction",value:function(n){var r=this;return $(function(){var i,o,s,a,c,l;return Y(this,function(u){try{return r.ensureWalletExists(r._wallet),i=n.additionalSignersAuthenticators,o=i!==void 0?"multi-agent":"simple",r.recordEvent("submit_transaction",{transaction_type:o}),s=pt(r._network,r._dappConfig),a=new Ze(s),i!==void 0?(c=Vu(Vt({},n),{additionalSignersAuthenticators:i}),[2,a.transaction.submit.multiAgent(c)]):[2,a.transaction.submit.simple(n)]}catch(d){throw l=Te(d),new tm(l).message}return[2]})})()}},{key:"onAccountChange",value:function(){var n=this;return $(function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n.ensureWalletExists(n._wallet),[4,(r=n._wallet.features["aptos:onAccountChange"])===null||r===void 0?void 0:r.onAccountChange(function(){var a=$(function(c){return Y(this,function(l){switch(l.label){case 0:return n.setAccount(c),[4,n.setAnsName()];case 1:return l.sent(),n.recordEvent("account_change"),n.emit("accountChange",n._account),[2]}})});return function(c){return a.apply(this,arguments)}}())];case 1:return s.sent(),[3,3];case 2:throw i=s.sent(),o=Te(i),new $w(o).message;case 3:return[2]}})})()}},{key:"onNetworkChange",value:function(){var n=this;return $(function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n.ensureWalletExists(n._wallet),[4,(r=n._wallet.features["aptos:onNetworkChange"])===null||r===void 0?void 0:r.onNetworkChange(function(){var a=$(function(c){return Y(this,function(l){switch(l.label){case 0:return n.setNetwork(c),[4,n.setAnsName()];case 1:return l.sent(),n.emit("networkChange",n._network),[2]}})});return function(c){return a.apply(this,arguments)}}())];case 1:return s.sent(),[3,3];case 2:throw i=s.sent(),o=Te(i),new Yw(o).message;case 3:return[2]}})})()}},{key:"changeNetwork",value:function(n){var r=this;return $(function(){var i,o,s,a,c,l,u;return Y(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),r.ensureWalletExists(r._wallet),r.recordEvent("change_network_request",{from:(i=r._network)===null||i===void 0?void 0:i.name,to:n}),n!==k.DEVNET?[3,2]:[4,cm()];case 1:return s=d.sent(),[3,3];case 2:s=_e[n],d.label=3;case 3:return o=s,a={name:n,chainId:o},r._wallet.features["aptos:changeNetwork"]?[4,r._wallet.features["aptos:changeNetwork"].changeNetwork(a)]:[3,5];case 4:if(c=d.sent(),c.status===D.REJECTED)throw new ye("User has rejected the request").message;return[2,c.args];case 5:throw new Ga("".concat(r._wallet.name," does not support changing network request")).message;case 6:throw l=d.sent(),u=Te(l),new Ga(u).message;case 7:return[2]}})})()}},{key:"signMessageAndVerify",value:function(n){var r=this;return $(function(){var i,o,s,a,c;return Y(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),r.ensureWalletExists(r._wallet),r.ensureAccountExists(r._account),r.recordEvent("sign_message_and_verify"),[4,r._wallet.features["aptos:signMessage"].signMessage(n)];case 1:if(i=l.sent(),i.status===D.REJECTED)throw new ye("Failed to sign a message").message;return o=pt(r._network,r._dappConfig),s=new TextEncoder().encode(i.args.fullMessage),"verifySignatureAsync"in r._account.publicKey?[4,r._account.publicKey.verifySignatureAsync({aptosConfig:o,message:s,signature:i.args.signature,options:{throwErrorWithReason:!0}})]:[3,3];case 2:return[2,l.sent()];case 3:return[2,r._account.publicKey.verifySignature({message:s,signature:i.args.signature})];case 4:throw a=l.sent(),c=Te(a),new Xw(c).message;case 5:return[2]}})})()}}]),t}(vd);typeof window<"u"&&(window.WALLET_ADAPTER_CORE_VERSION=Qu);class $a extends td{constructor(t,n){super(),this.selectedAptosWallet=t,this.walletCore=n}static walletCoreFactory(t={network:"mainnet"},n=["Petra","Pontem Wallet","Nightly"]){return new gm(n,t,!0)}getName(){return this.selectedAptosWallet.name}getUrl(){return this.selectedAptosWallet.url}async connect(){var t,n;return await this.walletCore.connect(this.selectedAptosWallet.name),this.address=(n=(t=this.walletCore.account)==null?void 0:t.address)==null?void 0:n.toString(),this.walletCore.on("accountChange",r=>{var i;this.address=(i=r==null?void 0:r.address)==null?void 0:i.toString()}),this.network=this.walletCore.network||void 0,this.walletCore.on("networkChange",r=>{this.network=r||void 0}),this.walletCore.on("disconnect",()=>{this.emit("disconnect")}),this.getAddresses()}getNetworkInfo(){return this.network}isConnected(){return this.walletCore.isConnected()}disconnect(){return this.walletCore.off("accountChange"),this.walletCore.off("networkChange"),this.walletCore.disconnect()}getChainId(){return _s}getAddress(){return this.address}getAddresses(){const t=this.getAddress();return t?[t]:[]}setMainAddress(){throw new Error("Not supported")}getBalance(){throw new Error("Not supported")}async signTransaction(t){return(await this.walletCore.signTransaction({transactionOrPayload:t})).authenticator}async sendTransaction(t){const n=await this.walletCore.submitTransaction(t.transaction);return{id:n.hash,data:{hash:n.hash}}}async signAndSendTransaction(t){const n=await this.walletCore.signAndSubmitTransaction(t);return{id:n.hash,data:{hash:n.hash}}}async signMessage(t){return this.walletCore.signMessage(t)}getIcon(){return this.selectedAptosWallet.icon}getWalletState(){const t=this.selectedAptosWallet.readyState||Gu.NotDetected;return nd[t]}getFeatures(){return Object.values(rd)}supportsChain(t){return t===_s}}function jm(){const e={network:ed.isMainnet?"mainnet":"testnet"},t={},n=$a.walletCoreFactory(e);return n.wallets.forEach(r=>{t[r.name]=new $a(r,n)}),t}async function Bm(e,t){const n=e.transaction;n.functionArguments=n.functionArguments.map(o=>o instanceof Uint8Array?Array.from(o):typeof o=="bigint"?o.toString():o);const r=await(await Xu()).getPlatform("Aptos").getRpc("Aptos"),i=await t.signAndSendTransaction({data:n,options:{expireTimestamp:Math.floor(Date.now()/1e3)+60*5}});return await r.waitForTransaction({transactionHash:i.id}),i}export{jm as fetchOptions,Bm as signAndSendTransaction};
