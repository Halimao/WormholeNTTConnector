var f=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},w=function(e,t,r,n,d){if(typeof t=="function"?e!==t||!d:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},c;let i;const l=new Set;function p(e){a=void 0,l.add(e)}function h(e){a=void 0,l.delete(e)}const o={};function y(){if(i||(i=Object.freeze({register:s,get:v,on:g}),typeof window>"u"))return i;const e=Object.freeze({register:s});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new b(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return i}function s(...e){var t;return e=e.filter(r=>!l.has(r)),e.length?(e.forEach(r=>p(r)),(t=o.register)==null||t.forEach(r=>u(()=>r(...e))),function(){var r;e.forEach(n=>h(n)),(r=o.unregister)==null||r.forEach(n=>u(()=>n(...e)))}):()=>{}}let a;function v(){return a||(a=[...l]),a}function g(e,t){var r;return(r=o[e])!=null&&r.push(t)||(o[e]=[t]),function(){var n;o[e]=(n=o[e])==null?void 0:n.filter(d=>t!==d)}}function u(e){try{e()}catch(t){console.error(t)}}class b extends Event{get detail(){return f(this,c,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),c.set(this,void 0),w(this,c,t)}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}c=new WeakMap;export{y as m};
